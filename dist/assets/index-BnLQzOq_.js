function uN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var JV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var M1={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5;function hN(){if(J5)return yf;J5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return yf.Fragment=e,yf.jsx=t,yf.jsxs=t,yf}var Z5;function dN(){return Z5||(Z5=1,M1.exports=hN()),M1.exports}var A=dN(),j1={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function fN(){if(ex)return pn;ex=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function w(J){return J===null||typeof J!="object"?null:(J=b&&J[b]||J["@@iterator"],typeof J=="function"?J:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function I(J,ke,j){this.props=J,this.context=ke,this.refs=k,this.updater=j||x}I.prototype.isReactComponent={},I.prototype.setState=function(J,ke){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ke,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function N(){}N.prototype=I.prototype;function M(J,ke,j){this.props=J,this.context=ke,this.refs=k,this.updater=j||x}var H=M.prototype=new N;H.constructor=M,C(H,I.prototype),H.isPureReactComponent=!0;var re=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function V(J,ke,j,G,ne,le){return j=le.ref,{$$typeof:n,type:J,key:ke,ref:j!==void 0?j:null,props:le}}function P(J,ke){return V(J.type,ke,void 0,void 0,void 0,J.props)}function U(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function Q(J){var ke={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(j){return ke[j]})}var O=/\/+/g;function D(J,ke){return typeof J=="object"&&J!==null&&J.key!=null?Q(""+J.key):ke.toString(36)}function B(){}function he(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(B,B):(J.status="pending",J.then(function(ke){J.status==="pending"&&(J.status="fulfilled",J.value=ke)},function(ke){J.status==="pending"&&(J.status="rejected",J.reason=ke)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function be(J,ke,j,G,ne){var le=typeof J;(le==="undefined"||le==="boolean")&&(J=null);var oe=!1;if(J===null)oe=!0;else switch(le){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(J.$$typeof){case n:case e:oe=!0;break;case g:return oe=J._init,be(oe(J._payload),ke,j,G,ne)}}if(oe)return ne=ne(J),oe=G===""?"."+D(J,0):G,re(ne)?(j="",oe!=null&&(j=oe.replace(O,"$&/")+"/"),be(ne,ke,j,"",function(Oe){return Oe})):ne!=null&&(U(ne)&&(ne=P(ne,j+(ne.key==null||J&&J.key===ne.key?"":(""+ne.key).replace(O,"$&/")+"/")+oe)),ke.push(ne)),1;oe=0;var Ne=G===""?".":G+":";if(re(J))for(var _e=0;_e<J.length;_e++)G=J[_e],le=Ne+D(G,_e),oe+=be(G,ke,j,le,ne);else if(_e=w(J),typeof _e=="function")for(J=_e.call(J),_e=0;!(G=J.next()).done;)G=G.value,le=Ne+D(G,_e++),oe+=be(G,ke,j,le,ne);else if(le==="object"){if(typeof J.then=="function")return be(he(J),ke,j,G,ne);throw ke=String(J),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ie(J,ke,j){if(J==null)return J;var G=[],ne=0;return be(J,G,"","",function(le){return ke.call(j,le,ne++)}),G}function pe(J){if(J._status===-1){var ke=J._result;ke=ke(),ke.then(function(j){(J._status===0||J._status===-1)&&(J._status=1,J._result=j)},function(j){(J._status===0||J._status===-1)&&(J._status=2,J._result=j)}),J._status===-1&&(J._status=0,J._result=ke)}if(J._status===1)return J._result.default;throw J._result}var fe=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ke=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ke))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function Le(){}return pn.Children={map:ie,forEach:function(J,ke,j){ie(J,function(){ke.apply(this,arguments)},j)},count:function(J){var ke=0;return ie(J,function(){ke++}),ke},toArray:function(J){return ie(J,function(ke){return ke})||[]},only:function(J){if(!U(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},pn.Component=I,pn.Fragment=t,pn.Profiler=i,pn.PureComponent=M,pn.StrictMode=r,pn.Suspense=h,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,pn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return K.H.useMemoCache(J)}},pn.cache=function(J){return function(){return J.apply(null,arguments)}},pn.cloneElement=function(J,ke,j){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var G=C({},J.props),ne=J.key,le=void 0;if(ke!=null)for(oe in ke.ref!==void 0&&(le=void 0),ke.key!==void 0&&(ne=""+ke.key),ke)!ge.call(ke,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&ke.ref===void 0||(G[oe]=ke[oe]);var oe=arguments.length-2;if(oe===1)G.children=j;else if(1<oe){for(var Ne=Array(oe),_e=0;_e<oe;_e++)Ne[_e]=arguments[_e+2];G.children=Ne}return V(J.type,ne,void 0,void 0,le,G)},pn.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s,_context:J},J},pn.createElement=function(J,ke,j){var G,ne={},le=null;if(ke!=null)for(G in ke.key!==void 0&&(le=""+ke.key),ke)ge.call(ke,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ne[G]=ke[G]);var oe=arguments.length-2;if(oe===1)ne.children=j;else if(1<oe){for(var Ne=Array(oe),_e=0;_e<oe;_e++)Ne[_e]=arguments[_e+2];ne.children=Ne}if(J&&J.defaultProps)for(G in oe=J.defaultProps,oe)ne[G]===void 0&&(ne[G]=oe[G]);return V(J,le,void 0,void 0,null,ne)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(J){return{$$typeof:c,render:J}},pn.isValidElement=U,pn.lazy=function(J){return{$$typeof:g,_payload:{_status:-1,_result:J},_init:pe}},pn.memo=function(J,ke){return{$$typeof:d,type:J,compare:ke===void 0?null:ke}},pn.startTransition=function(J){var ke=K.T,j={};K.T=j;try{var G=J(),ne=K.S;ne!==null&&ne(j,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Le,fe)}catch(le){fe(le)}finally{K.T=ke}},pn.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},pn.use=function(J){return K.H.use(J)},pn.useActionState=function(J,ke,j){return K.H.useActionState(J,ke,j)},pn.useCallback=function(J,ke){return K.H.useCallback(J,ke)},pn.useContext=function(J){return K.H.useContext(J)},pn.useDebugValue=function(){},pn.useDeferredValue=function(J,ke){return K.H.useDeferredValue(J,ke)},pn.useEffect=function(J,ke,j){var G=K.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(J,ke)},pn.useId=function(){return K.H.useId()},pn.useImperativeHandle=function(J,ke,j){return K.H.useImperativeHandle(J,ke,j)},pn.useInsertionEffect=function(J,ke){return K.H.useInsertionEffect(J,ke)},pn.useLayoutEffect=function(J,ke){return K.H.useLayoutEffect(J,ke)},pn.useMemo=function(J,ke){return K.H.useMemo(J,ke)},pn.useOptimistic=function(J,ke){return K.H.useOptimistic(J,ke)},pn.useReducer=function(J,ke,j){return K.H.useReducer(J,ke,j)},pn.useRef=function(J){return K.H.useRef(J)},pn.useState=function(J){return K.H.useState(J)},pn.useSyncExternalStore=function(J,ke,j){return K.H.useSyncExternalStore(J,ke,j)},pn.useTransition=function(){return K.H.useTransition()},pn.version="19.1.0",pn}var tx;function R2(){return tx||(tx=1,j1.exports=fN()),j1.exports}var ee=R2();const sc=cN(ee),nx=uN({__proto__:null,default:sc},[ee]);var F1={exports:{}},bf={},V1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function pN(){return rx||(rx=1,function(n){function e(ie,pe){var fe=ie.length;ie.push(pe);e:for(;0<fe;){var Le=fe-1>>>1,J=ie[Le];if(0<i(J,pe))ie[Le]=pe,ie[fe]=J,fe=Le;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var pe=ie[0],fe=ie.pop();if(fe!==pe){ie[0]=fe;e:for(var Le=0,J=ie.length,ke=J>>>1;Le<ke;){var j=2*(Le+1)-1,G=ie[j],ne=j+1,le=ie[ne];if(0>i(G,fe))ne<J&&0>i(le,G)?(ie[Le]=le,ie[ne]=fe,Le=ne):(ie[Le]=G,ie[j]=fe,Le=j);else if(ne<J&&0>i(le,fe))ie[Le]=le,ie[ne]=fe,Le=ne;else break e}}return pe}function i(ie,pe){var fe=ie.sortIndex-pe.sortIndex;return fe!==0?fe:ie.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],g=1,b=null,w=3,x=!1,C=!1,k=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(ie){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=ie)r(d),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(d)}}function K(ie){if(k=!1,re(ie),!C)if(t(h)!==null)C=!0,ge||(ge=!0,D());else{var pe=t(d);pe!==null&&be(K,pe.startTime-ie)}}var ge=!1,V=-1,P=5,U=-1;function Q(){return I?!0:!(n.unstable_now()-U<P)}function O(){if(I=!1,ge){var ie=n.unstable_now();U=ie;var pe=!0;try{e:{C=!1,k&&(k=!1,M(V),V=-1),x=!0;var fe=w;try{t:{for(re(ie),b=t(h);b!==null&&!(b.expirationTime>ie&&Q());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,w=b.priorityLevel;var J=Le(b.expirationTime<=ie);if(ie=n.unstable_now(),typeof J=="function"){b.callback=J,re(ie),pe=!0;break t}b===t(h)&&r(h),re(ie)}else r(h);b=t(h)}if(b!==null)pe=!0;else{var ke=t(d);ke!==null&&be(K,ke.startTime-ie),pe=!1}}break e}finally{b=null,w=fe,x=!1}pe=void 0}}finally{pe?D():ge=!1}}}var D;if(typeof H=="function")D=function(){H(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,he=B.port2;B.port1.onmessage=O,D=function(){he.postMessage(null)}}else D=function(){N(O,0)};function be(ie,pe){V=N(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var fe=w;w=pe;try{return ie()}finally{w=fe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=w;w=ie;try{return pe()}finally{w=fe}},n.unstable_scheduleCallback=function(ie,pe,fe){var Le=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Le+fe:Le):fe=Le,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=fe+J,ie={id:g++,callback:pe,priorityLevel:ie,startTime:fe,expirationTime:J,sortIndex:-1},fe>Le?(ie.sortIndex=fe,e(d,ie),t(h)===null&&ie===t(d)&&(k?(M(V),V=-1):k=!0,be(K,fe-Le))):(ie.sortIndex=J,e(h,ie),C||x||(C=!0,ge||(ge=!0,D()))),ie},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(ie){var pe=w;return function(){var fe=w;w=pe;try{return ie.apply(this,arguments)}finally{w=fe}}}}(B1)),B1}var ix;function mN(){return ix||(ix=1,V1.exports=pN()),V1.exports}var U1={exports:{}},ea={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function gN(){if(ax)return ea;ax=1;var n=R2();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ea.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,g)},ea.flushSync=function(h){var d=l.T,g=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=g,r.d.f()}},ea.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},ea.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ea.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,b=c(g,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):g==="script"&&r.d.X(h,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ea.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},ea.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=c(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ea.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},ea.requestFormReset=function(h){r.d.r(h)},ea.unstable_batchedUpdates=function(h,d){return h(d)},ea.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},ea.useFormStatus=function(){return l.H.useHostTransitionStatus()},ea.version="19.1.0",ea}var sx;function mS(){if(sx)return U1.exports;sx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),U1.exports=gN(),U1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function vN(){if(ox)return bf;ox=1;var n=mN(),e=R2(),t=mS();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,f=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return c(v),a;if(_===f)return c(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=_;else{for(var F=!1,Z=v.child;Z;){if(Z===u){F=!0,u=v,f=_;break}if(Z===f){F=!0,f=v,u=_;break}Z=Z.sibling}if(!F){for(Z=_.child;Z;){if(Z===u){F=!0,u=_,f=v;break}if(Z===f){F=!0,f=_,u=v;break}Z=Z.sibling}if(!F)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case ge:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case H:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case re:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return o=a.displayName||null,o!==null?o:he(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return he(a(o))}catch{}}return null}var be=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Le=[],J=-1;function ke(a){return{current:a}}function j(a){0>J||(a.current=Le[J],Le[J]=null,J--)}function G(a,o){J++,Le[J]=a.current,a.current=o}var ne=ke(null),le=ke(null),oe=ke(null),Ne=ke(null);function _e(a,o){switch(G(oe,o),G(le,a),G(ne,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?T5(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=T5(o),a=N5(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}j(ne),G(ne,a)}function Oe(){j(ne),j(le),j(oe)}function lt(a){a.memoizedState!==null&&G(Ne,a);var o=ne.current,u=N5(o,a.type);o!==u&&(G(le,a),G(ne,u))}function rt(a){le.current===a&&(j(ne),j(le)),Ne.current===a&&(j(Ne),ff._currentValue=fe)}var ht=Object.prototype.hasOwnProperty,ft=n.unstable_scheduleCallback,Pt=n.unstable_cancelCallback,qe=n.unstable_shouldYield,ce=n.unstable_requestPaint,kt=n.unstable_now,Nt=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,dt=n.unstable_UserBlockingPriority,yt=n.unstable_NormalPriority,bt=n.unstable_LowPriority,He=n.unstable_IdlePriority,Ke=n.log,Xe=n.unstable_setDisableYieldValue,Ze=null,gt=null;function Mt(a){if(typeof Ke=="function"&&Xe(a),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Ze,a)}catch{}}var St=Math.clz32?Math.clz32:mn,Bt=Math.log,pt=Math.LN2;function mn(a){return a>>>=0,a===0?32:31-(Bt(a)/pt|0)|0}var ue=256,me=4194304;function ye(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ge(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,_=a.suspendedLanes,F=a.pingedLanes;a=a.warmLanes;var Z=f&134217727;return Z!==0?(f=Z&~_,f!==0?v=ye(f):(F&=Z,F!==0?v=ye(F):u||(u=Z&~a,u!==0&&(v=ye(u))))):(Z=f&~_,Z!==0?v=ye(Z):F!==0?v=ye(F):u||(u=f&~a,u!==0&&(v=ye(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function at(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Ce(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var a=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),a}function Ee(){var a=me;return me<<=1,(me&62914560)===0&&(me=4194304),a}function mt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function jt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function It(a,o,u,f,v,_){var F=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var Z=a.entanglements,de=a.expirationTimes,Ve=a.hiddenUpdates;for(u=F&~u;0<u;){var Ye=31-St(u),st=1<<Ye;Z[Ye]=0,de[Ye]=-1;var Be=Ve[Ye];if(Be!==null)for(Ve[Ye]=null,Ye=0;Ye<Be.length;Ye++){var Ue=Be[Ye];Ue!==null&&(Ue.lane&=-536870913)}u&=~st}f!==0&&vt(a,f,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(F&~o))}function vt(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-St(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function Lt(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-St(u),v=1<<f;v&o|a[f]&o&&(a[f]|=o),u&=~v}}function hn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ht(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function nr(){var a=pe.p;return a!==0?a:(a=window.event,a===void 0?32:G5(a.type))}function Ir(a,o){var u=pe.p;try{return pe.p=a,o()}finally{pe.p=u}}var At=Math.random().toString(36).slice(2),dn="__reactFiber$"+At,gn="__reactProps$"+At,yn="__reactContainer$"+At,On="__reactEvents$"+At,Dn="__reactListeners$"+At,Tn="__reactHandles$"+At,fi="__reactResources$"+At,ii="__reactMarker$"+At;function yr(a){delete a[dn],delete a[gn],delete a[On],delete a[Dn],delete a[Tn]}function _r(a){var o=a[dn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[yn]||u[dn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=R5(a);a!==null;){if(u=a[dn])return u;a=R5(a)}return o}a=u,u=a.parentNode}return null}function rr(a){if(a=a[dn]||a[yn]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function fr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Mn(a){var o=a[fi];return o||(o=a[fi]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bn(a){a[ii]=!0}var pi=new Set,jn={};function Sr(a,o){lr(a,o),lr(a+"Capture",o)}function lr(a,o){for(jn[a]=o,a=0;a<o.length;a++)pi.add(o[a])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},Vs={};function mu(a){return ht.call(Vs,a)?!0:ht.call(gl,a)?!1:Gr.test(a)?Vs[a]=!0:(gl[a]=!0,!1)}function ha(a,o,u){if(mu(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function da(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Wr(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}var Ua,gu;function ya(a){if(Ua===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ua=o&&o[1]||"",gu=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+a+gu}var Ao=!1;function za(a,o){if(!a||Ao)return"";Ao=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Ue){var Be=Ue}Reflect.construct(a,[],st)}else{try{st.call()}catch(Ue){Be=Ue}a.call(st.prototype)}}else{try{throw Error()}catch(Ue){Be=Ue}(st=a())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Ue){if(Ue&&Be&&typeof Ue.stack=="string")return[Ue.stack,Be.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),F=_[0],Z=_[1];if(F&&Z){var de=F.split(`
`),Ve=Z.split(`
`);for(v=f=0;f<de.length&&!de[f].includes("DetermineComponentFrameRoot");)f++;for(;v<Ve.length&&!Ve[v].includes("DetermineComponentFrameRoot");)v++;if(f===de.length||v===Ve.length)for(f=de.length-1,v=Ve.length-1;1<=f&&0<=v&&de[f]!==Ve[v];)v--;for(;1<=f&&0<=v;f--,v--)if(de[f]!==Ve[v]){if(f!==1||v!==1)do if(f--,v--,0>v||de[f]!==Ve[v]){var Ye=`
`+de[f].replace(" at new "," at ");return a.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",a.displayName)),Ye}while(1<=f&&0<=v);break}}}finally{Ao=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ya(u):""}function vl(a){switch(a.tag){case 26:case 27:case 5:return ya(a.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return za(a.type,!1);case 11:return za(a.type.render,!1);case 1:return za(a.type,!0);case 31:return ya("Activity");default:return""}}function ur(a){try{var o="";do o+=vl(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ai(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Eo(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vu(a){var o=Eo(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(F){f=""+F,_.call(this,F)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(F){f=""+F},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function fs(a){a._valueTracker||(a._valueTracker=vu(a))}function yl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Eo(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function mi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var To=/[\n"\\]/g;function Rn(a){return a.replace(To,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gi(a,o,u,f,v,_,F,Z){a.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.type=F:a.removeAttribute("type"),o!=null?F==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ai(o)):a.value!==""+ai(o)&&(a.value=""+ai(o)):F!=="submit"&&F!=="reset"||a.removeAttribute("value"),o!=null?ms(a,F,ai(o)):u!=null?ms(a,F,ai(u)):f!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?a.name=""+ai(Z):a.removeAttribute("name")}function ps(a,o,u,f,v,_,F,Z){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;u=u!=null?""+ai(u):"",o=o!=null?""+ai(o):u,Z||o===a.value||(a.value=o),a.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=Z?a.checked:!!f,a.defaultChecked=!!f,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.name=F)}function ms(a,o,u){o==="number"&&mi(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ba(a,o,u,f){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&f&&(a[u].defaultSelected=!0)}else{for(u=""+ai(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Hn(a,o,u){if(o!=null&&(o=""+ai(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+ai(u):""}function gs(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if(be(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=ai(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function Hi(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||qa.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function bl(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&yu(a,v,f)}else for(var _ in o)o.hasOwnProperty(_)&&yu(a,_,o[_])}function xl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),No=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(a){return No.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var xa=null;function ir(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ga=null,wa=null;function Wt(a){var o=rr(a);if(o&&(a=o.stateNode)){var u=a[gn]||null;e:switch(a=o.stateNode,o.type){case"input":if(gi(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var v=f[gn]||null;if(!v)throw Error(r(90));gi(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&yl(f)}break e;case"textarea":Hn(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ba(a,!!u.multiple,o,!1)}}}var _a=!1;function bu(a,o,u){if(_a)return a(o,u);_a=!0;try{var f=a(o);return f}finally{if(_a=!1,(Ga!==null||wa!==null)&&(em(),Ga&&(o=Ga,a=wa,wa=Ga=null,Wt(o),a)))for(o=0;o<a.length;o++)Wt(a[o])}}function _i(a,o){var u=a.stateNode;if(u===null)return null;var f=u[gn]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pi=!1;if($i)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Pi=!1}var Gi=null,vs=null,Wa=null;function wl(){if(Wa)return Wa;var a,o=vs,u=o.length,f,v="value"in Gi?Gi.value:Gi.textContent,_=v.length;for(a=0;a<u&&o[a]===v[a];a++);var F=u-a;for(f=1;f<=F&&o[u-f]===v[_-f];f++);return Wa=v.slice(a,1<f?1-f:void 0)}function Wi(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Si(){return!0}function Aa(){return!1}function Fr(a){function o(u,f,v,_,F){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=F,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(u=a[Z],this[Z]=u?u(_):_[Z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Si:Aa,this.isPropagationStopped=Aa,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),o}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Fr(Sn),Ea=g({},Sn,{view:0,detail:0}),_l=Fr(Ea),Bs,Us,fa,Ai=g({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fa&&(fa&&a.type==="mousemove"?(Bs=a.screenX-fa.screenX,Us=a.screenY-fa.screenY):Us=Bs=0,fa=a),Bs)},movementY:function(a){return"movementY"in a?a.movementY:Us}}),Vr=Fr(Ai),xu=g({},Ai,{dataTransfer:0}),bs=Fr(xu),vi=g({},Ea,{relatedTarget:0}),xs=Fr(vi),Ya=g({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=Fr(Ya),zs=g({},Sn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ko=Fr(zs),Sl=g({},Sn,{data:0}),qs=Fr(Sl),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Io={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Io[a])?!!o[a]:!1}function _s(){return $s}var wu=g({},Ea,{key:function(a){if(a.key){var o=ws[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Wi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Hs[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(a){return a.type==="keypress"?Wi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ka=Fr(wu),Ss=g({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Fr(Ss),Ei=g({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Ro=Fr(Ei),S=g({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Fr(S),se=g({},Ai,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ve=Fr(se),Ie=g({},Sn,{newState:0,oldState:0}),$e=Fr(Ie),ut=[9,13,27,32],wt=$i&&"CompositionEvent"in window,m=null;$i&&"documentMode"in document&&(m=document.documentMode);var T=$i&&"TextEvent"in window&&!m,L=$i&&(!wt||m&&8<m&&11>=m),X=" ",Te=!1;function Fe(a,o){switch(a){case"keyup":return ut.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Yt=!1;function An(a,o){switch(a){case"compositionend":return ct(o);case"keypress":return o.which!==32?null:(Te=!0,X);case"textInput":return a=o.data,a===X&&Te?null:a;default:return null}}function an(a,o){if(Yt)return a==="compositionend"||!wt&&Fe(a,o)?(a=wl(),Wa=vs=Gi=null,Yt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return L&&o.locale!=="ko"?null:o.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!$n[a.type]:o==="textarea"}function Ta(a,o,u,f){Ga?wa?wa.push(f):wa=[f]:Ga=f,o=sm(o,"onChange"),0<o.length&&(u=new ys("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var Rr=null,Yi=null;function As(a){w5(a,0)}function Po(a){var o=fr(a);if(yl(o))return a}function _u(a,o){if(a==="change")return o}var Al=!1;if($i){var Yr;if($i){var Lo="oninput"in document;if(!Lo){var El=document.createElement("div");El.setAttribute("oninput","return;"),Lo=typeof El.oninput=="function"}Yr=Lo}else Yr=!1;Al=Yr&&(!document.documentMode||9<document.documentMode)}function Tl(){Rr&&(Rr.detachEvent("onpropertychange",Su),Yi=Rr=null)}function Su(a){if(a.propertyName==="value"&&Po(Yi)){var o=[];Ta(o,Yi,a,ir(a)),bu(As,o)}}function Ki(a,o,u){a==="focusin"?(Tl(),Rr=o,Yi=u,Rr.attachEvent("onpropertychange",Su)):a==="focusout"&&Tl()}function Ld(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Po(Yi)}function Tc(a,o){if(a==="click")return Po(o)}function ph(a,o){if(a==="input"||a==="change")return Po(o)}function Na(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var si=typeof Object.is=="function"?Object.is:Na;function Oo(a,o){if(si(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!ht.call(o,v)||!si(a[v],o[v]))return!1}return!0}function Nc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ws(a,o){var u=Nc(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Nc(u)}}function Do(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Do(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Li(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=mi(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=mi(a.document)}return o}function yi(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Mo=$i&&"documentMode"in document&&11>=document.documentMode,Xi=null,Xa=null,Es=null,Qa=!1;function Ar(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qa||Xi==null||Xi!==mi(f)||(f=Xi,"selectionStart"in f&&yi(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Es&&Oo(Es,f)||(Es=f,f=sm(Xa,"onSelect"),0<f.length&&(o=new ys("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Xi)))}function Ja(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Br={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Qi={},Nl={};$i&&(Nl=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Ts(a){if(Qi[a])return Qi[a];if(!Br[a])return a;var o=Br[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Nl)return Qi[a]=o[u];return a}var Au=Ts("animationend"),jo=Ts("animationiteration"),Fo=Ts("animationstart"),Vo=Ts("transitionrun"),Cl=Ts("transitionstart"),Eu=Ts("transitioncancel"),Bo=Ts("transitionend"),Ys=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function Er(a,o){Ys.set(a,o),Sr(o,[a])}var pa=new WeakMap;function xn(a,o){if(typeof a=="object"&&a!==null){var u=pa.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ur(o)},pa.set(a,o),o)}return{value:a,source:o,stack:ur(o)}}var wn=[],cr=0,Pr=0;function Ca(){for(var a=cr,o=Pr=cr=0;o<a;){var u=wn[o];wn[o++]=null;var f=wn[o];wn[o++]=null;var v=wn[o];wn[o++]=null;var _=wn[o];if(wn[o++]=null,f!==null&&v!==null){var F=f.pending;F===null?v.next=v:(v.next=F.next,F.next=v),f.pending=v}_!==0&&mh(u,v,_)}}function Uo(a,o,u,f){wn[cr++]=a,wn[cr++]=o,wn[cr++]=u,wn[cr++]=f,Pr|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function zo(a,o,u,f){return Uo(a,o,u,f),Il(a)}function Ks(a,o){return Uo(a,null,null,o),Il(a)}function mh(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&o!==null&&(v=31-St(u),a=_.hiddenUpdates,f=a[v],f===null?a[v]=[o]:f.push(o),o.lane=u|536870912),_):null}function Il(a){if(50<af)throw af=0,s1=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var oi={};function ka(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(a,o,u,f){return new ka(a,o,u,f)}function Tu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ns(a,o){var u=a.alternate;return u===null?(u=Ti(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Cc(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Rl(a,o,u,f,v,_){var F=0;if(f=a,typeof a=="function")Tu(a)&&(F=1);else if(typeof a=="string")F=XT(a,u,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=Ti(31,u,o,v),a.elementType=U,a.lanes=_,a;case C:return Xs(u.children,v,_,o);case k:F=8,v|=24;break;case I:return a=Ti(12,u,o,v|2),a.elementType=I,a.lanes=_,a;case K:return a=Ti(13,u,o,v),a.elementType=K,a.lanes=_,a;case ge:return a=Ti(19,u,o,v),a.elementType=ge,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:case H:F=10;break e;case M:F=9;break e;case re:F=11;break e;case V:F=14;break e;case P:F=16,f=null;break e}F=29,u=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=Ti(F,u,o,v),o.elementType=a,o.type=f,o.lanes=_,o}function Xs(a,o,u,f){return a=Ti(7,a,f,o),a.lanes=u,a}function gh(a,o,u){return a=Ti(6,a,null,o),a.lanes=u,a}function kc(a,o,u){return o=Ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var qo=[],Qs=0,Nu=null,vh=0,Ia=[],ma=0,Pl=null,Js=1,Zs="";function Ll(a,o){qo[Qs++]=vh,qo[Qs++]=Nu,Nu=a,vh=o}function Ap(a,o,u){Ia[ma++]=Js,Ia[ma++]=Zs,Ia[ma++]=Pl,Pl=a;var f=Js;a=Zs;var v=32-St(f)-1;f&=~(1<<v),u+=1;var _=32-St(o)+v;if(30<_){var F=v-v%5;_=(f&(1<<F)-1).toString(32),f>>=F,v-=F,Js=1<<32-St(o)+v|u<<v|f,Zs=_+a}else Js=1<<_|u<<v|f,Zs=a}function Ic(a){a.return!==null&&(Ll(a,1),Ap(a,1,0))}function Rc(a){for(;a===Nu;)Nu=qo[--Qs],qo[Qs]=null,vh=qo[--Qs],qo[Qs]=null;for(;a===Pl;)Pl=Ia[--ma],Ia[ma]=null,Zs=Ia[--ma],Ia[ma]=null,Js=Ia[--ma],Ia[ma]=null}var Kr=null,Tr=null,qn=!1,Ho=null,Cs=!1,Od=Error(r(519));function Ol(a){var o=Error(r(418,""));throw Cu(xn(o,a)),Od}function Ep(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[dn]=a,o[gn]=f,u){case"dialog":Cn("cancel",o),Cn("close",o);break;case"iframe":case"object":case"embed":Cn("load",o);break;case"video":case"audio":for(u=0;u<of.length;u++)Cn(of[u],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"details":Cn("toggle",o);break;case"input":Cn("invalid",o),ps(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),fs(o);break;case"select":Cn("invalid",o);break;case"textarea":Cn("invalid",o),gs(o,f.value,f.defaultValue,f.children),fs(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||E5(o.textContent,u)?(f.popover!=null&&(Cn("beforetoggle",o),Cn("toggle",o)),f.onScroll!=null&&Cn("scroll",o),f.onScrollEnd!=null&&Cn("scrollend",o),f.onClick!=null&&(o.onclick=om),o=!0):o=!1,o||Ol(a)}function eo(a){for(Kr=a.return;Kr;)switch(Kr.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:Kr=Kr.return}}function Oi(a){if(a!==Kr)return!1;if(!qn)return eo(a),qn=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||_1(a.type,a.memoizedProps)),u=!u),u&&Tr&&Ol(a),eo(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Tr=lo(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Tr=null}}else o===27?(o=Tr,$u(a.type)?(a=T1,T1=null,Tr=a):Tr=o):Tr=Kr?lo(a.stateNode.nextSibling):null;return!0}function ga(){Tr=Kr=null,qn=!1}function Tp(){var a=Ho;return a!==null&&(La===null?La=a:La.push.apply(La,a),Ho=null),a}function Cu(a){Ho===null?Ho=[a]:Ho.push(a)}var ks=ke(null),li=null,to=null;function $o(a,o,u){G(ks,o._currentValue),o._currentValue=u}function Is(a){a._currentValue=ks.current,j(ks)}function yh(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function bh(a,o,u,f){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var F=v.child;_=_.firstContext;e:for(;_!==null;){var Z=_;_=v;for(var de=0;de<o.length;de++)if(Z.context===o[de]){_.lanes|=u,Z=_.alternate,Z!==null&&(Z.lanes|=u),yh(_.return,u,a),f||(F=null);break e}_=Z.next}}else if(v.tag===18){if(F=v.return,F===null)throw Error(r(341));F.lanes|=u,_=F.alternate,_!==null&&(_.lanes|=u),yh(F,u,a),F=null}else F=v.child;if(F!==null)F.return=v;else for(F=v;F!==null;){if(F===a){F=null;break}if(v=F.sibling,v!==null){v.return=F.return,F=v;break}F=F.return}v=F}}function ku(a,o,u,f){a=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var F=v.alternate;if(F===null)throw Error(r(387));if(F=F.memoizedProps,F!==null){var Z=v.type;si(v.pendingProps.value,F.value)||(a!==null?a.push(Z):a=[Z])}}else if(v===Ne.current){if(F=v.alternate,F===null)throw Error(r(387));F.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ff):a=[ff])}v=v.return}a!==null&&bh(o,a,u,f),o.flags|=262144}function xh(a){for(a=a.firstContext;a!==null;){if(!si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Rs(a){li=a,to=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xr(a){return wh(li,a)}function Go(a,o){return li===null&&Rs(a),wh(a,o)}function wh(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},to===null){if(a===null)throw Error(r(308));to=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else to=to.next=o;return u}var R0=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},Np=n.unstable_scheduleCallback,P0=n.unstable_NormalPriority,Qr={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new R0,data:new Map,refCount:0}}function Pc(a){a.refCount--,a.refCount===0&&Np(P0,function(){a.controller.abort()})}var Lc=null,Md=0,Dl=0,no=null;function L0(a,o){if(Lc===null){var u=Lc=[];Md=0,Dl=f1(),no={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Md++,o.then(Cp,Cp),o}function Cp(){if(--Md===0&&Lc!==null){no!==null&&(no.status="fulfilled");var a=Lc;Lc=null,Dl=0,no=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function kp(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var p=ie.S;ie.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&L0(a,o),p!==null&&p(a,o)};var y=ke(null);function E(){var a=y.current;return a!==null?a:vr.pooledCache}function R(a,o){o===null?G(y,y.current):G(y,o.pool)}function z(){var a=E();return a===null?null:{parent:Qr._currentValue,pool:a}}var $=Error(r(460)),W=Error(r(474)),Y=Error(r(542)),te={then:function(){}};function ae(a){return a=a.status,a==="fulfilled"||a==="rejected"}function xe(){}function je(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(xe,xe),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,tt(a),a;default:if(typeof o.status=="string")o.then(xe,xe);else{if(a=vr,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,tt(a),a}throw De=o,$}}var De=null;function Re(){if(De===null)throw Error(r(459));var a=De;return De=null,a}function tt(a){if(a===$||a===Y)throw Error(r(483))}var ze=!1;function we(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ae(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function We(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function nt(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(sr&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=Il(a),mh(a,null,u),o}return Uo(a,f,o,u),Il(a)}function Qe(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,Lt(a,u)}}function Tt(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=F:_=_.next=F,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var xt=!1;function Ft(){if(xt){var a=no;if(a!==null)throw a}}function _t(a,o,u,f){xt=!1;var v=a.updateQueue;ze=!1;var _=v.firstBaseUpdate,F=v.lastBaseUpdate,Z=v.shared.pending;if(Z!==null){v.shared.pending=null;var de=Z,Ve=de.next;de.next=null,F===null?_=Ve:F.next=Ve,F=de;var Ye=a.alternate;Ye!==null&&(Ye=Ye.updateQueue,Z=Ye.lastBaseUpdate,Z!==F&&(Z===null?Ye.firstBaseUpdate=Ve:Z.next=Ve,Ye.lastBaseUpdate=de))}if(_!==null){var st=v.baseState;F=0,Ye=Ve=de=null,Z=_;do{var Be=Z.lane&-536870913,Ue=Be!==Z.lane;if(Ue?(Bn&Be)===Be:(f&Be)===Be){Be!==0&&Be===Dl&&(xt=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var nn=a,Kt=Z;Be=o;var dr=u;switch(Kt.tag){case 1:if(nn=Kt.payload,typeof nn=="function"){st=nn.call(dr,st,Be);break e}st=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=Kt.payload,Be=typeof nn=="function"?nn.call(dr,st,Be):nn,Be==null)break e;st=g({},st,Be);break e;case 2:ze=!0}}Be=Z.callback,Be!==null&&(a.flags|=64,Ue&&(a.flags|=8192),Ue=v.callbacks,Ue===null?v.callbacks=[Be]:Ue.push(Be))}else Ue={lane:Be,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ye===null?(Ve=Ye=Ue,de=st):Ye=Ye.next=Ue,F|=Be;if(Z=Z.next,Z===null){if(Z=v.shared.pending,Z===null)break;Ue=Z,Z=Ue.next,Ue.next=null,v.lastBaseUpdate=Ue,v.shared.pending=null}}while(!0);Ye===null&&(de=st),v.baseState=de,v.firstBaseUpdate=Ve,v.lastBaseUpdate=Ye,_===null&&(v.shared.lanes=0),Uu|=F,a.lanes=F,a.memoizedState=st}}function Fn(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Gn(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Fn(u[a],o)}var vn=ke(null),fn=ke(0);function Zn(a,o){a=$l,G(fn,a),G(vn,o),$l=a|o.baseLanes}function Wn(){G(fn,$l),G(vn,vn.current)}function sn(){$l=fn.current,j(vn),j(fn)}var ar=0,zt=null,Jt=null,Pn=null,Vn=!1,ui=!1,Jr=!1,Lr=0,Or=0,Ur=null,Ra=0;function Yn(){throw Error(r(321))}function zr(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!si(a[u],o[u]))return!1;return!0}function Za(a,o,u,f,v,_){return ar=_,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ie.H=a===null||a.memoizedState===null?ab:sb,Jr=!1,_=u(f,v),Jr=!1,ui&&(_=Ml(o,u,f,v)),Wo(a),_}function Wo(a){ie.H=Up;var o=Jt!==null&&Jt.next!==null;if(ar=0,Pn=Jt=zt=null,Vn=!1,Or=0,Ur=null,o)throw Error(r(300));a===null||Ni||(a=a.dependencies,a!==null&&xh(a)&&(Ni=!0))}function Ml(a,o,u,f){zt=a;var v=0;do{if(ui&&(Ur=null),Or=0,ui=!1,25<=v)throw Error(r(301));if(v+=1,Pn=Jt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=oT,_=o(u,f)}while(ui);return _}function Yo(){var a=ie.H,o=a.useState()[0];return o=typeof o.then=="function"?Ko(o):o,a=a.useState()[0],(Jt!==null?Jt.memoizedState:null)!==a&&(zt.flags|=1024),o}function gr(){var a=Lr!==0;return Lr=0,a}function Oc(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function _h(a){if(Vn){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Vn=!1}ar=0,Pn=Jt=zt=null,ui=!1,Or=Lr=0,Ur=null}function Di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?zt.memoizedState=Pn=a:Pn=Pn.next=a,Pn}function br(){if(Jt===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=Jt.next;var o=Pn===null?zt.memoizedState:Pn.next;if(o!==null)Pn=o,Jt=a;else{if(a===null)throw zt.alternate===null?Error(r(467)):Error(r(310));Jt=a,a={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Pn===null?zt.memoizedState=Pn=a:Pn=Pn.next=a}return Pn}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(a){var o=Or;return Or+=1,Ur===null&&(Ur=[]),a=je(Ur,a,o),o=zt,(Pn===null?o.memoizedState:Pn.next)===null&&(o=o.alternate,ie.H=o===null||o.memoizedState===null?ab:sb),a}function Ji(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ko(a);if(a.$$typeof===H)return Xr(a)}throw Error(r(438,String(a)))}function Xo(a){var o=null,u=zt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=zt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=jl(),zt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=Q;return o.index++,u}function Zi(a,o){return typeof o=="function"?o(a):o}function Dc(a){var o=br();return Iu(o,Jt,a)}function Iu(a,o,u){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=a.baseQueue,_=f.pending;if(_!==null){if(v!==null){var F=v.next;v.next=_.next,_.next=F}o.baseQueue=v=_,f.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{o=v.next;var Z=F=null,de=null,Ve=o,Ye=!1;do{var st=Ve.lane&-536870913;if(st!==Ve.lane?(Bn&st)===st:(ar&st)===st){var Be=Ve.revertLane;if(Be===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),st===Dl&&(Ye=!0);else if((ar&Be)===Be){Ve=Ve.next,Be===Dl&&(Ye=!0);continue}else st={lane:0,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},de===null?(Z=de=st,F=_):de=de.next=st,zt.lanes|=Be,Uu|=Be;st=Ve.action,Jr&&u(_,st),_=Ve.hasEagerState?Ve.eagerState:u(_,st)}else Be={lane:st,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},de===null?(Z=de=Be,F=_):de=de.next=Be,zt.lanes|=st,Uu|=st;Ve=Ve.next}while(Ve!==null&&Ve!==o);if(de===null?F=_:de.next=Z,!si(_,a.memoizedState)&&(Ni=!0,Ye&&(u=no,u!==null)))throw u;a.memoizedState=_,a.baseState=F,a.baseQueue=de,f.lastRenderedState=_}return v===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Sh(a){var o=br(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var F=v=v.next;do _=a(_,F.action),F=F.next;while(F!==v);si(_,o.memoizedState)||(Ni=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Mc(a,o,u){var f=zt,v=br(),_=qn;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var F=!si((Jt||v).memoizedState,u);F&&(v.memoizedState=u,Ni=!0),v=v.queue;var Z=Ru.bind(null,f,v,a);if(Ou(2048,8,Z,[a]),v.getSnapshot!==o||F||Pn!==null&&Pn.memoizedState.tag&1){if(f.flags|=2048,io(9,Bc(),jc.bind(null,f,v,u,o),null),vr===null)throw Error(r(349));_||(ar&124)!==0||Ah(f,o,u)}return u}function Ah(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=zt.updateQueue,o===null?(o=jl(),zt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function jc(a,o,u,f){o.value=u,o.getSnapshot=f,Ip(o)&&Rp(a)}function Ru(a,o,u){return u(function(){Ip(o)&&Rp(a)})}function Ip(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!si(a,u)}catch{return!0}}function Rp(a){var o=Ks(a,2);o!==null&&as(o,a,2)}function Fc(a){var o=Di();if(typeof a=="function"){var u=a;if(a=u(),Jr){Mt(!0);try{u()}finally{Mt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},o}function ro(a,o,u,f){return a.baseState=u,Iu(a,Jt,typeof f=="function"?f:Zi)}function O0(a,o,u,f,v){if(Bp(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){_.listeners.push(F)}};ie.T!==null?u(!0):_.isTransition=!1,f(_),u=o.pending,u===null?(_.next=o.pending=_,Pp(o,_)):(_.next=u.next,o.pending=u.next=_)}}function Pp(a,o){var u=o.action,f=o.payload,v=a.state;if(o.isTransition){var _=ie.T,F={};ie.T=F;try{var Z=u(v,f),de=ie.S;de!==null&&de(F,Z),Lp(a,o,Z)}catch(Ve){Pu(a,o,Ve)}finally{ie.T=_}}else try{_=u(v,f),Lp(a,o,_)}catch(Ve){Pu(a,o,Ve)}}function Lp(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){jd(a,o,f)},function(f){return Pu(a,o,f)}):jd(a,o,u)}function jd(a,o,u){o.status="fulfilled",o.value=u,Fd(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Pp(a,u)))}function Pu(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Fd(o),o=o.next;while(o!==f)}a.action=null}function Fd(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Vd(a,o){return o}function Vc(a,o){if(qn){var u=vr.formState;if(u!==null){e:{var f=zt;if(qn){if(Tr){t:{for(var v=Tr,_=Cs;v.nodeType!==8;){if(!_){v=null;break t}if(v=lo(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Tr=lo(v.nextSibling),f=v.data==="F!";break e}}Ol(f)}f=!1}f&&(o=u[0])}}return u=Di(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:o},u.queue=f,u=nb.bind(null,zt,f),f.dispatch=u,f=Fc(!1),_=D0.bind(null,zt,!1,f.queue),f=Di(),v={state:o,dispatch:null,action:a,pending:null},f.queue=v,u=O0.bind(null,zt,v,_,u),v.dispatch=u,f.memoizedState=a,[o,u,!1]}function Eh(a){var o=br();return Lu(o,Jt,a)}function Lu(a,o,u){if(o=Iu(a,o,Vd)[0],a=Dc(Zi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ko(o)}catch(F){throw F===$?Y:F}else f=o;o=br();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(zt.flags|=2048,io(9,Bc(),Op.bind(null,v,u),null)),[f,_,a]}function Op(a,o){a.action=o}function Dp(a){var o=br(),u=Jt;if(u!==null)return Lu(o,u,a);br(),o=o.memoizedState,u=br();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function io(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=zt.updateQueue,o===null&&(o=jl(),zt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function Bc(){return{destroy:void 0,resource:void 0}}function Th(){return br().memoizedState}function es(a,o,u,f){var v=Di();f=f===void 0?null:f,zt.flags|=a,v.memoizedState=io(1|o,Bc(),u,f)}function Ou(a,o,u,f){var v=br();f=f===void 0?null:f;var _=v.memoizedState.inst;Jt!==null&&f!==null&&zr(f,Jt.memoizedState.deps)?v.memoizedState=io(o,_,u,f):(zt.flags|=a,v.memoizedState=io(1|o,_,u,f))}function Bd(a,o){es(8390656,8,a,o)}function Mp(a,o){Ou(2048,8,a,o)}function Ud(a,o){return Ou(4,2,a,o)}function Fl(a,o){return Ou(4,4,a,o)}function jp(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zd(a,o,u){u=u!=null?u.concat([a]):null,Ou(4,4,jp.bind(null,o,a),u)}function qd(){}function Hd(a,o){var u=br();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&zr(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function Fp(a,o){var u=br();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&zr(o,f[1]))return f[0];if(f=a(),Jr){Mt(!0);try{a()}finally{Mt(!1)}}return u.memoizedState=[f,o],f}function Vl(a,o,u){return u===void 0||(ar&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=Jb(),zt.lanes|=a,Uu|=a,u)}function Nh(a,o,u,f){return si(u,o)?u:vn.current!==null?(a=Vl(a,u,f),si(a,o)||(Ni=!0),a):(ar&42)===0?(Ni=!0,a.memoizedState=u):(a=Jb(),zt.lanes|=a,Uu|=a,o)}function Uc(a,o,u,f,v){var _=pe.p;pe.p=_!==0&&8>_?_:8;var F=ie.T,Z={};ie.T=Z,D0(a,!1,o,u);try{var de=v(),Ve=ie.S;if(Ve!==null&&Ve(Z,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ye=kp(de,f);Yd(a,o,Ye,is(a))}else Yd(a,o,f,is(a))}catch(st){Yd(a,o,{then:function(){},status:"rejected",reason:st},is())}finally{pe.p=_,ie.T=F}}function ao(){}function Ps(a,o,u,f){if(a.tag!==5)throw Error(r(476));var v=so(a).queue;Uc(a,v,o,fe,u===null?ao:function(){return zc(a),u(f)})}function so(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function zc(a){var o=so(a).next.queue;Yd(a,o,{},is())}function qc(){return Xr(ff)}function $d(){return br().memoizedState}function Vp(){return br().memoizedState}function Gd(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=is();a=We(u);var f=nt(o,a,u);f!==null&&(as(f,o,u),Qe(f,o,u)),o={cache:Dd()},a.payload=o;return}o=o.return}}function Wd(a,o,u){var f=is();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bp(a)?rb(o,u):(u=zo(a,o,u,f),u!==null&&(as(u,a,f),ib(u,o,f)))}function nb(a,o,u){var f=is();Yd(a,o,u,f)}function Yd(a,o,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bp(a))rb(o,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var F=o.lastRenderedState,Z=_(F,u);if(v.hasEagerState=!0,v.eagerState=Z,si(Z,F))return Uo(a,o,v,0),vr===null&&Ca(),!1}catch{}finally{}if(u=zo(a,o,v,f),u!==null)return as(u,a,f),ib(u,o,f),!0}return!1}function D0(a,o,u,f){if(f={lane:2,revertLane:f1(),action:f,hasEagerState:!1,eagerState:null,next:null},Bp(a)){if(o)throw Error(r(479))}else o=zo(a,u,f,2),o!==null&&as(o,a,2)}function Bp(a){var o=a.alternate;return a===zt||o!==null&&o===zt}function rb(a,o){ui=Vn=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function ib(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,Lt(a,u)}}var Up={readContext:Xr,use:Ji,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn,useHostTransitionStatus:Yn,useFormState:Yn,useActionState:Yn,useOptimistic:Yn,useMemoCache:Yn,useCacheRefresh:Yn},ab={readContext:Xr,use:Ji,useCallback:function(a,o){return Di().memoizedState=[a,o===void 0?null:o],a},useContext:Xr,useEffect:Bd,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,es(4194308,4,jp.bind(null,o,a),u)},useLayoutEffect:function(a,o){return es(4194308,4,a,o)},useInsertionEffect:function(a,o){es(4,2,a,o)},useMemo:function(a,o){var u=Di();o=o===void 0?null:o;var f=a();if(Jr){Mt(!0);try{a()}finally{Mt(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=Di();if(u!==void 0){var v=u(o);if(Jr){Mt(!0);try{u(o)}finally{Mt(!1)}}}else v=o;return f.memoizedState=f.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},f.queue=a,a=a.dispatch=Wd.bind(null,zt,a),[f.memoizedState,a]},useRef:function(a){var o=Di();return a={current:a},o.memoizedState=a},useState:function(a){a=Fc(a);var o=a.queue,u=nb.bind(null,zt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:qd,useDeferredValue:function(a,o){var u=Di();return Vl(u,a,o)},useTransition:function(){var a=Fc(!1);return a=Uc.bind(null,zt,a.queue,!0,!1),Di().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=zt,v=Di();if(qn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),vr===null)throw Error(r(349));(Bn&124)!==0||Ah(f,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,Bd(Ru.bind(null,f,_,a),[a]),f.flags|=2048,io(9,Bc(),jc.bind(null,f,_,u,o),null),u},useId:function(){var a=Di(),o=vr.identifierPrefix;if(qn){var u=Zs,f=Js;u=(f&~(1<<32-St(f)-1)).toString(32)+u,o=""+o+"R"+u,u=Lr++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=Ra++,o=""+o+"r"+u.toString(32)+"";return a.memoizedState=o},useHostTransitionStatus:qc,useFormState:Vc,useActionState:Vc,useOptimistic:function(a){var o=Di();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=D0.bind(null,zt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Xo,useCacheRefresh:function(){return Di().memoizedState=Gd.bind(null,zt)}},sb={readContext:Xr,use:Ji,useCallback:Hd,useContext:Xr,useEffect:Mp,useImperativeHandle:zd,useInsertionEffect:Ud,useLayoutEffect:Fl,useMemo:Fp,useReducer:Dc,useRef:Th,useState:function(){return Dc(Zi)},useDebugValue:qd,useDeferredValue:function(a,o){var u=br();return Nh(u,Jt.memoizedState,a,o)},useTransition:function(){var a=Dc(Zi)[0],o=br().memoizedState;return[typeof a=="boolean"?a:Ko(a),o]},useSyncExternalStore:Mc,useId:$d,useHostTransitionStatus:qc,useFormState:Eh,useActionState:Eh,useOptimistic:function(a,o){var u=br();return ro(u,Jt,a,o)},useMemoCache:Xo,useCacheRefresh:Vp},oT={readContext:Xr,use:Ji,useCallback:Hd,useContext:Xr,useEffect:Mp,useImperativeHandle:zd,useInsertionEffect:Ud,useLayoutEffect:Fl,useMemo:Fp,useReducer:Sh,useRef:Th,useState:function(){return Sh(Zi)},useDebugValue:qd,useDeferredValue:function(a,o){var u=br();return Jt===null?Vl(u,a,o):Nh(u,Jt.memoizedState,a,o)},useTransition:function(){var a=Sh(Zi)[0],o=br().memoizedState;return[typeof a=="boolean"?a:Ko(a),o]},useSyncExternalStore:Mc,useId:$d,useHostTransitionStatus:qc,useFormState:Dp,useActionState:Dp,useOptimistic:function(a,o){var u=br();return Jt!==null?ro(u,Jt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:Vp},Ch=null,Kd=0;function zp(a){var o=Kd;return Kd+=1,Ch===null&&(Ch=[]),je(Ch,a,o)}function Xd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function qp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ob(a){var o=a._init;return o(a._payload)}function lb(a){function o(Pe,Se){if(a){var Me=Pe.deletions;Me===null?(Pe.deletions=[Se],Pe.flags|=16):Me.push(Se)}}function u(Pe,Se){if(!a)return null;for(;Se!==null;)o(Pe,Se),Se=Se.sibling;return null}function f(Pe){for(var Se=new Map;Pe!==null;)Pe.key!==null?Se.set(Pe.key,Pe):Se.set(Pe.index,Pe),Pe=Pe.sibling;return Se}function v(Pe,Se){return Pe=Ns(Pe,Se),Pe.index=0,Pe.sibling=null,Pe}function _(Pe,Se,Me){return Pe.index=Me,a?(Me=Pe.alternate,Me!==null?(Me=Me.index,Me<Se?(Pe.flags|=67108866,Se):Me):(Pe.flags|=67108866,Se)):(Pe.flags|=1048576,Se)}function F(Pe){return a&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function Z(Pe,Se,Me,et){return Se===null||Se.tag!==6?(Se=gh(Me,Pe.mode,et),Se.return=Pe,Se):(Se=v(Se,Me),Se.return=Pe,Se)}function de(Pe,Se,Me,et){var Ot=Me.type;return Ot===C?Ye(Pe,Se,Me.props.children,et,Me.key):Se!==null&&(Se.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&ob(Ot)===Se.type)?(Se=v(Se,Me.props),Xd(Se,Me),Se.return=Pe,Se):(Se=Rl(Me.type,Me.key,Me.props,null,Pe.mode,et),Xd(Se,Me),Se.return=Pe,Se)}function Ve(Pe,Se,Me,et){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Me.containerInfo||Se.stateNode.implementation!==Me.implementation?(Se=kc(Me,Pe.mode,et),Se.return=Pe,Se):(Se=v(Se,Me.children||[]),Se.return=Pe,Se)}function Ye(Pe,Se,Me,et,Ot){return Se===null||Se.tag!==7?(Se=Xs(Me,Pe.mode,et,Ot),Se.return=Pe,Se):(Se=v(Se,Me),Se.return=Pe,Se)}function st(Pe,Se,Me){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=gh(""+Se,Pe.mode,Me),Se.return=Pe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case w:return Me=Rl(Se.type,Se.key,Se.props,null,Pe.mode,Me),Xd(Me,Se),Me.return=Pe,Me;case x:return Se=kc(Se,Pe.mode,Me),Se.return=Pe,Se;case P:var et=Se._init;return Se=et(Se._payload),st(Pe,Se,Me)}if(be(Se)||D(Se))return Se=Xs(Se,Pe.mode,Me,null),Se.return=Pe,Se;if(typeof Se.then=="function")return st(Pe,zp(Se),Me);if(Se.$$typeof===H)return st(Pe,Go(Pe,Se),Me);qp(Pe,Se)}return null}function Be(Pe,Se,Me,et){var Ot=Se!==null?Se.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Ot!==null?null:Z(Pe,Se,""+Me,et);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return Me.key===Ot?de(Pe,Se,Me,et):null;case x:return Me.key===Ot?Ve(Pe,Se,Me,et):null;case P:return Ot=Me._init,Me=Ot(Me._payload),Be(Pe,Se,Me,et)}if(be(Me)||D(Me))return Ot!==null?null:Ye(Pe,Se,Me,et,null);if(typeof Me.then=="function")return Be(Pe,Se,zp(Me),et);if(Me.$$typeof===H)return Be(Pe,Se,Go(Pe,Me),et);qp(Pe,Me)}return null}function Ue(Pe,Se,Me,et,Ot){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Pe=Pe.get(Me)||null,Z(Se,Pe,""+et,Ot);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case w:return Pe=Pe.get(et.key===null?Me:et.key)||null,de(Se,Pe,et,Ot);case x:return Pe=Pe.get(et.key===null?Me:et.key)||null,Ve(Se,Pe,et,Ot);case P:var En=et._init;return et=En(et._payload),Ue(Pe,Se,Me,et,Ot)}if(be(et)||D(et))return Pe=Pe.get(Me)||null,Ye(Se,Pe,et,Ot,null);if(typeof et.then=="function")return Ue(Pe,Se,Me,zp(et),Ot);if(et.$$typeof===H)return Ue(Pe,Se,Me,Go(Se,et),Ot);qp(Se,et)}return null}function nn(Pe,Se,Me,et){for(var Ot=null,En=null,Vt=Se,Xt=Se=0,ki=null;Vt!==null&&Xt<Me.length;Xt++){Vt.index>Xt?(ki=Vt,Vt=null):ki=Vt.sibling;var Kn=Be(Pe,Vt,Me[Xt],et);if(Kn===null){Vt===null&&(Vt=ki);break}a&&Vt&&Kn.alternate===null&&o(Pe,Vt),Se=_(Kn,Se,Xt),En===null?Ot=Kn:En.sibling=Kn,En=Kn,Vt=ki}if(Xt===Me.length)return u(Pe,Vt),qn&&Ll(Pe,Xt),Ot;if(Vt===null){for(;Xt<Me.length;Xt++)Vt=st(Pe,Me[Xt],et),Vt!==null&&(Se=_(Vt,Se,Xt),En===null?Ot=Vt:En.sibling=Vt,En=Vt);return qn&&Ll(Pe,Xt),Ot}for(Vt=f(Vt);Xt<Me.length;Xt++)ki=Ue(Vt,Pe,Xt,Me[Xt],et),ki!==null&&(a&&ki.alternate!==null&&Vt.delete(ki.key===null?Xt:ki.key),Se=_(ki,Se,Xt),En===null?Ot=ki:En.sibling=ki,En=ki);return a&&Vt.forEach(function(Xu){return o(Pe,Xu)}),qn&&Ll(Pe,Xt),Ot}function Kt(Pe,Se,Me,et){if(Me==null)throw Error(r(151));for(var Ot=null,En=null,Vt=Se,Xt=Se=0,ki=null,Kn=Me.next();Vt!==null&&!Kn.done;Xt++,Kn=Me.next()){Vt.index>Xt?(ki=Vt,Vt=null):ki=Vt.sibling;var Xu=Be(Pe,Vt,Kn.value,et);if(Xu===null){Vt===null&&(Vt=ki);break}a&&Vt&&Xu.alternate===null&&o(Pe,Vt),Se=_(Xu,Se,Xt),En===null?Ot=Xu:En.sibling=Xu,En=Xu,Vt=ki}if(Kn.done)return u(Pe,Vt),qn&&Ll(Pe,Xt),Ot;if(Vt===null){for(;!Kn.done;Xt++,Kn=Me.next())Kn=st(Pe,Kn.value,et),Kn!==null&&(Se=_(Kn,Se,Xt),En===null?Ot=Kn:En.sibling=Kn,En=Kn);return qn&&Ll(Pe,Xt),Ot}for(Vt=f(Vt);!Kn.done;Xt++,Kn=Me.next())Kn=Ue(Vt,Pe,Xt,Kn.value,et),Kn!==null&&(a&&Kn.alternate!==null&&Vt.delete(Kn.key===null?Xt:Kn.key),Se=_(Kn,Se,Xt),En===null?Ot=Kn:En.sibling=Kn,En=Kn);return a&&Vt.forEach(function(lN){return o(Pe,lN)}),qn&&Ll(Pe,Xt),Ot}function dr(Pe,Se,Me,et){if(typeof Me=="object"&&Me!==null&&Me.type===C&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:e:{for(var Ot=Me.key;Se!==null;){if(Se.key===Ot){if(Ot=Me.type,Ot===C){if(Se.tag===7){u(Pe,Se.sibling),et=v(Se,Me.props.children),et.return=Pe,Pe=et;break e}}else if(Se.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&ob(Ot)===Se.type){u(Pe,Se.sibling),et=v(Se,Me.props),Xd(et,Me),et.return=Pe,Pe=et;break e}u(Pe,Se);break}else o(Pe,Se);Se=Se.sibling}Me.type===C?(et=Xs(Me.props.children,Pe.mode,et,Me.key),et.return=Pe,Pe=et):(et=Rl(Me.type,Me.key,Me.props,null,Pe.mode,et),Xd(et,Me),et.return=Pe,Pe=et)}return F(Pe);case x:e:{for(Ot=Me.key;Se!==null;){if(Se.key===Ot)if(Se.tag===4&&Se.stateNode.containerInfo===Me.containerInfo&&Se.stateNode.implementation===Me.implementation){u(Pe,Se.sibling),et=v(Se,Me.children||[]),et.return=Pe,Pe=et;break e}else{u(Pe,Se);break}else o(Pe,Se);Se=Se.sibling}et=kc(Me,Pe.mode,et),et.return=Pe,Pe=et}return F(Pe);case P:return Ot=Me._init,Me=Ot(Me._payload),dr(Pe,Se,Me,et)}if(be(Me))return nn(Pe,Se,Me,et);if(D(Me)){if(Ot=D(Me),typeof Ot!="function")throw Error(r(150));return Me=Ot.call(Me),Kt(Pe,Se,Me,et)}if(typeof Me.then=="function")return dr(Pe,Se,zp(Me),et);if(Me.$$typeof===H)return dr(Pe,Se,Go(Pe,Me),et);qp(Pe,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,Se!==null&&Se.tag===6?(u(Pe,Se.sibling),et=v(Se,Me),et.return=Pe,Pe=et):(u(Pe,Se),et=gh(Me,Pe.mode,et),et.return=Pe,Pe=et),F(Pe)):u(Pe,Se)}return function(Pe,Se,Me,et){try{Kd=0;var Ot=dr(Pe,Se,Me,et);return Ch=null,Ot}catch(Vt){if(Vt===$||Vt===Y)throw Vt;var En=Ti(29,Vt,null,Pe.mode);return En.lanes=et,En.return=Pe,En}finally{}}}var kh=lb(!0),ub=lb(!1),Ls=ke(null),Qo=null;function Du(a){var o=a.alternate;G(bi,bi.current&1),G(Ls,a),Qo===null&&(o===null||vn.current!==null||o.memoizedState!==null)&&(Qo=a)}function cb(a){if(a.tag===22){if(G(bi,bi.current),G(Ls,a),Qo===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Qo=a)}}else Mu()}function Mu(){G(bi,bi.current),G(Ls,Ls.current)}function Bl(a){j(Ls),Qo===a&&(Qo=null),j(bi)}var bi=ke(0);function Hp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||E1(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function M0(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var j0={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=is(),v=We(f);v.payload=o,u!=null&&(v.callback=u),o=nt(a,v,f),o!==null&&(as(o,a,f),Qe(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=is(),v=We(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=nt(a,v,f),o!==null&&(as(o,a,f),Qe(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=is(),f=We(u);f.tag=2,o!=null&&(f.callback=o),o=nt(a,f,u),o!==null&&(as(o,a,u),Qe(o,a,u))}};function hb(a,o,u,f,v,_,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,_,F):o.prototype&&o.prototype.isPureReactComponent?!Oo(u,f)||!Oo(v,_):!0}function db(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&j0.enqueueReplaceState(o,o.state,null)}function Hc(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}var $p=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function fb(a){$p(a)}function pb(a){console.error(a)}function mb(a){$p(a)}function Gp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function gb(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function F0(a,o,u){return u=We(u),u.tag=3,u.payload={element:null},u.callback=function(){Gp(a,o)},u}function vb(a){return a=We(a),a.tag=3,a}function yb(a,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;a.payload=function(){return v(_)},a.callback=function(){gb(o,u,f)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(a.callback=function(){gb(o,u,f),typeof v!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var Z=f.stack;this.componentDidCatch(f.value,{componentStack:Z!==null?Z:""})})}function lT(a,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&ku(o,u,v,!0),u=Ls.current,u!==null){switch(u.tag){case 13:return Qo===null?l1():u.alternate===null&&qr===0&&(qr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===te?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),c1(a,f,v)),!1;case 22:return u.flags|=65536,f===te?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),c1(a,f,v)),!1}throw Error(r(435,u.tag))}return c1(a,f,v),l1(),!1}if(qn)return o=Ls.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==Od&&(a=Error(r(422),{cause:f}),Cu(xn(a,u)))):(f!==Od&&(o=Error(r(423),{cause:f}),Cu(xn(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,f=xn(f,u),v=F0(a.stateNode,f,v),Tt(a,v),qr!==4&&(qr=2)),!1;var _=Error(r(520),{cause:f});if(_=xn(_,u),rf===null?rf=[_]:rf.push(_),qr!==4&&(qr=2),o===null)return!0;f=xn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=F0(u.stateNode,f,a),Tt(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zu===null||!zu.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=vb(v),yb(v,a,u,f),Tt(u,v),!1}u=u.return}while(u!==null);return!1}var bb=Error(r(461)),Ni=!1;function Mi(a,o,u,f){o.child=a===null?ub(o,null,u,f):kh(o,a.child,u,f)}function xb(a,o,u,f,v){u=u.render;var _=o.ref;if("ref"in f){var F={};for(var Z in f)Z!=="ref"&&(F[Z]=f[Z])}else F=f;return Rs(o),f=Za(a,o,u,F,_,v),Z=gr(),a!==null&&!Ni?(Oc(a,o,v),Ul(a,o,v)):(qn&&Z&&Ic(o),o.flags|=1,Mi(a,o,f,v),o.child)}function wb(a,o,u,f,v){if(a===null){var _=u.type;return typeof _=="function"&&!Tu(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,_b(a,o,_,f,v)):(a=Rl(u.type,null,f,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!G0(a,v)){var F=_.memoizedProps;if(u=u.compare,u=u!==null?u:Oo,u(F,f)&&a.ref===o.ref)return Ul(a,o,v)}return o.flags|=1,a=Ns(_,f),a.ref=o.ref,a.return=o,o.child=a}function _b(a,o,u,f,v){if(a!==null){var _=a.memoizedProps;if(Oo(_,f)&&a.ref===o.ref)if(Ni=!1,o.pendingProps=f=_,G0(a,v))(a.flags&131072)!==0&&(Ni=!0);else return o.lanes=a.lanes,Ul(a,o,v)}return V0(a,o,u,f,v)}function Sb(a,o,u){var f=o.pendingProps,v=f.children,_=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,a!==null){for(v=o.child=a.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return Ab(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&R(o,_!==null?_.cachePool:null),_!==null?Zn(o,_):Wn(),cb(o);else return o.lanes=o.childLanes=536870912,Ab(a,o,_!==null?_.baseLanes|u:u,u)}else _!==null?(R(o,_.cachePool),Zn(o,_),Mu(),o.memoizedState=null):(a!==null&&R(o,null),Wn(),Mu());return Mi(a,o,v,u),o.child}function Ab(a,o,u,f){var v=E();return v=v===null?null:{parent:Qr._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},a!==null&&R(o,null),Wn(),cb(o),a!==null&&ku(a,o,f,!0),null}function Wp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function V0(a,o,u,f,v){return Rs(o),u=Za(a,o,u,f,void 0,v),f=gr(),a!==null&&!Ni?(Oc(a,o,v),Ul(a,o,v)):(qn&&f&&Ic(o),o.flags|=1,Mi(a,o,u,v),o.child)}function Eb(a,o,u,f,v,_){return Rs(o),o.updateQueue=null,u=Ml(o,f,u,v),Wo(a),f=gr(),a!==null&&!Ni?(Oc(a,o,_),Ul(a,o,_)):(qn&&f&&Ic(o),o.flags|=1,Mi(a,o,u,_),o.child)}function Tb(a,o,u,f,v){if(Rs(o),o.stateNode===null){var _=oi,F=u.contextType;typeof F=="object"&&F!==null&&(_=Xr(F)),_=new u(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=j0,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},we(o),F=u.contextType,_.context=typeof F=="object"&&F!==null?Xr(F):oi,_.state=o.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(M0(o,u,F,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(F=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),F!==_.state&&j0.enqueueReplaceState(_,_.state,null),_t(o,f,_,v),Ft(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){_=o.stateNode;var Z=o.memoizedProps,de=Hc(u,Z);_.props=de;var Ve=_.context,Ye=u.contextType;F=oi,typeof Ye=="object"&&Ye!==null&&(F=Xr(Ye));var st=u.getDerivedStateFromProps;Ye=typeof st=="function"||typeof _.getSnapshotBeforeUpdate=="function",Z=o.pendingProps!==Z,Ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Z||Ve!==F)&&db(o,_,f,F),ze=!1;var Be=o.memoizedState;_.state=Be,_t(o,f,_,v),Ft(),Ve=o.memoizedState,Z||Be!==Ve||ze?(typeof st=="function"&&(M0(o,u,st,f),Ve=o.memoizedState),(de=ze||hb(o,u,de,f,Be,Ve,F))?(Ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Ve),_.props=f,_.state=Ve,_.context=F,f=de):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,Ae(a,o),F=o.memoizedProps,Ye=Hc(u,F),_.props=Ye,st=o.pendingProps,Be=_.context,Ve=u.contextType,de=oi,typeof Ve=="object"&&Ve!==null&&(de=Xr(Ve)),Z=u.getDerivedStateFromProps,(Ve=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F!==st||Be!==de)&&db(o,_,f,de),ze=!1,Be=o.memoizedState,_.state=Be,_t(o,f,_,v),Ft();var Ue=o.memoizedState;F!==st||Be!==Ue||ze||a!==null&&a.dependencies!==null&&xh(a.dependencies)?(typeof Z=="function"&&(M0(o,u,Z,f),Ue=o.memoizedState),(Ye=ze||hb(o,u,Ye,f,Be,Ue,de)||a!==null&&a.dependencies!==null&&xh(a.dependencies))?(Ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,Ue,de),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,Ue,de)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||F===a.memoizedProps&&Be===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&Be===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ue),_.props=f,_.state=Ue,_.context=de,f=Ye):(typeof _.componentDidUpdate!="function"||F===a.memoizedProps&&Be===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&Be===a.memoizedState||(o.flags|=1024),f=!1)}return _=f,Wp(a,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&f?(o.child=kh(o,a.child,null,v),o.child=kh(o,null,u,v)):Mi(a,o,u,v),o.memoizedState=_.state,a=o.child):a=Ul(a,o,v),a}function Nb(a,o,u,f){return ga(),o.flags|=256,Mi(a,o,u,f),o.child}var B0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U0(a){return{baseLanes:a,cachePool:z()}}function z0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Os),a}function Cb(a,o,u){var f=o.pendingProps,v=!1,_=(o.flags&128)!==0,F;if((F=_)||(F=a!==null&&a.memoizedState===null?!1:(bi.current&2)!==0),F&&(v=!0,o.flags&=-129),F=(o.flags&32)!==0,o.flags&=-33,a===null){if(qn){if(v?Du(o):Mu(),qn){var Z=Tr,de;if(de=Z){e:{for(de=Z,Z=Cs;de.nodeType!==8;){if(!Z){Z=null;break e}if(de=lo(de.nextSibling),de===null){Z=null;break e}}Z=de}Z!==null?(o.memoizedState={dehydrated:Z,treeContext:Pl!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},de=Ti(18,null,null,0),de.stateNode=Z,de.return=o,o.child=de,Kr=o,Tr=null,de=!0):de=!1}de||Ol(o)}if(Z=o.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return E1(Z)?o.lanes=32:o.lanes=536870912,null;Bl(o)}return Z=f.children,f=f.fallback,v?(Mu(),v=o.mode,Z=Yp({mode:"hidden",children:Z},v),f=Xs(f,v,u,null),Z.return=o,f.return=o,Z.sibling=f,o.child=Z,v=o.child,v.memoizedState=U0(u),v.childLanes=z0(a,F,u),o.memoizedState=B0,f):(Du(o),q0(o,Z))}if(de=a.memoizedState,de!==null&&(Z=de.dehydrated,Z!==null)){if(_)o.flags&256?(Du(o),o.flags&=-257,o=H0(a,o,u)):o.memoizedState!==null?(Mu(),o.child=a.child,o.flags|=128,o=null):(Mu(),v=f.fallback,Z=o.mode,f=Yp({mode:"visible",children:f.children},Z),v=Xs(v,Z,u,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,kh(o,a.child,null,u),f=o.child,f.memoizedState=U0(u),f.childLanes=z0(a,F,u),o.memoizedState=B0,o=v);else if(Du(o),E1(Z)){if(F=Z.nextSibling&&Z.nextSibling.dataset,F)var Ve=F.dgst;F=Ve,f=Error(r(419)),f.stack="",f.digest=F,Cu({value:f,source:null,stack:null}),o=H0(a,o,u)}else if(Ni||ku(a,o,u,!1),F=(u&a.childLanes)!==0,Ni||F){if(F=vr,F!==null&&(f=u&-u,f=(f&42)!==0?1:hn(f),f=(f&(F.suspendedLanes|u))!==0?0:f,f!==0&&f!==de.retryLane))throw de.retryLane=f,Ks(a,f),as(F,a,f),bb;Z.data==="$?"||l1(),o=H0(a,o,u)}else Z.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=de.treeContext,Tr=lo(Z.nextSibling),Kr=o,qn=!0,Ho=null,Cs=!1,a!==null&&(Ia[ma++]=Js,Ia[ma++]=Zs,Ia[ma++]=Pl,Js=a.id,Zs=a.overflow,Pl=o),o=q0(o,f.children),o.flags|=4096);return o}return v?(Mu(),v=f.fallback,Z=o.mode,de=a.child,Ve=de.sibling,f=Ns(de,{mode:"hidden",children:f.children}),f.subtreeFlags=de.subtreeFlags&65011712,Ve!==null?v=Ns(Ve,v):(v=Xs(v,Z,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,Z=a.child.memoizedState,Z===null?Z=U0(u):(de=Z.cachePool,de!==null?(Ve=Qr._currentValue,de=de.parent!==Ve?{parent:Ve,pool:Ve}:de):de=z(),Z={baseLanes:Z.baseLanes|u,cachePool:de}),v.memoizedState=Z,v.childLanes=z0(a,F,u),o.memoizedState=B0,f):(Du(o),u=a.child,a=u.sibling,u=Ns(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(F=o.deletions,F===null?(o.deletions=[a],o.flags|=16):F.push(a)),o.child=u,o.memoizedState=null,u)}function q0(a,o){return o=Yp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Yp(a,o){return a=Ti(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function H0(a,o,u){return kh(o,a.child,null,u),a=q0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function kb(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),yh(a.return,o,u)}function $0(a,o,u,f,v){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v)}function Ib(a,o,u){var f=o.pendingProps,v=f.revealOrder,_=f.tail;if(Mi(a,o,f.children,u),f=bi.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&kb(a,u,o);else if(a.tag===19)kb(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(G(bi,f),v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Hp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),$0(o,!1,v,u,_);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}$0(o,!0,u,null,_);break;case"together":$0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ul(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Uu|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(ku(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ns(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ns(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function G0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&xh(a)))}function uT(a,o,u){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),$o(o,Qr,a.memoizedState.cache),ga();break;case 27:case 5:lt(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:$o(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Du(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Cb(a,o,u):(Du(o),a=Ul(a,o,u),a!==null?a.sibling:null);Du(o);break;case 19:var v=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(ku(a,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return Ib(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(bi,bi.current),f)break;return null;case 22:case 23:return o.lanes=0,Sb(a,o,u);case 24:$o(o,Qr,a.memoizedState.cache)}return Ul(a,o,u)}function Rb(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Ni=!0;else{if(!G0(a,u)&&(o.flags&128)===0)return Ni=!1,uT(a,o,u);Ni=(a.flags&131072)!==0}else Ni=!1,qn&&(o.flags&1048576)!==0&&Ap(o,vh,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var f=o.elementType,v=f._init;if(f=v(f._payload),o.type=f,typeof f=="function")Tu(f)?(a=Hc(f,a),o.tag=1,o=Tb(null,o,f,a,u)):(o.tag=0,o=V0(null,o,f,a,u));else{if(f!=null){if(v=f.$$typeof,v===re){o.tag=11,o=xb(null,o,f,a,u);break e}else if(v===V){o.tag=14,o=wb(null,o,f,a,u);break e}}throw o=he(f)||f,Error(r(306,o,""))}}return o;case 0:return V0(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=Hc(f,o.pendingProps),Tb(a,o,f,v,u);case 3:e:{if(_e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var _=o.memoizedState;v=_.element,Ae(a,o),_t(o,f,null,u);var F=o.memoizedState;if(f=F.cache,$o(o,Qr,f),f!==_.cache&&bh(o,[Qr],u,!0),Ft(),f=F.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:F.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Nb(a,o,f,u);break e}else if(f!==v){v=xn(Error(r(424)),o),Cu(v),o=Nb(a,o,f,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Tr=lo(a.firstChild),Kr=o,qn=!0,Ho=null,Cs=!0,u=ub(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ga(),f===v){o=Ul(a,o,u);break e}Mi(a,o,f,u)}o=o.child}return o;case 26:return Wp(a,o),a===null?(u=D5(o.type,null,o.pendingProps,null))?o.memoizedState=u:qn||(u=o.type,a=o.pendingProps,f=lm(oe.current).createElement(u),f[dn]=o,f[gn]=a,Fi(f,u,a),bn(f),o.stateNode=f):o.memoizedState=D5(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return lt(o),a===null&&qn&&(f=o.stateNode=P5(o.type,o.pendingProps,oe.current),Kr=o,Cs=!0,v=Tr,$u(o.type)?(T1=v,Tr=lo(f.firstChild)):Tr=v),Mi(a,o,o.pendingProps.children,u),Wp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&qn&&((v=f=Tr)&&(f=jT(f,o.type,o.pendingProps,Cs),f!==null?(o.stateNode=f,Kr=o,Tr=lo(f.firstChild),Cs=!1,v=!0):v=!1),v||Ol(o)),lt(o),v=o.type,_=o.pendingProps,F=a!==null?a.memoizedProps:null,f=_.children,_1(v,_)?f=null:F!==null&&_1(v,F)&&(o.flags|=32),o.memoizedState!==null&&(v=Za(a,o,Yo,null,null,u),ff._currentValue=v),Wp(a,o),Mi(a,o,f,u),o.child;case 6:return a===null&&qn&&((a=u=Tr)&&(u=FT(u,o.pendingProps,Cs),u!==null?(o.stateNode=u,Kr=o,Tr=null,a=!0):a=!1),a||Ol(o)),null;case 13:return Cb(a,o,u);case 4:return _e(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=kh(o,null,f,u):Mi(a,o,f,u),o.child;case 11:return xb(a,o,o.type,o.pendingProps,u);case 7:return Mi(a,o,o.pendingProps,u),o.child;case 8:return Mi(a,o,o.pendingProps.children,u),o.child;case 12:return Mi(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,$o(o,o.type,f.value),Mi(a,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,Rs(o),v=Xr(v),f=f(v),o.flags|=1,Mi(a,o,f,u),o.child;case 14:return wb(a,o,o.type,o.pendingProps,u);case 15:return _b(a,o,o.type,o.pendingProps,u);case 19:return Ib(a,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},a===null?(u=Yp(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ns(a.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Sb(a,o,u);case 24:return Rs(o),f=Xr(Qr),a===null?(v=E(),v===null&&(v=vr,_=Dd(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:f,cache:v},we(o),$o(o,Qr,v)):((a.lanes&u)!==0&&(Ae(a,o),_t(o,null,null,u),Ft()),v=a.memoizedState,_=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),$o(o,Qr,f)):(f=_.cache,$o(o,Qr,f),f!==v.cache&&bh(o,[Qr],u,!0))),Mi(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function zl(a){a.flags|=4}function Pb(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!B5(o)){if(o=Ls.current,o!==null&&((Bn&4194048)===Bn?Qo!==null:(Bn&62914560)!==Bn&&(Bn&536870912)===0||o!==Qo))throw De=te,W;a.flags|=8192}}function Kp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ee():536870912,a.lanes|=o,Lh|=o)}function Qd(a,o){if(!qn)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Dr(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function cT(a,o,u){var f=o.pendingProps;switch(Rc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(o),null;case 1:return Dr(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Is(Qr),Oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Oi(o)?zl(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tp())),Dr(o),null;case 26:return u=o.memoizedState,a===null?(zl(o),u!==null?(Dr(o),Pb(o,u)):(Dr(o),o.flags&=-16777217)):u?u!==a.memoizedState?(zl(o),Dr(o),Pb(o,u)):(Dr(o),o.flags&=-16777217):(a.memoizedProps!==f&&zl(o),Dr(o),o.flags&=-16777217),null;case 27:rt(o),u=oe.current;var v=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&zl(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Dr(o),null}a=ne.current,Oi(o)?Ep(o):(a=P5(v,f,u),o.stateNode=a,zl(o))}return Dr(o),null;case 5:if(rt(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&zl(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Dr(o),null}if(a=ne.current,Oi(o))Ep(o);else{switch(v=lm(oe.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}a[dn]=o,a[gn]=f;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=a;e:switch(Fi(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&zl(o)}}return Dr(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&zl(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=oe.current,Oi(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,v=Kr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}a[dn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||E5(a.nodeValue,u)),a||Ol(o)}else a=lm(a).createTextNode(f),a[dn]=o,o.stateNode=a}return Dr(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Oi(o),f!==null&&f.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[dn]=o}else ga(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dr(o),v=!1}else v=Tp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Bl(o),o):(Bl(o),null)}if(Bl(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Kp(o,o.updateQueue),Dr(o),null;case 4:return Oe(),a===null&&v1(o.stateNode.containerInfo),Dr(o),null;case 10:return Is(o.type),Dr(o),null;case 19:if(j(bi),v=o.memoizedState,v===null)return Dr(o),null;if(f=(o.flags&128)!==0,_=v.rendering,_===null)if(f)Qd(v,!1);else{if(qr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=Hp(a),_!==null){for(o.flags|=128,Qd(v,!1),a=_.updateQueue,o.updateQueue=a,Kp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)Cc(u,a),u=u.sibling;return G(bi,bi.current&1|2),o.child}a=a.sibling}v.tail!==null&&kt()>Jp&&(o.flags|=128,f=!0,Qd(v,!1),o.lanes=4194304)}else{if(!f)if(a=Hp(_),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Kp(o,a),Qd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!qn)return Dr(o),null}else 2*kt()-v.renderingStartTime>Jp&&u!==536870912&&(o.flags|=128,f=!0,Qd(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(a=v.last,a!==null?a.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=kt(),o.sibling=null,a=bi.current,G(bi,f?a&1|2:a&1),o):(Dr(o),null);case 22:case 23:return Bl(o),sn(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Dr(o),o.subtreeFlags&6&&(o.flags|=8192)):Dr(o),u=o.updateQueue,u!==null&&Kp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&j(y),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Is(Qr),Dr(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function hT(a,o){switch(Rc(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Is(Qr),Oe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return rt(o),null;case 13:if(Bl(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ga()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return j(bi),null;case 4:return Oe(),null;case 10:return Is(o.type),null;case 22:case 23:return Bl(o),sn(),a!==null&&j(y),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Is(Qr),null;case 25:return null;default:return null}}function Lb(a,o){switch(Rc(o),o.tag){case 3:Is(Qr),Oe();break;case 26:case 27:case 5:rt(o);break;case 4:Oe();break;case 13:Bl(o);break;case 19:j(bi);break;case 10:Is(o.type);break;case 22:case 23:Bl(o),sn(),a!==null&&j(y);break;case 24:Is(Qr)}}function Jd(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&a)===a){f=void 0;var _=u.create,F=u.inst;f=_(),F.destroy=f}u=u.next}while(u!==v)}}catch(Z){pr(o,o.return,Z)}}function ju(a,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&a)===a){var F=f.inst,Z=F.destroy;if(Z!==void 0){F.destroy=void 0,v=o;var de=u,Ve=Z;try{Ve()}catch(Ye){pr(v,de,Ye)}}}f=f.next}while(f!==_)}}catch(Ye){pr(o,o.return,Ye)}}function Ob(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Gn(o,u)}catch(f){pr(a,a.return,f)}}}function Db(a,o,u){u.props=Hc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){pr(a,o,f)}}function Zd(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(v){pr(a,o,v)}}function Jo(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){pr(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){pr(a,o,v)}else u.current=null}function Mb(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){pr(a,a.return,v)}}function W0(a,o,u){try{var f=a.stateNode;PT(f,a.type,u,o),f[gn]=o}catch(v){pr(a,a.return,v)}}function jb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$u(a.type)||a.tag===4}function Y0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||jb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$u(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function K0(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=om));else if(f!==4&&(f===27&&$u(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(K0(a,o,u),a=a.sibling;a!==null;)K0(a,o,u),a=a.sibling}function Xp(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&$u(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Xp(a,o,u),a=a.sibling;a!==null;)Xp(a,o,u),a=a.sibling}function Fb(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Fi(o,f,u),o[dn]=a,o[gn]=u}catch(_){pr(a,a.return,_)}}var ql=!1,Zr=!1,X0=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,Ci=null;function dT(a,o){if(a=a.containerInfo,x1=pm,a=Li(a),yi(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var F=0,Z=-1,de=-1,Ve=0,Ye=0,st=a,Be=null;t:for(;;){for(var Ue;st!==u||v!==0&&st.nodeType!==3||(Z=F+v),st!==_||f!==0&&st.nodeType!==3||(de=F+f),st.nodeType===3&&(F+=st.nodeValue.length),(Ue=st.firstChild)!==null;)Be=st,st=Ue;for(;;){if(st===a)break t;if(Be===u&&++Ve===v&&(Z=F),Be===_&&++Ye===f&&(de=F),(Ue=st.nextSibling)!==null)break;st=Be,Be=st.parentNode}st=Ue}u=Z===-1||de===-1?null:{start:Z,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(w1={focusedElem:a,selectionRange:u},pm=!1,Ci=o;Ci!==null;)if(o=Ci,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,Ci=a;else for(;Ci!==null;){switch(o=Ci,_=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var nn=Hc(u.type,v,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(nn,_),f.__reactInternalSnapshotBeforeUpdate=a}catch(Kt){pr(u,u.return,Kt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)A1(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":A1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Ci=a;break}Ci=o.return}}function Bb(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Fu(a,u),f&4&&Jd(5,u);break;case 1:if(Fu(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(F){pr(u,u.return,F)}else{var v=Hc(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(F){pr(u,u.return,F)}}f&64&&Ob(u),f&512&&Zd(u,u.return);break;case 3:if(Fu(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Gn(a,o)}catch(F){pr(u,u.return,F)}}break;case 27:o===null&&f&4&&Fb(u);case 26:case 5:Fu(a,u),o===null&&f&4&&Mb(u),f&512&&Zd(u,u.return);break;case 12:Fu(a,u);break;case 13:Fu(a,u),f&4&&qb(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=wT.bind(null,u),VT(a,u))));break;case 22:if(f=u.memoizedState!==null||ql,!f){o=o!==null&&o.memoizedState!==null||Zr,v=ql;var _=Zr;ql=f,(Zr=o)&&!_?Vu(a,u,(u.subtreeFlags&8772)!==0):Fu(a,u),ql=v,Zr=_}break;case 30:break;default:Fu(a,u)}}function Ub(a){var o=a.alternate;o!==null&&(a.alternate=null,Ub(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&yr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Nr=null,Pa=!1;function Hl(a,o,u){for(u=u.child;u!==null;)zb(a,o,u),u=u.sibling}function zb(a,o,u){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ze,u)}catch{}switch(u.tag){case 26:Zr||Jo(u,o),Hl(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zr||Jo(u,o);var f=Nr,v=Pa;$u(u.type)&&(Nr=u.stateNode,Pa=!1),Hl(a,o,u),uf(u.stateNode),Nr=f,Pa=v;break;case 5:Zr||Jo(u,o);case 6:if(f=Nr,v=Pa,Nr=null,Hl(a,o,u),Nr=f,Pa=v,Nr!==null)if(Pa)try{(Nr.nodeType===9?Nr.body:Nr.nodeName==="HTML"?Nr.ownerDocument.body:Nr).removeChild(u.stateNode)}catch(_){pr(u,o,_)}else try{Nr.removeChild(u.stateNode)}catch(_){pr(u,o,_)}break;case 18:Nr!==null&&(Pa?(a=Nr,I5(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),vf(a)):I5(Nr,u.stateNode));break;case 4:f=Nr,v=Pa,Nr=u.stateNode.containerInfo,Pa=!0,Hl(a,o,u),Nr=f,Pa=v;break;case 0:case 11:case 14:case 15:Zr||ju(2,u,o),Zr||ju(4,u,o),Hl(a,o,u);break;case 1:Zr||(Jo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Db(u,o,f)),Hl(a,o,u);break;case 21:Hl(a,o,u);break;case 22:Zr=(f=Zr)||u.memoizedState!==null,Hl(a,o,u),Zr=f;break;default:Hl(a,o,u)}}function qb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vf(a)}catch(u){pr(o,o.return,u)}}function fT(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Vb),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Vb),o;default:throw Error(r(435,a.tag))}}function Q0(a,o){var u=fT(a);o.forEach(function(f){var v=_T.bind(null,a,f);u.has(f)||(u.add(f),f.then(v,v))})}function ts(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],_=a,F=o,Z=F;e:for(;Z!==null;){switch(Z.tag){case 27:if($u(Z.type)){Nr=Z.stateNode,Pa=!1;break e}break;case 5:Nr=Z.stateNode,Pa=!1;break e;case 3:case 4:Nr=Z.stateNode.containerInfo,Pa=!0;break e}Z=Z.return}if(Nr===null)throw Error(r(160));zb(_,F,v),Nr=null,Pa=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Hb(o,a),o=o.sibling}var oo=null;function Hb(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ts(o,a),ns(a),f&4&&(ju(3,a,a.return),Jd(3,a),ju(5,a,a.return));break;case 1:ts(o,a),ns(a),f&512&&(Zr||u===null||Jo(u,u.return)),f&64&&ql&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=oo;if(ts(o,a),ns(a),f&512&&(Zr||u===null||Jo(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ii]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Fi(_,f,u),_[dn]=a,bn(_),f=_;break e;case"link":var F=F5("link","href",v).get(f+(u.href||""));if(F){for(var Z=0;Z<F.length;Z++)if(_=F[Z],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(Z,1);break t}}_=v.createElement(f),Fi(_,f,u),v.head.appendChild(_);break;case"meta":if(F=F5("meta","content",v).get(f+(u.content||""))){for(Z=0;Z<F.length;Z++)if(_=F[Z],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(Z,1);break t}}_=v.createElement(f),Fi(_,f,u),v.head.appendChild(_);break;default:throw Error(r(468,f))}_[dn]=a,bn(_),f=_}a.stateNode=f}else V5(v,a.type,a.stateNode);else a.stateNode=j5(v,f,a.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?V5(v,a.type,a.stateNode):j5(v,f,a.memoizedProps)):f===null&&a.stateNode!==null&&W0(a,a.memoizedProps,u.memoizedProps)}break;case 27:ts(o,a),ns(a),f&512&&(Zr||u===null||Jo(u,u.return)),u!==null&&f&4&&W0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(ts(o,a),ns(a),f&512&&(Zr||u===null||Jo(u,u.return)),a.flags&32){v=a.stateNode;try{Hi(v,"")}catch(Ue){pr(a,a.return,Ue)}}f&4&&a.stateNode!=null&&(v=a.memoizedProps,W0(a,v,u!==null?u.memoizedProps:v)),f&1024&&(X0=!0);break;case 6:if(ts(o,a),ns(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Ue){pr(a,a.return,Ue)}}break;case 3:if(hm=null,v=oo,oo=um(o.containerInfo),ts(o,a),oo=v,ns(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{vf(o.containerInfo)}catch(Ue){pr(a,a.return,Ue)}X0&&(X0=!1,$b(a));break;case 4:f=oo,oo=um(a.stateNode.containerInfo),ts(o,a),ns(a),oo=f;break;case 12:ts(o,a),ns(a);break;case 13:ts(o,a),ns(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(r1=kt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Q0(a,f)));break;case 22:v=a.memoizedState!==null;var de=u!==null&&u.memoizedState!==null,Ve=ql,Ye=Zr;if(ql=Ve||v,Zr=Ye||de,ts(o,a),Zr=Ye,ql=Ve,ns(a),f&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||de||ql||Zr||$c(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){de=u=o;try{if(_=de.stateNode,v)F=_.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{Z=de.stateNode;var st=de.memoizedProps.style,Be=st!=null&&st.hasOwnProperty("display")?st.display:null;Z.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(Ue){pr(de,de.return,Ue)}}}else if(o.tag===6){if(u===null){de=o;try{de.stateNode.nodeValue=v?"":de.memoizedProps}catch(Ue){pr(de,de.return,Ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Q0(a,u))));break;case 19:ts(o,a),ns(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Q0(a,f)));break;case 30:break;case 21:break;default:ts(o,a),ns(a)}}function ns(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(jb(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Y0(a);Xp(a,_,v);break;case 5:var F=u.stateNode;u.flags&32&&(Hi(F,""),u.flags&=-33);var Z=Y0(a);Xp(a,Z,F);break;case 3:case 4:var de=u.stateNode.containerInfo,Ve=Y0(a);K0(a,Ve,de);break;default:throw Error(r(161))}}catch(Ye){pr(a,a.return,Ye)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $b(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;$b(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Fu(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Bb(a,o.alternate,o),o=o.sibling}function $c(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ju(4,o,o.return),$c(o);break;case 1:Jo(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Db(o,o.return,u),$c(o);break;case 27:uf(o.stateNode);case 26:case 5:Jo(o,o.return),$c(o);break;case 22:o.memoizedState===null&&$c(o);break;case 30:$c(o);break;default:$c(o)}a=a.sibling}}function Vu(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=a,_=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:Vu(v,_,u),Jd(4,_);break;case 1:if(Vu(v,_,u),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ve){pr(f,f.return,Ve)}if(f=_,v=f.updateQueue,v!==null){var Z=f.stateNode;try{var de=v.shared.hiddenCallbacks;if(de!==null)for(v.shared.hiddenCallbacks=null,v=0;v<de.length;v++)Fn(de[v],Z)}catch(Ve){pr(f,f.return,Ve)}}u&&F&64&&Ob(_),Zd(_,_.return);break;case 27:Fb(_);case 26:case 5:Vu(v,_,u),u&&f===null&&F&4&&Mb(_),Zd(_,_.return);break;case 12:Vu(v,_,u);break;case 13:Vu(v,_,u),u&&F&4&&qb(v,_);break;case 22:_.memoizedState===null&&Vu(v,_,u),Zd(_,_.return);break;case 30:break;default:Vu(v,_,u)}o=o.sibling}}function J0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Pc(u))}function Z0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pc(a))}function Zo(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gb(a,o,u,f),o=o.sibling}function Gb(a,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Zo(a,o,u,f),v&2048&&Jd(9,o);break;case 1:Zo(a,o,u,f);break;case 3:Zo(a,o,u,f),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pc(a)));break;case 12:if(v&2048){Zo(a,o,u,f),a=o.stateNode;try{var _=o.memoizedProps,F=_.id,Z=_.onPostCommit;typeof Z=="function"&&Z(F,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(de){pr(o,o.return,de)}}else Zo(a,o,u,f);break;case 13:Zo(a,o,u,f);break;case 23:break;case 22:_=o.stateNode,F=o.alternate,o.memoizedState!==null?_._visibility&2?Zo(a,o,u,f):ef(a,o):_._visibility&2?Zo(a,o,u,f):(_._visibility|=2,Ih(a,o,u,f,(o.subtreeFlags&10256)!==0)),v&2048&&J0(F,o);break;case 24:Zo(a,o,u,f),v&2048&&Z0(o.alternate,o);break;default:Zo(a,o,u,f)}}function Ih(a,o,u,f,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=a,F=o,Z=u,de=f,Ve=F.flags;switch(F.tag){case 0:case 11:case 15:Ih(_,F,Z,de,v),Jd(8,F);break;case 23:break;case 22:var Ye=F.stateNode;F.memoizedState!==null?Ye._visibility&2?Ih(_,F,Z,de,v):ef(_,F):(Ye._visibility|=2,Ih(_,F,Z,de,v)),v&&Ve&2048&&J0(F.alternate,F);break;case 24:Ih(_,F,Z,de,v),v&&Ve&2048&&Z0(F.alternate,F);break;default:Ih(_,F,Z,de,v)}o=o.sibling}}function ef(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,v=f.flags;switch(f.tag){case 22:ef(u,f),v&2048&&J0(f.alternate,f);break;case 24:ef(u,f),v&2048&&Z0(f.alternate,f);break;default:ef(u,f)}o=o.sibling}}var tf=8192;function Rh(a){if(a.subtreeFlags&tf)for(a=a.child;a!==null;)Wb(a),a=a.sibling}function Wb(a){switch(a.tag){case 26:Rh(a),a.flags&tf&&a.memoizedState!==null&&JT(oo,a.memoizedState,a.memoizedProps);break;case 5:Rh(a);break;case 3:case 4:var o=oo;oo=um(a.stateNode.containerInfo),Rh(a),oo=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=tf,tf=16777216,Rh(a),tf=o):Rh(a));break;default:Rh(a)}}function Yb(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function nf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Ci=f,Xb(f,a)}Yb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kb(a),a=a.sibling}function Kb(a){switch(a.tag){case 0:case 11:case 15:nf(a),a.flags&2048&&ju(9,a,a.return);break;case 3:nf(a);break;case 12:nf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Qp(a)):nf(a);break;default:nf(a)}}function Qp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Ci=f,Xb(f,a)}Yb(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ju(8,o,o.return),Qp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qp(o));break;default:Qp(o)}a=a.sibling}}function Xb(a,o){for(;Ci!==null;){var u=Ci;switch(u.tag){case 0:case 11:case 15:ju(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Pc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ci=f;else e:for(u=a;Ci!==null;){f=Ci;var v=f.sibling,_=f.return;if(Ub(f),f===u){Ci=null;break e}if(v!==null){v.return=_,Ci=v;break e}Ci=_}}}var pT={getCacheForType:function(a){var o=Xr(Qr),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},mT=typeof WeakMap=="function"?WeakMap:Map,sr=0,vr=null,Nn=null,Bn=0,or=0,rs=null,Bu=!1,Ph=!1,e1=!1,$l=0,qr=0,Uu=0,Gc=0,t1=0,Os=0,Lh=0,rf=null,La=null,n1=!1,r1=0,Jp=1/0,Zp=null,zu=null,ji=0,qu=null,Oh=null,Dh=0,i1=0,a1=null,Qb=null,af=0,s1=null;function is(){if((sr&2)!==0&&Bn!==0)return Bn&-Bn;if(ie.T!==null){var a=Dl;return a!==0?a:f1()}return nr()}function Jb(){Os===0&&(Os=(Bn&536870912)===0||qn?Et():536870912);var a=Ls.current;return a!==null&&(a.flags|=32),Os}function as(a,o,u){(a===vr&&(or===2||or===9)||a.cancelPendingCommit!==null)&&(Mh(a,0),Hu(a,Bn,Os,!1)),jt(a,u),((sr&2)===0||a!==vr)&&(a===vr&&((sr&2)===0&&(Gc|=u),qr===4&&Hu(a,Bn,Os,!1)),el(a))}function Zb(a,o,u){if((sr&6)!==0)throw Error(r(327));var f=!u&&(o&124)===0&&(o&a.expiredLanes)===0||at(a,o),v=f?yT(a,o):u1(a,o,!0),_=f;do{if(v===0){Ph&&!f&&Hu(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!gT(u)){v=u1(a,o,!1),_=!1;continue}if(v===2){if(_=o,a.errorRecoveryDisabledLanes&_)var F=0;else F=a.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){o=F;e:{var Z=a;v=rf;var de=Z.current.memoizedState.isDehydrated;if(de&&(Mh(Z,F).flags|=256),F=u1(Z,F,!1),F!==2){if(e1&&!de){Z.errorRecoveryDisabledLanes|=_,Gc|=_,v=4;break e}_=La,La=v,_!==null&&(La===null?La=_:La.push.apply(La,_))}v=F}if(_=!1,v!==2)continue}}if(v===1){Mh(a,0),Hu(a,o,0,!0);break}e:{switch(f=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Hu(f,o,Os,!Bu);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=r1+300-kt(),10<v)){if(Hu(f,o,Os,!Bu),Ge(f,0,!0)!==0)break e;f.timeoutHandle=C5(e5.bind(null,f,u,La,Zp,n1,o,Os,Gc,Lh,Bu,_,2,-0,0),v);break e}e5(f,u,La,Zp,n1,o,Os,Gc,Lh,Bu,_,0,-0,0)}}break}while(!0);el(a)}function e5(a,o,u,f,v,_,F,Z,de,Ve,Ye,st,Be,Ue){if(a.timeoutHandle=-1,st=o.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(df={stylesheets:null,count:0,unsuspend:QT},Wb(o),st=ZT(),st!==null)){a.cancelPendingCommit=st(o5.bind(null,a,o,_,u,f,v,F,Z,de,Ye,1,Be,Ue)),Hu(a,_,F,!Ve);return}o5(a,o,_,u,f,v,F,Z,de)}function gT(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!si(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hu(a,o,u,f){o&=~t1,o&=~Gc,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var v=o;0<v;){var _=31-St(v),F=1<<_;f[_]=-1,v&=~F}u!==0&&vt(a,u,o)}function em(){return(sr&6)===0?(sf(0),!1):!0}function o1(){if(Nn!==null){if(or===0)var a=Nn.return;else a=Nn,to=li=null,_h(a),Ch=null,Kd=0,a=Nn;for(;a!==null;)Lb(a.alternate,a),a=a.return;Nn=null}}function Mh(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,OT(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),o1(),vr=a,Nn=u=Ns(a.current,null),Bn=o,or=0,rs=null,Bu=!1,Ph=at(a,o),e1=!1,Lh=Os=t1=Gc=Uu=qr=0,La=rf=null,n1=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var v=31-St(f),_=1<<v;o|=a[v],f&=~_}return $l=o,Ca(),u}function t5(a,o){zt=null,ie.H=Up,o===$||o===Y?(o=Re(),or=3):o===W?(o=Re(),or=4):or=o===bb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,rs=o,Nn===null&&(qr=1,Gp(a,xn(o,a.current)))}function n5(){var a=ie.H;return ie.H=Up,a===null?Up:a}function r5(){var a=ie.A;return ie.A=pT,a}function l1(){qr=4,Bu||(Bn&4194048)!==Bn&&Ls.current!==null||(Ph=!0),(Uu&134217727)===0&&(Gc&134217727)===0||vr===null||Hu(vr,Bn,Os,!1)}function u1(a,o,u){var f=sr;sr|=2;var v=n5(),_=r5();(vr!==a||Bn!==o)&&(Zp=null,Mh(a,o)),o=!1;var F=qr;e:do try{if(or!==0&&Nn!==null){var Z=Nn,de=rs;switch(or){case 8:o1(),F=6;break e;case 3:case 2:case 9:case 6:Ls.current===null&&(o=!0);var Ve=or;if(or=0,rs=null,jh(a,Z,de,Ve),u&&Ph){F=0;break e}break;default:Ve=or,or=0,rs=null,jh(a,Z,de,Ve)}}vT(),F=qr;break}catch(Ye){t5(a,Ye)}while(!0);return o&&a.shellSuspendCounter++,to=li=null,sr=f,ie.H=v,ie.A=_,Nn===null&&(vr=null,Bn=0,Ca()),F}function vT(){for(;Nn!==null;)i5(Nn)}function yT(a,o){var u=sr;sr|=2;var f=n5(),v=r5();vr!==a||Bn!==o?(Zp=null,Jp=kt()+500,Mh(a,o)):Ph=at(a,o);e:do try{if(or!==0&&Nn!==null){o=Nn;var _=rs;t:switch(or){case 1:or=0,rs=null,jh(a,o,_,1);break;case 2:case 9:if(ae(_)){or=0,rs=null,a5(o);break}o=function(){or!==2&&or!==9||vr!==a||(or=7),el(a)},_.then(o,o);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:ae(_)?(or=0,rs=null,a5(o)):(or=0,rs=null,jh(a,o,_,7));break;case 5:var F=null;switch(Nn.tag){case 26:F=Nn.memoizedState;case 5:case 27:var Z=Nn;if(!F||B5(F)){or=0,rs=null;var de=Z.sibling;if(de!==null)Nn=de;else{var Ve=Z.return;Ve!==null?(Nn=Ve,tm(Ve)):Nn=null}break t}}or=0,rs=null,jh(a,o,_,5);break;case 6:or=0,rs=null,jh(a,o,_,6);break;case 8:o1(),qr=6;break e;default:throw Error(r(462))}}bT();break}catch(Ye){t5(a,Ye)}while(!0);return to=li=null,ie.H=f,ie.A=v,sr=u,Nn!==null?0:(vr=null,Bn=0,Ca(),qr)}function bT(){for(;Nn!==null&&!qe();)i5(Nn)}function i5(a){var o=Rb(a.alternate,a,$l);a.memoizedProps=a.pendingProps,o===null?tm(a):Nn=o}function a5(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Eb(u,o,o.pendingProps,o.type,void 0,Bn);break;case 11:o=Eb(u,o,o.pendingProps,o.type.render,o.ref,Bn);break;case 5:_h(o);default:Lb(u,o),o=Nn=Cc(o,$l),o=Rb(u,o,$l)}a.memoizedProps=a.pendingProps,o===null?tm(a):Nn=o}function jh(a,o,u,f){to=li=null,_h(o),Ch=null,Kd=0;var v=o.return;try{if(lT(a,v,o,u,Bn)){qr=1,Gp(a,xn(u,a.current)),Nn=null;return}}catch(_){if(v!==null)throw Nn=v,_;qr=1,Gp(a,xn(u,a.current)),Nn=null;return}o.flags&32768?(qn||f===1?a=!0:Ph||(Bn&536870912)!==0?a=!1:(Bu=a=!0,(f===2||f===9||f===3||f===6)&&(f=Ls.current,f!==null&&f.tag===13&&(f.flags|=16384))),s5(o,a)):tm(o)}function tm(a){var o=a;do{if((o.flags&32768)!==0){s5(o,Bu);return}a=o.return;var u=cT(o.alternate,o,$l);if(u!==null){Nn=u;return}if(o=o.sibling,o!==null){Nn=o;return}Nn=o=a}while(o!==null);qr===0&&(qr=5)}function s5(a,o){do{var u=hT(a.alternate,a);if(u!==null){u.flags&=32767,Nn=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Nn=a;return}Nn=a=u}while(a!==null);qr=6,Nn=null}function o5(a,o,u,f,v,_,F,Z,de){a.cancelPendingCommit=null;do nm();while(ji!==0);if((sr&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=Pr,It(a,u,_,F,Z,de),a===vr&&(Nn=vr=null,Bn=0),Oh=o,qu=a,Dh=u,i1=_,a1=v,Qb=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ST(yt,function(){return d5(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,v=pe.p,pe.p=2,F=sr,sr|=4;try{dT(a,o,u)}finally{sr=F,pe.p=v,ie.T=f}}ji=1,l5(),u5(),c5()}}function l5(){if(ji===1){ji=0;var a=qu,o=Oh,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var f=pe.p;pe.p=2;var v=sr;sr|=4;try{Hb(o,a);var _=w1,F=Li(a.containerInfo),Z=_.focusedElem,de=_.selectionRange;if(F!==Z&&Z&&Z.ownerDocument&&Do(Z.ownerDocument.documentElement,Z)){if(de!==null&&yi(Z)){var Ve=de.start,Ye=de.end;if(Ye===void 0&&(Ye=Ve),"selectionStart"in Z)Z.selectionStart=Ve,Z.selectionEnd=Math.min(Ye,Z.value.length);else{var st=Z.ownerDocument||document,Be=st&&st.defaultView||window;if(Be.getSelection){var Ue=Be.getSelection(),nn=Z.textContent.length,Kt=Math.min(de.start,nn),dr=de.end===void 0?Kt:Math.min(de.end,nn);!Ue.extend&&Kt>dr&&(F=dr,dr=Kt,Kt=F);var Pe=Ws(Z,Kt),Se=Ws(Z,dr);if(Pe&&Se&&(Ue.rangeCount!==1||Ue.anchorNode!==Pe.node||Ue.anchorOffset!==Pe.offset||Ue.focusNode!==Se.node||Ue.focusOffset!==Se.offset)){var Me=st.createRange();Me.setStart(Pe.node,Pe.offset),Ue.removeAllRanges(),Kt>dr?(Ue.addRange(Me),Ue.extend(Se.node,Se.offset)):(Me.setEnd(Se.node,Se.offset),Ue.addRange(Me))}}}}for(st=[],Ue=Z;Ue=Ue.parentNode;)Ue.nodeType===1&&st.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<st.length;Z++){var et=st[Z];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}pm=!!x1,w1=x1=null}finally{sr=v,pe.p=f,ie.T=u}}a.current=o,ji=2}}function u5(){if(ji===2){ji=0;var a=qu,o=Oh,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var f=pe.p;pe.p=2;var v=sr;sr|=4;try{Bb(a,o.alternate,o)}finally{sr=v,pe.p=f,ie.T=u}}ji=3}}function c5(){if(ji===4||ji===3){ji=0,ce();var a=qu,o=Oh,u=Dh,f=Qb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ji=5:(ji=0,Oh=qu=null,h5(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(zu=null),Ht(u),o=o.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ze,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=ie.T,v=pe.p,pe.p=2,ie.T=null;try{for(var _=a.onRecoverableError,F=0;F<f.length;F++){var Z=f[F];_(Z.value,{componentStack:Z.stack})}}finally{ie.T=o,pe.p=v}}(Dh&3)!==0&&nm(),el(a),v=a.pendingLanes,(u&4194090)!==0&&(v&42)!==0?a===s1?af++:(af=0,s1=a):af=0,sf(0)}}function h5(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Pc(o)))}function nm(a){return l5(),u5(),c5(),d5()}function d5(){if(ji!==5)return!1;var a=qu,o=i1;i1=0;var u=Ht(Dh),f=ie.T,v=pe.p;try{pe.p=32>u?32:u,ie.T=null,u=a1,a1=null;var _=qu,F=Dh;if(ji=0,Oh=qu=null,Dh=0,(sr&6)!==0)throw Error(r(331));var Z=sr;if(sr|=4,Kb(_.current),Gb(_,_.current,F,u),sr=Z,sf(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ze,_)}catch{}return!0}finally{pe.p=v,ie.T=f,h5(a,o)}}function f5(a,o,u){o=xn(u,o),o=F0(a.stateNode,o,2),a=nt(a,o,2),a!==null&&(jt(a,2),el(a))}function pr(a,o,u){if(a.tag===3)f5(a,a,u);else for(;o!==null;){if(o.tag===3){f5(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zu===null||!zu.has(f))){a=xn(u,a),u=vb(2),f=nt(o,u,2),f!==null&&(yb(u,f,o,a),jt(f,2),el(f));break}}o=o.return}}function c1(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new mT;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(e1=!0,v.add(u),a=xT.bind(null,a,o,u),o.then(a,a))}function xT(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,vr===a&&(Bn&u)===u&&(qr===4||qr===3&&(Bn&62914560)===Bn&&300>kt()-r1?(sr&2)===0&&Mh(a,0):t1|=u,Lh===Bn&&(Lh=0)),el(a)}function p5(a,o){o===0&&(o=Ee()),a=Ks(a,o),a!==null&&(jt(a,o),el(a))}function wT(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),p5(a,u)}function _T(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),p5(a,u)}function ST(a,o){return ft(a,o)}var rm=null,Fh=null,h1=!1,im=!1,d1=!1,Wc=0;function el(a){a!==Fh&&a.next===null&&(Fh===null?rm=Fh=a:Fh=Fh.next=a),im=!0,h1||(h1=!0,ET())}function sf(a,o){if(!d1&&im){d1=!0;do for(var u=!1,f=rm;f!==null;){if(a!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var F=f.suspendedLanes,Z=f.pingedLanes;_=(1<<31-St(42|a)+1)-1,_&=v&~(F&~Z),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,y5(f,_))}else _=Bn,_=Ge(f,f===vr?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||at(f,_)||(u=!0,y5(f,_));f=f.next}while(u);d1=!1}}function AT(){m5()}function m5(){im=h1=!1;var a=0;Wc!==0&&(LT()&&(a=Wc),Wc=0);for(var o=kt(),u=null,f=rm;f!==null;){var v=f.next,_=g5(f,o);_===0?(f.next=null,u===null?rm=v:u.next=v,v===null&&(Fh=u)):(u=f,(a!==0||(_&3)!==0)&&(im=!0)),f=v}sf(a)}function g5(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var F=31-St(_),Z=1<<F,de=v[F];de===-1?((Z&u)===0||(Z&f)!==0)&&(v[F]=Ce(Z,o)):de<=o&&(a.expiredLanes|=Z),_&=~Z}if(o=vr,u=Bn,u=Ge(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(or===2||or===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Pt(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||at(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Pt(f),Ht(u)){case 2:case 8:u=dt;break;case 32:u=yt;break;case 268435456:u=He;break;default:u=yt}return f=v5.bind(null,a),u=ft(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Pt(f),a.callbackPriority=2,a.callbackNode=null,2}function v5(a,o){if(ji!==0&&ji!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(nm()&&a.callbackNode!==u)return null;var f=Bn;return f=Ge(a,a===vr?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Zb(a,f,o),g5(a,kt()),a.callbackNode!=null&&a.callbackNode===u?v5.bind(null,a):null)}function y5(a,o){if(nm())return null;Zb(a,o,!0)}function ET(){DT(function(){(sr&6)!==0?ft(Je,AT):m5()})}function f1(){return Wc===0&&(Wc=Et()),Wc}function b5(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$a(""+a)}function x5(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function TT(a,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var _=b5((v[gn]||null).action),F=f.submitter;F&&(o=(o=F[gn]||null)?b5(o.formAction):F.getAttribute("formAction"),o!==null&&(_=o,F=null));var Z=new ys("action","action",null,f,v);a.push({event:Z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Wc!==0){var de=F?x5(v,F):new FormData(v);Ps(u,{pending:!0,data:de,method:v.method,action:_},null,de)}}else typeof _=="function"&&(Z.preventDefault(),de=F?x5(v,F):new FormData(v),Ps(u,{pending:!0,data:de,method:v.method,action:_},_,de))},currentTarget:v}]})}}for(var p1=0;p1<kl.length;p1++){var m1=kl[p1],NT=m1.toLowerCase(),CT=m1[0].toUpperCase()+m1.slice(1);Er(NT,"on"+CT)}Er(Au,"onAnimationEnd"),Er(jo,"onAnimationIteration"),Er(Fo,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(Vo,"onTransitionRun"),Er(Cl,"onTransitionStart"),Er(Eu,"onTransitionCancel"),Er(Bo,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function w5(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],v=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var F=f.length-1;0<=F;F--){var Z=f[F],de=Z.instance,Ve=Z.currentTarget;if(Z=Z.listener,de!==_&&v.isPropagationStopped())break e;_=Z,v.currentTarget=Ve;try{_(v)}catch(Ye){$p(Ye)}v.currentTarget=null,_=de}else for(F=0;F<f.length;F++){if(Z=f[F],de=Z.instance,Ve=Z.currentTarget,Z=Z.listener,de!==_&&v.isPropagationStopped())break e;_=Z,v.currentTarget=Ve;try{_(v)}catch(Ye){$p(Ye)}v.currentTarget=null,_=de}}}}function Cn(a,o){var u=o[On];u===void 0&&(u=o[On]=new Set);var f=a+"__bubble";u.has(f)||(_5(o,a,2,!1),u.add(f))}function g1(a,o,u){var f=0;o&&(f|=4),_5(u,a,f,o)}var am="_reactListening"+Math.random().toString(36).slice(2);function v1(a){if(!a[am]){a[am]=!0,pi.forEach(function(u){u!=="selectionchange"&&(kT.has(u)||g1(u,!1,a),g1(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[am]||(o[am]=!0,g1("selectionchange",!1,o))}}function _5(a,o,u,f){switch(G5(o)){case 2:var v=nN;break;case 8:v=rN;break;default:v=R1}u=v.bind(null,o,u,a),v=void 0,!Pi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function y1(a,o,u,f,v){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var F=f.tag;if(F===3||F===4){var Z=f.stateNode.containerInfo;if(Z===v)break;if(F===4)for(F=f.return;F!==null;){var de=F.tag;if((de===3||de===4)&&F.stateNode.containerInfo===v)return;F=F.return}for(;Z!==null;){if(F=_r(Z),F===null)return;if(de=F.tag,de===5||de===6||de===26||de===27){f=_=F;continue e}Z=Z.parentNode}}f=f.return}bu(function(){var Ve=_,Ye=ir(u),st=[];e:{var Be=Ys.get(a);if(Be!==void 0){var Ue=ys,nn=a;switch(a){case"keypress":if(Wi(u)===0)break e;case"keydown":case"keyup":Ue=Ka;break;case"focusin":nn="focus",Ue=xs;break;case"focusout":nn="blur",Ue=xs;break;case"beforeblur":case"afterblur":Ue=xs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=bs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Ro;break;case Au:case jo:case Fo:Ue=Co;break;case Bo:Ue=q;break;case"scroll":case"scrollend":Ue=_l;break;case"wheel":Ue=ve;break;case"copy":case"cut":case"paste":Ue=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Gs;break;case"toggle":case"beforetoggle":Ue=$e}var Kt=(o&4)!==0,dr=!Kt&&(a==="scroll"||a==="scrollend"),Pe=Kt?Be!==null?Be+"Capture":null:Be;Kt=[];for(var Se=Ve,Me;Se!==null;){var et=Se;if(Me=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Me===null||Pe===null||(et=_i(Se,Pe),et!=null&&Kt.push(lf(Se,et,Me))),dr)break;Se=Se.return}0<Kt.length&&(Be=new Ue(Be,nn,null,u,Ye),st.push({event:Be,listeners:Kt}))}}if((o&7)===0){e:{if(Be=a==="mouseover"||a==="pointerover",Ue=a==="mouseout"||a==="pointerout",Be&&u!==xa&&(nn=u.relatedTarget||u.fromElement)&&(_r(nn)||nn[yn]))break e;if((Ue||Be)&&(Be=Ye.window===Ye?Ye:(Be=Ye.ownerDocument)?Be.defaultView||Be.parentWindow:window,Ue?(nn=u.relatedTarget||u.toElement,Ue=Ve,nn=nn?_r(nn):null,nn!==null&&(dr=s(nn),Kt=nn.tag,nn!==dr||Kt!==5&&Kt!==27&&Kt!==6)&&(nn=null)):(Ue=null,nn=Ve),Ue!==nn)){if(Kt=Vr,et="onMouseLeave",Pe="onMouseEnter",Se="mouse",(a==="pointerout"||a==="pointerover")&&(Kt=Gs,et="onPointerLeave",Pe="onPointerEnter",Se="pointer"),dr=Ue==null?Be:fr(Ue),Me=nn==null?Be:fr(nn),Be=new Kt(et,Se+"leave",Ue,u,Ye),Be.target=dr,Be.relatedTarget=Me,et=null,_r(Ye)===Ve&&(Kt=new Kt(Pe,Se+"enter",nn,u,Ye),Kt.target=Me,Kt.relatedTarget=dr,et=Kt),dr=et,Ue&&nn)t:{for(Kt=Ue,Pe=nn,Se=0,Me=Kt;Me;Me=Vh(Me))Se++;for(Me=0,et=Pe;et;et=Vh(et))Me++;for(;0<Se-Me;)Kt=Vh(Kt),Se--;for(;0<Me-Se;)Pe=Vh(Pe),Me--;for(;Se--;){if(Kt===Pe||Pe!==null&&Kt===Pe.alternate)break t;Kt=Vh(Kt),Pe=Vh(Pe)}Kt=null}else Kt=null;Ue!==null&&S5(st,Be,Ue,Kt,!1),nn!==null&&dr!==null&&S5(st,dr,nn,Kt,!0)}}e:{if(Be=Ve?fr(Ve):window,Ue=Be.nodeName&&Be.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Be.type==="file")var Ot=_u;else if(Jn(Be))if(Al)Ot=ph;else{Ot=Ld;var En=Ki}else Ue=Be.nodeName,!Ue||Ue.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Ve&&xl(Ve.elementType)&&(Ot=_u):Ot=Tc;if(Ot&&(Ot=Ot(a,Ve))){Ta(st,Ot,u,Ye);break e}En&&En(a,Be,Ve),a==="focusout"&&Ve&&Be.type==="number"&&Ve.memoizedProps.value!=null&&ms(Be,"number",Be.value)}switch(En=Ve?fr(Ve):window,a){case"focusin":(Jn(En)||En.contentEditable==="true")&&(Xi=En,Xa=Ve,Es=null);break;case"focusout":Es=Xa=Xi=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Ar(st,u,Ye);break;case"selectionchange":if(Mo)break;case"keydown":case"keyup":Ar(st,u,Ye)}var Vt;if(wt)e:{switch(a){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Yt?Fe(a,u)&&(Xt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Xt="onCompositionStart");Xt&&(L&&u.locale!=="ko"&&(Yt||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Yt&&(Vt=wl()):(Gi=Ye,vs="value"in Gi?Gi.value:Gi.textContent,Yt=!0)),En=sm(Ve,Xt),0<En.length&&(Xt=new qs(Xt,a,null,u,Ye),st.push({event:Xt,listeners:En}),Vt?Xt.data=Vt:(Vt=ct(u),Vt!==null&&(Xt.data=Vt)))),(Vt=T?An(a,u):an(a,u))&&(Xt=sm(Ve,"onBeforeInput"),0<Xt.length&&(En=new qs("onBeforeInput","beforeinput",null,u,Ye),st.push({event:En,listeners:Xt}),En.data=Vt)),TT(st,a,Ve,u,Ye)}w5(st,o)})}function lf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function sm(a,o){for(var u=o+"Capture",f=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=_i(a,u),v!=null&&f.unshift(lf(a,v,_)),v=_i(a,o),v!=null&&f.push(lf(a,v,_))),a.tag===3)return f;a=a.return}return[]}function Vh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function S5(a,o,u,f,v){for(var _=o._reactName,F=[];u!==null&&u!==f;){var Z=u,de=Z.alternate,Ve=Z.stateNode;if(Z=Z.tag,de!==null&&de===f)break;Z!==5&&Z!==26&&Z!==27||Ve===null||(de=Ve,v?(Ve=_i(u,_),Ve!=null&&F.unshift(lf(u,Ve,de))):v||(Ve=_i(u,_),Ve!=null&&F.push(lf(u,Ve,de)))),u=u.return}F.length!==0&&a.push({event:o,listeners:F})}var IT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function A5(a){return(typeof a=="string"?a:""+a).replace(IT,`
`).replace(RT,"")}function E5(a,o){return o=A5(o),A5(a)===o}function om(){}function hr(a,o,u,f,v,_){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Hi(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Hi(a,""+f);break;case"className":da(a,"class",f);break;case"tabIndex":da(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":da(a,u,f);break;case"style":bl(a,f,_);break;case"data":if(o!=="object"){da(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=$a(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&hr(a,o,"name",v.name,v,null),hr(a,o,"formEncType",v.formEncType,v,null),hr(a,o,"formMethod",v.formMethod,v,null),hr(a,o,"formTarget",v.formTarget,v,null)):(hr(a,o,"encType",v.encType,v,null),hr(a,o,"method",v.method,v,null),hr(a,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=$a(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=om);break;case"onScroll":f!=null&&Cn("scroll",a);break;case"onScrollEnd":f!=null&&Cn("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=$a(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Cn("beforetoggle",a),Cn("toggle",a),ha(a,"popover",f);break;case"xlinkActuate":Wr(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Wr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Wr(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Wr(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Wr(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Wr(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ha(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ha.get(u)||u,ha(a,u,f))}}function b1(a,o,u,f,v,_){switch(u){case"style":bl(a,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof f=="string"?Hi(a,f):(typeof f=="number"||typeof f=="bigint")&&Hi(a,""+f);break;case"onScroll":f!=null&&Cn("scroll",a);break;case"onScrollEnd":f!=null&&Cn("scrollend",a);break;case"onClick":f!=null&&(a.onclick=om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=a[gn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,v);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ha(a,u,f)}}}function Fi(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",a),Cn("load",a);var f=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var F=u[_];if(F!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:hr(a,o,_,F,u,null)}}v&&hr(a,o,"srcSet",u.srcSet,u,null),f&&hr(a,o,"src",u.src,u,null);return;case"input":Cn("invalid",a);var Z=_=F=v=null,de=null,Ve=null;for(f in u)if(u.hasOwnProperty(f)){var Ye=u[f];if(Ye!=null)switch(f){case"name":v=Ye;break;case"type":F=Ye;break;case"checked":de=Ye;break;case"defaultChecked":Ve=Ye;break;case"value":_=Ye;break;case"defaultValue":Z=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,o));break;default:hr(a,o,f,Ye,u,null)}}ps(a,_,Z,de,Ve,F,v,!1),fs(a);return;case"select":Cn("invalid",a),f=F=_=null;for(v in u)if(u.hasOwnProperty(v)&&(Z=u[v],Z!=null))switch(v){case"value":_=Z;break;case"defaultValue":F=Z;break;case"multiple":f=Z;default:hr(a,o,v,Z,u,null)}o=_,u=F,a.multiple=!!f,o!=null?ba(a,!!f,o,!1):u!=null&&ba(a,!!f,u,!0);return;case"textarea":Cn("invalid",a),_=v=f=null;for(F in u)if(u.hasOwnProperty(F)&&(Z=u[F],Z!=null))switch(F){case"value":f=Z;break;case"defaultValue":v=Z;break;case"children":_=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:hr(a,o,F,Z,u,null)}gs(a,f,v,_),fs(a);return;case"option":for(de in u)if(u.hasOwnProperty(de)&&(f=u[de],f!=null))switch(de){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:hr(a,o,de,f,u,null)}return;case"dialog":Cn("beforetoggle",a),Cn("toggle",a),Cn("cancel",a),Cn("close",a);break;case"iframe":case"object":Cn("load",a);break;case"video":case"audio":for(f=0;f<of.length;f++)Cn(of[f],a);break;case"image":Cn("error",a),Cn("load",a);break;case"details":Cn("toggle",a);break;case"embed":case"source":case"link":Cn("error",a),Cn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in u)if(u.hasOwnProperty(Ve)&&(f=u[Ve],f!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:hr(a,o,Ve,f,u,null)}return;default:if(xl(o)){for(Ye in u)u.hasOwnProperty(Ye)&&(f=u[Ye],f!==void 0&&b1(a,o,Ye,f,u,void 0));return}}for(Z in u)u.hasOwnProperty(Z)&&(f=u[Z],f!=null&&hr(a,o,Z,f,u,null))}function PT(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,F=null,Z=null,de=null,Ve=null,Ye=null;for(Ue in u){var st=u[Ue];if(u.hasOwnProperty(Ue)&&st!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":de=st;default:f.hasOwnProperty(Ue)||hr(a,o,Ue,null,f,st)}}for(var Be in f){var Ue=f[Be];if(st=u[Be],f.hasOwnProperty(Be)&&(Ue!=null||st!=null))switch(Be){case"type":_=Ue;break;case"name":v=Ue;break;case"checked":Ve=Ue;break;case"defaultChecked":Ye=Ue;break;case"value":F=Ue;break;case"defaultValue":Z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,o));break;default:Ue!==st&&hr(a,o,Be,Ue,f,st)}}gi(a,F,Z,de,Ve,Ye,_,v);return;case"select":Ue=F=Z=Be=null;for(_ in u)if(de=u[_],u.hasOwnProperty(_)&&de!=null)switch(_){case"value":break;case"multiple":Ue=de;default:f.hasOwnProperty(_)||hr(a,o,_,null,f,de)}for(v in f)if(_=f[v],de=u[v],f.hasOwnProperty(v)&&(_!=null||de!=null))switch(v){case"value":Be=_;break;case"defaultValue":Z=_;break;case"multiple":F=_;default:_!==de&&hr(a,o,v,_,f,de)}o=Z,u=F,f=Ue,Be!=null?ba(a,!!u,Be,!1):!!f!=!!u&&(o!=null?ba(a,!!u,o,!0):ba(a,!!u,u?[]:"",!1));return;case"textarea":Ue=Be=null;for(Z in u)if(v=u[Z],u.hasOwnProperty(Z)&&v!=null&&!f.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:hr(a,o,Z,null,f,v)}for(F in f)if(v=f[F],_=u[F],f.hasOwnProperty(F)&&(v!=null||_!=null))switch(F){case"value":Be=v;break;case"defaultValue":Ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&hr(a,o,F,v,f,_)}Hn(a,Be,Ue);return;case"option":for(var nn in u)if(Be=u[nn],u.hasOwnProperty(nn)&&Be!=null&&!f.hasOwnProperty(nn))switch(nn){case"selected":a.selected=!1;break;default:hr(a,o,nn,null,f,Be)}for(de in f)if(Be=f[de],Ue=u[de],f.hasOwnProperty(de)&&Be!==Ue&&(Be!=null||Ue!=null))switch(de){case"selected":a.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:hr(a,o,de,Be,f,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in u)Be=u[Kt],u.hasOwnProperty(Kt)&&Be!=null&&!f.hasOwnProperty(Kt)&&hr(a,o,Kt,null,f,Be);for(Ve in f)if(Be=f[Ve],Ue=u[Ve],f.hasOwnProperty(Ve)&&Be!==Ue&&(Be!=null||Ue!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,o));break;default:hr(a,o,Ve,Be,f,Ue)}return;default:if(xl(o)){for(var dr in u)Be=u[dr],u.hasOwnProperty(dr)&&Be!==void 0&&!f.hasOwnProperty(dr)&&b1(a,o,dr,void 0,f,Be);for(Ye in f)Be=f[Ye],Ue=u[Ye],!f.hasOwnProperty(Ye)||Be===Ue||Be===void 0&&Ue===void 0||b1(a,o,Ye,Be,f,Ue);return}}for(var Pe in u)Be=u[Pe],u.hasOwnProperty(Pe)&&Be!=null&&!f.hasOwnProperty(Pe)&&hr(a,o,Pe,null,f,Be);for(st in f)Be=f[st],Ue=u[st],!f.hasOwnProperty(st)||Be===Ue||Be==null&&Ue==null||hr(a,o,st,Be,f,Ue)}var x1=null,w1=null;function lm(a){return a.nodeType===9?a:a.ownerDocument}function T5(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N5(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function _1(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var S1=null;function LT(){var a=window.event;return a&&a.type==="popstate"?a===S1?!1:(S1=a,!0):(S1=null,!1)}var C5=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,k5=typeof Promise=="function"?Promise:void 0,DT=typeof queueMicrotask=="function"?queueMicrotask:typeof k5<"u"?function(a){return k5.resolve(null).then(a).catch(MT)}:C5;function MT(a){setTimeout(function(){throw a})}function $u(a){return a==="head"}function I5(a,o){var u=o,f=0,v=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var F=a.ownerDocument;if(u&1&&uf(F.documentElement),u&2&&uf(F.body),u&4)for(u=F.head,uf(u),F=u.firstChild;F;){var Z=F.nextSibling,de=F.nodeName;F[ii]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&F.rel.toLowerCase()==="stylesheet"||u.removeChild(F),F=Z}}if(v===0){a.removeChild(_),vf(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);vf(o)}function A1(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":A1(u),yr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function jT(a,o,u,f){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[ii])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=lo(a.nextSibling),a===null)break}return null}function FT(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=lo(a.nextSibling),a===null))return null;return a}function E1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function VT(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function lo(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var T1=null;function R5(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function P5(a,o,u){switch(o=lm(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function uf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);yr(a)}var Ds=new Map,L5=new Set;function um(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Gl=pe.d;pe.d={f:BT,r:UT,D:zT,C:qT,L:HT,m:$T,X:WT,S:GT,M:YT};function BT(){var a=Gl.f(),o=em();return a||o}function UT(a){var o=rr(a);o!==null&&o.tag===5&&o.type==="form"?zc(o):Gl.r(a)}var Bh=typeof document>"u"?null:document;function O5(a,o,u){var f=Bh;if(f&&typeof o=="string"&&o){var v=Rn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),L5.has(v)||(L5.add(v),a={rel:a,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),Fi(o,"link",a),bn(o),f.head.appendChild(o)))}}function zT(a){Gl.D(a),O5("dns-prefetch",a,null)}function qT(a,o){Gl.C(a,o),O5("preconnect",a,o)}function HT(a,o,u){Gl.L(a,o,u);var f=Bh;if(f&&a&&o){var v='link[rel="preload"][as="'+Rn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Rn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Rn(u.imageSizes)+'"]')):v+='[href="'+Rn(a)+'"]';var _=v;switch(o){case"style":_=Uh(a);break;case"script":_=zh(a)}Ds.has(_)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ds.set(_,a),f.querySelector(v)!==null||o==="style"&&f.querySelector(cf(_))||o==="script"&&f.querySelector(hf(_))||(o=f.createElement("link"),Fi(o,"link",a),bn(o),f.head.appendChild(o)))}}function $T(a,o){Gl.m(a,o);var u=Bh;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(a)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=zh(a)}if(!Ds.has(_)&&(a=g({rel:"modulepreload",href:a},o),Ds.set(_,a),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hf(_)))return}f=u.createElement("link"),Fi(f,"link",a),bn(f),u.head.appendChild(f)}}}function GT(a,o,u){Gl.S(a,o,u);var f=Bh;if(f&&a){var v=Mn(f).hoistableStyles,_=Uh(a);o=o||"default";var F=v.get(_);if(!F){var Z={loading:0,preload:null};if(F=f.querySelector(cf(_)))Z.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ds.get(_))&&N1(a,u);var de=F=f.createElement("link");bn(de),Fi(de,"link",a),de._p=new Promise(function(Ve,Ye){de.onload=Ve,de.onerror=Ye}),de.addEventListener("load",function(){Z.loading|=1}),de.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,cm(F,o,f)}F={type:"stylesheet",instance:F,count:1,state:Z},v.set(_,F)}}}function WT(a,o){Gl.X(a,o);var u=Bh;if(u&&a){var f=Mn(u).hoistableScripts,v=zh(a),_=f.get(v);_||(_=u.querySelector(hf(v)),_||(a=g({src:a,async:!0},o),(o=Ds.get(v))&&C1(a,o),_=u.createElement("script"),bn(_),Fi(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function YT(a,o){Gl.M(a,o);var u=Bh;if(u&&a){var f=Mn(u).hoistableScripts,v=zh(a),_=f.get(v);_||(_=u.querySelector(hf(v)),_||(a=g({src:a,async:!0,type:"module"},o),(o=Ds.get(v))&&C1(a,o),_=u.createElement("script"),bn(_),Fi(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function D5(a,o,u,f){var v=(v=oe.current)?um(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Uh(u.href),u=Mn(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Uh(u.href);var _=Mn(v).hoistableStyles,F=_.get(a);if(F||(v=v.ownerDocument||v,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,F),(_=v.querySelector(cf(a)))&&!_._p&&(F.instance=_,F.state.loading=5),Ds.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ds.set(a,u),_||KT(v,a,u,F.state))),o&&f===null)throw Error(r(528,""));return F}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zh(u),u=Mn(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Uh(a){return'href="'+Rn(a)+'"'}function cf(a){return'link[rel="stylesheet"]['+a+"]"}function M5(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function KT(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Fi(o,"link",u),bn(o),a.head.appendChild(o))}function zh(a){return'[src="'+Rn(a)+'"]'}function hf(a){return"script[async]"+a}function j5(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Rn(u.href)+'"]');if(f)return o.instance=f,bn(f),f;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),bn(f),Fi(f,"style",v),cm(f,u.precedence,a),o.instance=f;case"stylesheet":v=Uh(u.href);var _=a.querySelector(cf(v));if(_)return o.state.loading|=4,o.instance=_,bn(_),_;f=M5(u),(v=Ds.get(v))&&N1(f,v),_=(a.ownerDocument||a).createElement("link"),bn(_);var F=_;return F._p=new Promise(function(Z,de){F.onload=Z,F.onerror=de}),Fi(_,"link",f),o.state.loading|=4,cm(_,u.precedence,a),o.instance=_;case"script":return _=zh(u.src),(v=a.querySelector(hf(_)))?(o.instance=v,bn(v),v):(f=u,(v=Ds.get(_))&&(f=g({},u),C1(f,v)),a=a.ownerDocument||a,v=a.createElement("script"),bn(v),Fi(v,"link",f),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,cm(f,u.precedence,a));return o.instance}function cm(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,F=0;F<f.length;F++){var Z=f[F];if(Z.dataset.precedence===o)_=Z;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function N1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function C1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var hm=null;function F5(a,o,u){if(hm===null){var f=new Map,v=hm=new Map;v.set(u,f)}else v=hm,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[ii]||_[dn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var F=_.getAttribute(o)||"";F=a+F;var Z=f.get(F);Z?Z.push(_):f.set(F,[_])}}return f}function V5(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function XT(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function B5(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var df=null;function QT(){}function JT(a,o,u){if(df===null)throw Error(r(475));var f=df;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Uh(u.href),_=a.querySelector(cf(v));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=dm.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=_,bn(_);return}_=a.ownerDocument||a,u=M5(u),(v=Ds.get(v))&&N1(u,v),_=_.createElement("link"),bn(_);var F=_;F._p=new Promise(function(Z,de){F.onload=Z,F.onerror=de}),Fi(_,"link",u),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=dm.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function ZT(){if(df===null)throw Error(r(475));var a=df;return a.stylesheets&&a.count===0&&k1(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&k1(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function dm(){if(this.count--,this.count===0){if(this.stylesheets)k1(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var fm=null;function k1(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,fm=new Map,o.forEach(eN,a),fm=null,dm.call(a))}function eN(a,o){if(!(o.state.loading&4)){var u=fm.get(a);if(u)var f=u.get(null);else{u=new Map,fm.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var F=v[_];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),f=F)}f&&u.set(null,f)}v=o.instance,F=v.getAttribute("data-precedence"),_=u.get(F)||f,_===f&&u.set(null,v),u.set(F,v),this.count++,f=dm.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ff={$$typeof:H,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function tN(a,o,u,f,v,_,F,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function U5(a,o,u,f,v,_,F,Z,de,Ve,Ye,st){return a=new tN(a,o,u,F,Z,de,Ve,st),o=1,_===!0&&(o|=24),_=Ti(3,null,null,o),a.current=_,_.stateNode=a,o=Dd(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:o},we(_),a}function z5(a){return a?(a=oi,a):oi}function q5(a,o,u,f,v,_){v=z5(v),f.context===null?f.context=v:f.pendingContext=v,f=We(o),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=nt(a,f,o),u!==null&&(as(u,a,o),Qe(u,a,o))}function H5(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function I1(a,o){H5(a,o),(a=a.alternate)&&H5(a,o)}function $5(a){if(a.tag===13){var o=Ks(a,67108864);o!==null&&as(o,a,67108864),I1(a,67108864)}}var pm=!0;function nN(a,o,u,f){var v=ie.T;ie.T=null;var _=pe.p;try{pe.p=2,R1(a,o,u,f)}finally{pe.p=_,ie.T=v}}function rN(a,o,u,f){var v=ie.T;ie.T=null;var _=pe.p;try{pe.p=8,R1(a,o,u,f)}finally{pe.p=_,ie.T=v}}function R1(a,o,u,f){if(pm){var v=P1(f);if(v===null)y1(a,o,f,mm,u),W5(a,f);else if(aN(v,a,o,u,f))f.stopPropagation();else if(W5(a,f),o&4&&-1<iN.indexOf(a)){for(;v!==null;){var _=rr(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var F=ye(_.pendingLanes);if(F!==0){var Z=_;for(Z.pendingLanes|=2,Z.entangledLanes|=2;F;){var de=1<<31-St(F);Z.entanglements[1]|=de,F&=~de}el(_),(sr&6)===0&&(Jp=kt()+500,sf(0))}}break;case 13:Z=Ks(_,2),Z!==null&&as(Z,_,2),em(),I1(_,2)}if(_=P1(f),_===null&&y1(a,o,f,mm,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else y1(a,o,f,null,u)}}function P1(a){return a=ir(a),L1(a)}var mm=null;function L1(a){if(mm=null,a=_r(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return mm=a,null}function G5(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case Je:return 2;case dt:return 8;case yt:case bt:return 32;case He:return 268435456;default:return 32}default:return 32}}var O1=!1,Gu=null,Wu=null,Yu=null,pf=new Map,mf=new Map,Ku=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W5(a,o){switch(a){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":Wu=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":pf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(o.pointerId)}}function gf(a,o,u,f,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},o!==null&&(o=rr(o),o!==null&&$5(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function aN(a,o,u,f,v){switch(o){case"focusin":return Gu=gf(Gu,a,o,u,f,v),!0;case"dragenter":return Wu=gf(Wu,a,o,u,f,v),!0;case"mouseover":return Yu=gf(Yu,a,o,u,f,v),!0;case"pointerover":var _=v.pointerId;return pf.set(_,gf(pf.get(_)||null,a,o,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,mf.set(_,gf(mf.get(_)||null,a,o,u,f,v)),!0}return!1}function Y5(a){var o=_r(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Ir(a.priority,function(){if(u.tag===13){var f=is();f=hn(f);var v=Ks(u,f);v!==null&&as(v,u,f),I1(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function gm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=P1(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);xa=f,u.target.dispatchEvent(f),xa=null}else return o=rr(u),o!==null&&$5(o),a.blockedOn=u,!1;o.shift()}return!0}function K5(a,o,u){gm(a)&&u.delete(o)}function sN(){O1=!1,Gu!==null&&gm(Gu)&&(Gu=null),Wu!==null&&gm(Wu)&&(Wu=null),Yu!==null&&gm(Yu)&&(Yu=null),pf.forEach(K5),mf.forEach(K5)}function vm(a,o){a.blockedOn===o&&(a.blockedOn=null,O1||(O1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sN)))}var ym=null;function X5(a){ym!==a&&(ym=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ym===a&&(ym=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],v=a[o+2];if(typeof f!="function"){if(L1(f||u)===null)continue;break}var _=rr(u);_!==null&&(a.splice(o,3),o-=3,Ps(_,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function vf(a){function o(de){return vm(de,a)}Gu!==null&&vm(Gu,a),Wu!==null&&vm(Wu,a),Yu!==null&&vm(Yu,a),pf.forEach(o),mf.forEach(o);for(var u=0;u<Ku.length;u++){var f=Ku[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ku.length&&(u=Ku[0],u.blockedOn===null);)Y5(u),u.blockedOn===null&&Ku.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],_=u[f+1],F=v[gn]||null;if(typeof _=="function")F||X5(u);else if(F){var Z=null;if(_&&_.hasAttribute("formAction")){if(v=_,F=_[gn]||null)Z=F.formAction;else if(L1(v)!==null)continue}else Z=F.action;typeof Z=="function"?u[f+1]=Z:(u.splice(f,3),f-=3),X5(u)}}}function D1(a){this._internalRoot=a}bm.prototype.render=D1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=is();q5(u,f,a,o,null,null)},bm.prototype.unmount=D1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;q5(a.current,2,null,a,null,null),em(),o[yn]=null}};function bm(a){this._internalRoot=a}bm.prototype.unstable_scheduleHydration=function(a){if(a){var o=nr();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ku.length&&o!==0&&o<Ku[u].priority;u++);Ku.splice(u,0,a),u===0&&Y5(a)}};var Q5=e.version;if(Q5!=="19.1.0")throw Error(r(527,Q5,"19.1.0"));pe.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var oN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{Ze=xm.inject(oN),gt=xm}catch{}}return bf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,f="",v=fb,_=pb,F=mb,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(F=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Z=o.unstable_transitionCallbacks)),o=U5(a,1,!1,null,null,u,f,v,_,F,Z,null),a[yn]=o.current,v1(a),new D1(o)},bf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var f=!1,v="",_=fb,F=pb,Z=mb,de=null,Ve=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(de=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ve=u.formState)),o=U5(a,1,!0,o,u??null,f,v,_,F,Z,de,Ve),o.context=z5(null),u=o.current,f=is(),f=hn(f),v=We(f),v.callback=null,nt(u,v,f),u=f,o.current.lanes=u,jt(o,u),el(o),a[yn]=o.current,v1(a),new bm(o)},bf.version="19.1.0",bf}var lx;function yN(){if(lx)return F1.exports;lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),F1.exports=vN(),F1.exports}var bN=yN(),xf={},ux;function xN(){if(ux)return xf;ux=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.parse=l,xf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,x){const C=new s,k=w.length;if(k<2)return C;const I=(x==null?void 0:x.decode)||g;let N=0;do{const M=w.indexOf("=",N);if(M===-1)break;const H=w.indexOf(";",N),re=H===-1?k:H;if(M>re){N=w.lastIndexOf(";",M-1)+1;continue}const K=c(w,N,M),ge=h(w,M,K),V=w.slice(K,ge);if(C[V]===void 0){let P=c(w,M+1,re),U=h(w,re,P);const Q=I(w.slice(P,U));C[V]=Q}N=re+1}while(N<k);return C}function c(w,x,C){do{const k=w.charCodeAt(x);if(k!==32&&k!==9)return x}while(++x<C);return C}function h(w,x,C){for(;x>C;){const k=w.charCodeAt(--x);if(k!==32&&k!==9)return x+1}return C}function d(w,x,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=k(x);if(!e.test(I))throw new TypeError(`argument val is invalid: ${x}`);let N=w+"="+I;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return i.call(w)==="[object Date]"}return xf}xN();var cx="popstate";function wN(n={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return Cv("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Hf(i)}return SN(e,t,null,n)}function kr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _N(){return Math.random().toString(36).substring(2,10)}function hx(n,e){return{usr:n.state,key:n.key,idx:e}}function Cv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xd(e):e,state:t,key:e&&e.key||r||_N()}}function Hf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function SN(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function b(){c="POP";let I=g(),N=I==null?null:I-d;d=I,h&&h({action:c,location:k.location,delta:N})}function w(I,N){c="PUSH";let M=Cv(k.location,I,N);d=g()+1;let H=hx(M,d),re=k.createHref(M);try{l.pushState(H,"",re)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(re)}s&&h&&h({action:c,location:k.location,delta:1})}function x(I,N){c="REPLACE";let M=Cv(k.location,I,N);d=g();let H=hx(M,d),re=k.createHref(M);l.replaceState(H,"",re),s&&h&&h({action:c,location:k.location,delta:0})}function C(I){return AN(I)}let k={get action(){return c},get location(){return n(i,l)},listen(I){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(cx,b),h=I,()=>{i.removeEventListener(cx,b),h=null}},createHref(I){return e(i,I)},createURL:C,encodeLocation(I){let N=C(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(I){return l.go(I)}};return k}function AN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Hf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function gS(n,e,t="/"){return EN(n,e,t,!1)}function EN(n,e,t,r){let i=typeof e=="string"?xd(e):e,s=nu(i.pathname||"/",t);if(s==null)return null;let l=vS(n);TN(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=jN(s);c=DN(l[h],d,r)}return c}function vS(n,e=[],t=[],r=""){let i=(s,l,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(kr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let d=Jl([r,h.relativePath]),g=t.concat(h);s.children&&s.children.length>0&&(kr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vS(s.children,e,g,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:LN(d,s.index),routesMeta:g})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let h of yS(s.path))i(s,l,h)}),e}function yS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=yS(r.join("/")),c=[];return c.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function TN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ON(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var NN=/^:[\w-]+$/,CN=3,kN=2,IN=1,RN=10,PN=-2,dx=n=>n==="*";function LN(n,e){let t=n.split("/"),r=t.length;return t.some(dx)&&(r+=PN),e&&(r+=kN),t.filter(i=>!dx(i)).reduce((i,s)=>i+(NN.test(s)?CN:s===""?IN:RN),r)}function ON(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function DN(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],d=c===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",b=ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),w=h.route;if(!b&&d&&t&&!r[r.length-1].route.index&&(b=ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:Jl([s,b.pathname]),pathnameBase:UN(Jl([s,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(s=Jl([s,b.pathnameBase]))}return l}function ig(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:b},w)=>{if(g==="*"){let C=c[w]||"";l=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const x=c[w];return b&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:n}}function MN(n,e=!1,t=!0){mo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function nu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function FN(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xd(n):n;return{pathname:t?t.startsWith("/")?t:VN(t,e):e,search:zN(r),hash:qN(i)}}function VN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function z1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P2(n){let e=BN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function L2(n,e,t,r=!1){let i;typeof n=="string"?i=xd(n):(i={...n},kr(!i.pathname||!i.pathname.includes("?"),z1("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),z1("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),z1("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=t;else{let b=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),b-=1;i.pathname=w.join("/")}c=b>=0?e[b]:"/"}let h=FN(i,c),d=l&&l!=="/"&&l.endsWith("/"),g=(s||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var Jl=n=>n.join("/").replace(/\/\/+/g,"/"),UN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bS=["POST","PUT","PATCH","DELETE"];new Set(bS);var $N=["GET",...bS];new Set($N);var wd=ee.createContext(null);wd.displayName="DataRouter";var zg=ee.createContext(null);zg.displayName="DataRouterState";var xS=ee.createContext({isTransitioning:!1});xS.displayName="ViewTransition";var GN=ee.createContext(new Map);GN.displayName="Fetchers";var WN=ee.createContext(null);WN.displayName="Await";var bo=ee.createContext(null);bo.displayName="Navigation";var op=ee.createContext(null);op.displayName="Location";var xo=ee.createContext({outlet:null,matches:[],isDataRoute:!1});xo.displayName="Route";var O2=ee.createContext(null);O2.displayName="RouteError";function YN(n,{relative:e}={}){kr(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ee.useContext(bo),{hash:i,pathname:s,search:l}=lp(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Jl([t,s])),r.createHref({pathname:c,search:l,hash:i})}function _d(){return ee.useContext(op)!=null}function wc(){return kr(_d(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(op).location}var wS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _S(n){ee.useContext(bo).static||ee.useLayoutEffect(n)}function D2(){let{isDataRoute:n}=ee.useContext(xo);return n?uC():KN()}function KN(){kr(_d(),"useNavigate() may be used only in the context of a <Router> component.");let n=ee.useContext(wd),{basename:e,navigator:t}=ee.useContext(bo),{matches:r}=ee.useContext(xo),{pathname:i}=wc(),s=JSON.stringify(P2(r)),l=ee.useRef(!1);return _S(()=>{l.current=!0}),ee.useCallback((h,d={})=>{if(mo(l.current,wS),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=L2(h,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jl([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,s,i,n])}var XN=ee.createContext(null);function QN(n){let e=ee.useContext(xo).outlet;return e&&ee.createElement(XN.Provider,{value:n},e)}function lp(n,{relative:e}={}){let{matches:t}=ee.useContext(xo),{pathname:r}=wc(),i=JSON.stringify(P2(t));return ee.useMemo(()=>L2(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function JN(n,e){return SS(n,e)}function SS(n,e,t,r){var N;kr(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ee.useContext(bo),{matches:s}=ee.useContext(xo),l=s[s.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let M=g&&g.path||"";AS(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=wc(),w;if(e){let M=typeof e=="string"?xd(e):e;kr(d==="/"||((N=M.pathname)==null?void 0:N.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=b;let x=w.pathname||"/",C=x;if(d!=="/"){let M=d.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=gS(n,{pathname:C});mo(g||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mo(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=rC(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:Jl([d,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Jl([d,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,t,r);return e&&I?ee.createElement(op.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function ZN(){let n=lC(),e=HN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:i},t):null,l)}var eC=ee.createElement(ZN,null),tC=class extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ee.createElement(xo.Provider,{value:this.props.routeContext},ee.createElement(O2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nC({routeContext:n,match:e,children:t}){let r=ee.useContext(wd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(xo.Provider,{value:n},t)}function rC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let h=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);kr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:b}=t,w=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!b||b[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,d,g)=>{let b,w=!1,x=null,C=null;t&&(b=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||eC,l&&(c<0&&g===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):c===g&&(w=!0,C=d.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,g+1)),I=()=>{let N;return b?N=x:w?N=C:d.route.Component?N=ee.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=h,ee.createElement(nC,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:N})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?ee.createElement(tC,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):I()},null)}function M2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iC(n){let e=ee.useContext(wd);return kr(e,M2(n)),e}function aC(n){let e=ee.useContext(zg);return kr(e,M2(n)),e}function sC(n){let e=ee.useContext(xo);return kr(e,M2(n)),e}function j2(n){let e=sC(n),t=e.matches[e.matches.length-1];return kr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oC(){return j2("useRouteId")}function lC(){var r;let n=ee.useContext(O2),e=aC("useRouteError"),t=j2("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function uC(){let{router:n}=iC("useNavigate"),e=j2("useNavigate"),t=ee.useRef(!1);return _S(()=>{t.current=!0}),ee.useCallback(async(i,s={})=>{mo(t.current,wS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var fx={};function AS(n,e,t){!e&&!fx[n]&&(fx[n]=!0,mo(!1,t))}ee.memo(cC);function cC({routes:n,future:e,state:t}){return SS(n,void 0,t,e)}function Nf({to:n,replace:e,state:t,relative:r}){kr(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ee.useContext(bo);mo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(xo),{pathname:l}=wc(),c=D2(),h=L2(n,P2(s),l,r==="path"),d=JSON.stringify(h);return ee.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function hC(n){return QN(n.context)}function Ms(n){kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){kr(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=ee.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=xd(t));let{pathname:h="/",search:d="",hash:g="",state:b=null,key:w="default"}=t,x=ee.useMemo(()=>{let C=nu(h,l);return C==null?null:{location:{pathname:C,search:d,hash:g,state:b,key:w},navigationType:r}},[l,h,d,g,b,w,r]);return mo(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:ee.createElement(bo.Provider,{value:c},ee.createElement(op.Provider,{children:e,value:x}))}function fC({children:n,location:e}){return JN(kv(n),e)}function kv(n,e=[]){let t=[];return ee.Children.forEach(n,(r,i)=>{if(!ee.isValidElement(r))return;let s=[...e,i];if(r.type===ee.Fragment){t.push.apply(t,kv(r.props.children,s));return}kr(r.type===Ms,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=kv(r.props.children,s)),t.push(l)}),t}var Fm="get",Vm="application/x-www-form-urlencoded";function qg(n){return n!=null&&typeof n.tagName=="string"}function pC(n){return qg(n)&&n.tagName.toLowerCase()==="button"}function mC(n){return qg(n)&&n.tagName.toLowerCase()==="form"}function gC(n){return qg(n)&&n.tagName.toLowerCase()==="input"}function vC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yC(n,e){return n.button===0&&(!e||e==="_self")&&!vC(n)}var wm=null;function bC(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var xC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q1(n){return n!=null&&!xC.has(n)?(mo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vm}"`),null):n}function wC(n,e){let t,r,i,s,l;if(mC(n)){let c=n.getAttribute("action");r=c?nu(c,e):null,t=n.getAttribute("method")||Fm,i=q1(n.getAttribute("enctype"))||Vm,s=new FormData(n)}else if(pC(n)||gC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?nu(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Fm,i=q1(n.getAttribute("formenctype"))||q1(c.getAttribute("enctype"))||Vm,s=new FormData(c,n),!bC()){let{name:d,type:g,value:b}=n;if(g==="image"){let w=d?`${d}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else d&&s.append(d,b)}}else{if(qg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fm,r=null,i=Vm,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function F2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _C(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AC(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await _C(s,t);return l.links?l.links():[]}return[]}));return CC(r.flat(1).filter(SC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function px(n,e,t,r,i,s){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):s==="data"?e.filter((h,d)=>{var b;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function EC(n,e,{includeHydrateFallback:t}={}){return TC(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function TC(n){return[...new Set(n)]}function NC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function CC(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(NC(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kC=new Set([100,101,204,205]);function IC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&nu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ES(){let n=ee.useContext(wd);return F2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RC(){let n=ee.useContext(zg);return F2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var V2=ee.createContext(void 0);V2.displayName="FrameworkContext";function TS(){let n=ee.useContext(V2);return F2(n,"You must render this element inside a <HydratedRouter> element"),n}function PC(n,e){let t=ee.useContext(V2),[r,i]=ee.useState(!1),[s,l]=ee.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:b}=e,w=ee.useRef(null);ee.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=N=>{N.forEach(M=>{l(M.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[n]),ee.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,w,{}]:[s,w,{onFocus:wf(c,x),onBlur:wf(h,C),onMouseEnter:wf(d,x),onMouseLeave:wf(g,C),onTouchStart:wf(b,x)}]:[!1,w,{}]}function wf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LC({page:n,...e}){let{router:t}=ES(),r=ee.useMemo(()=>gS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ee.createElement(DC,{page:n,matches:r,...e}):null}function OC(n){let{manifest:e,routeModules:t}=TS(),[r,i]=ee.useState([]);return ee.useEffect(()=>{let s=!1;return AC(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function DC({page:n,matches:e,...t}){let r=wc(),{manifest:i,routeModules:s}=TS(),{basename:l}=ES(),{loaderData:c,matches:h}=RC(),d=ee.useMemo(()=>px(n,e,h,i,r,"data"),[n,e,h,i,r]),g=ee.useMemo(()=>px(n,e,h,i,r,"assets"),[n,e,h,i,r]),b=ee.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(N=>{var H;let M=i.routes[N.route.id];!M||!M.hasLoader||(!d.some(re=>re.route.id===N.route.id)&&N.route.id in c&&((H=s[N.route.id])!=null&&H.shouldRevalidate)||M.hasClientLoader?k=!0:C.add(N.route.id))}),C.size===0)return[];let I=IC(n,l);return k&&C.size>0&&I.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[l,c,r,i,d,e,n,s]),w=ee.useMemo(()=>EC(g,i),[g,i]),x=OC(g);return ee.createElement(ee.Fragment,null,b.map(C=>ee.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>ee.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),x.map(({key:C,link:k})=>ee.createElement("link",{key:C,...k})))}function MC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.6.1")}catch{}function jC({basename:n,children:e,window:t}){let r=ee.useRef();r.current==null&&(r.current=wN({window:t,v5Compat:!0}));let i=r.current,[s,l]=ee.useState({action:i.action,location:i.location}),c=ee.useCallback(h=>{ee.startTransition(()=>l(h))},[l]);return ee.useLayoutEffect(()=>i.listen(c),[i,c]),ee.createElement(dC,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kS=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:h,to:d,preventScrollReset:g,viewTransition:b,...w},x){let{basename:C}=ee.useContext(bo),k=typeof d=="string"&&CS.test(d),I,N=!1;if(typeof d=="string"&&k&&(I=d,NS))try{let U=new URL(window.location.href),Q=d.startsWith("//")?new URL(U.protocol+d):new URL(d),O=nu(Q.pathname,C);Q.origin===U.origin&&O!=null?d=O+Q.search+Q.hash:N=!0}catch{mo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=YN(d,{relative:i}),[H,re,K]=PC(r,w),ge=BC(d,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:b});function V(U){e&&e(U),U.defaultPrevented||ge(U)}let P=ee.createElement("a",{...w,...K,href:I||M,onClick:N||s?e:V,ref:MC(x,re),target:h,"data-discover":!k&&t==="render"?"true":void 0});return H&&!k?ee.createElement(ee.Fragment,null,P,ee.createElement(LC,{page:M})):P});kS.displayName="Link";var Yl=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:h,...d},g){let b=lp(l,{relative:d.relative}),w=wc(),x=ee.useContext(zg),{navigator:C,basename:k}=ee.useContext(bo),I=x!=null&&$C(b)&&c===!0,N=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,M=w.pathname,H=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(M=M.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&k&&(H=nu(H,k)||H);const re=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let K=M===N||!i&&M.startsWith(N)&&M.charAt(re)==="/",ge=H!=null&&(H===N||!i&&H.startsWith(N)&&H.charAt(N.length)==="/"),V={isActive:K,isPending:ge,isTransitioning:I},P=K?e:void 0,U;typeof r=="function"?U=r(V):U=[r,K?"active":null,ge?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Q=typeof s=="function"?s(V):s;return ee.createElement(kS,{...d,"aria-current":P,className:U,ref:g,style:Q,to:l,viewTransition:c},typeof h=="function"?h(V):h)});Yl.displayName="NavLink";var FC=ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=Fm,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:b,...w},x)=>{let C=qC(),k=HC(c,{relative:d}),I=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&CS.test(c),M=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let re=H.nativeEvent.submitter,K=(re==null?void 0:re.getAttribute("formmethod"))||l;C(re||H.currentTarget,{fetcherKey:e,method:K,navigate:t,replace:i,state:s,relative:d,preventScrollReset:g,viewTransition:b})};return ee.createElement("form",{ref:x,method:I,action:k,onSubmit:r?h:M,...w,"data-discover":!N&&n==="render"?"true":void 0})});FC.displayName="Form";function VC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IS(n){let e=ee.useContext(wd);return kr(e,VC(n)),e}function BC(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=D2(),h=wc(),d=lp(n,{relative:s});return ee.useCallback(g=>{if(yC(g,e)){g.preventDefault();let b=t!==void 0?t:Hf(h)===Hf(d);c(n,{replace:b,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[h,c,d,t,r,e,n,i,s,l])}var UC=0,zC=()=>`__${String(++UC)}__`;function qC(){let{router:n}=IS("useSubmit"),{basename:e}=ee.useContext(bo),t=oC();return ee.useCallback(async(r,i={})=>{let{action:s,method:l,encType:c,formData:h,body:d}=wC(r,e);if(i.navigate===!1){let g=i.fetcherKey||zC();await n.fetch(g,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function HC(n,{relative:e}={}){let{basename:t}=ee.useContext(bo),r=ee.useContext(xo);kr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...lp(n||".",{relative:e})},l=wc();if(n==null){s.search=l.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(b=>b).forEach(b=>c.append("index",b));let g=c.toString();s.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Jl([t,s.pathname])),Hf(s)}function $C(n,e={}){let t=ee.useContext(xS);kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IS("useViewTransitionState"),i=lp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=nu(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=nu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ig(i.pathname,l)!=null||ig(i.pathname,s)!=null}[...kC];var GC=mS();const WC=()=>{};var mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},YC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,d=h?n[i+2]:0,g=s>>2,b=(s&3)<<4|c>>4;let w=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(w=64)),r.push(t[g],t[b],t[w],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||b==null)throw new KC;const w=s<<2|c>>4;if(r.push(w),d!==64){const x=c<<4&240|d>>2;if(r.push(x),b!==64){const C=d<<6&192|b;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(n){const e=RS(n);return PS.encodeByteArray(e,!0)},ag=function(n){return XC(n).replace(/\./g,"")},LS=function(n){try{return PS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=()=>QC().__FIREBASE_DEFAULTS__,ZC=()=>{if(typeof process>"u"||typeof mx>"u")return;const n=mx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&LS(n[1]);return e&&JSON.parse(e)},Hg=()=>{try{return WC()||JC()||ZC()||e6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OS=n=>{var e,t;return(t=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},t6=n=>{const e=OS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DS=()=>{var n;return(n=Hg())===null||n===void 0?void 0:n.config},MS=n=>{var e;return(e=Hg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n){return n.endsWith(".cloudworkstations.dev")}async function jS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ag(JSON.stringify(t)),ag(JSON.stringify(l)),""].join(".")}const Df={};function i6(){const n={prod:[],emulator:[]};for(const e of Object.keys(Df))Df[e]?n.emulator.push(e):n.prod.push(e);return n}function a6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gx=!1;function FS(n,e){if(typeof window>"u"||typeof document>"u"||!up(window.location.host)||Df[n]===e||Df[n]||gx)return;Df[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",s=i6().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gx=!0,l()},w}function g(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=a6(r),x=t("text"),C=document.getElementById(x)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),N=t("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;c(H),g(I,k);const re=d();h(M,N),H.append(M,C,I,re),document.body.appendChild(H)}s?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ca())}function o6(){var n;const e=(n=Hg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c6(){const n=ca();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h6(){return!o6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function d6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="FirebaseError";class wo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=f6,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?p6(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new wo(i,c,r)}}function p6(n,e){return n.replace(m6,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const m6=/\{\$([^}]+)}/g;function g6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(vx(s)&&vx(l)){if(!dc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function v6(n,e){const t=new y6(n,e);return t.subscribe.bind(t)}class y6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");b6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=H1),i.error===void 0&&(i.error=H1),i.complete===void 0&&(i.complete=H1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=1e3,w6=2,_6=4*60*60*1e3,S6=.5;function yx(n,e=x6,t=w6){const r=e*Math.pow(t,n),i=Math.round(S6*r*(Math.random()-.5)*2);return Math.min(_6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n){return n&&n._delegate?n._delegate:n}class go{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new n6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T6(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E6(n){return n===Xc?void 0:n}function T6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new A6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kn||(kn={}));const C6={debug:kn.DEBUG,verbose:kn.VERBOSE,info:kn.INFO,warn:kn.WARN,error:kn.ERROR,silent:kn.SILENT},k6=kn.INFO,I6={[kn.DEBUG]:"log",[kn.VERBOSE]:"log",[kn.INFO]:"info",[kn.WARN]:"warn",[kn.ERROR]:"error"},R6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=I6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=k6,this._logHandler=R6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kn.DEBUG,...e),this._logHandler(this,kn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kn.VERBOSE,...e),this._logHandler(this,kn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kn.INFO,...e),this._logHandler(this,kn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kn.WARN,...e),this._logHandler(this,kn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kn.ERROR,...e),this._logHandler(this,kn.ERROR,...e)}}const P6=(n,e)=>e.some(t=>n instanceof t);let bx,xx;function L6(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O6(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Iv=new WeakMap,qS=new WeakMap,$1=new WeakMap,B2=new WeakMap;function D6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(oc(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&zS.set(t,n)}).catch(()=>{}),B2.set(e,n),e}function M6(n){if(Iv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});Iv.set(n,e)}let Rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Iv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function j6(n){Rv=n(Rv)}function F6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(G1(this),e,...t);return qS.set(r,e.sort?e.sort():[e]),oc(r)}:O6().includes(n)?function(...e){return n.apply(G1(this),e),oc(zS.get(this))}:function(...e){return oc(n.apply(G1(this),e))}}function V6(n){return typeof n=="function"?F6(n):(n instanceof IDBTransaction&&M6(n),P6(n,L6())?new Proxy(n,Rv):n)}function oc(n){if(n instanceof IDBRequest)return D6(n);if($1.has(n))return $1.get(n);const e=V6(n);return e!==n&&($1.set(n,e),B2.set(e,n)),e}const G1=n=>B2.get(n);function HS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),c=oc(l);return r&&l.addEventListener("upgradeneeded",h=>{r(oc(l.result),h.oldVersion,h.newVersion,oc(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const B6=["get","getKey","getAll","getAllKeys","count"],U6=["put","add","delete","clear"],W1=new Map;function wx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(W1.get(e))return W1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=U6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||B6.includes(t)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&h.done]))[0]};return W1.set(e,s),s}j6(n=>({...n,get:(e,t,r)=>wx(e,t)||n.get(e,t,r),has:(e,t)=>!!wx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function q6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pv="@firebase/app",_x="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new $g("@firebase/app"),H6="@firebase/app-compat",$6="@firebase/analytics-compat",G6="@firebase/analytics",W6="@firebase/app-check-compat",Y6="@firebase/app-check",K6="@firebase/auth",X6="@firebase/auth-compat",Q6="@firebase/database",J6="@firebase/data-connect",Z6="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",rk="@firebase/installations-compat",ik="@firebase/messaging",ak="@firebase/messaging-compat",sk="@firebase/performance",ok="@firebase/performance-compat",lk="@firebase/remote-config",uk="@firebase/remote-config-compat",ck="@firebase/storage",hk="@firebase/storage-compat",dk="@firebase/firestore",fk="@firebase/ai",pk="@firebase/firestore-compat",mk="firebase",gk="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",vk={[Pv]:"fire-core",[H6]:"fire-core-compat",[G6]:"fire-analytics",[$6]:"fire-analytics-compat",[Y6]:"fire-app-check",[W6]:"fire-app-check-compat",[K6]:"fire-auth",[X6]:"fire-auth-compat",[Q6]:"fire-rtdb",[J6]:"fire-data-connect",[Z6]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[rk]:"fire-iid-compat",[ik]:"fire-fcm",[ak]:"fire-fcm-compat",[sk]:"fire-perf",[ok]:"fire-perf-compat",[lk]:"fire-rc",[uk]:"fire-rc-compat",[ck]:"fire-gcs",[hk]:"fire-gcs-compat",[dk]:"fire-fst",[pk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[mk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map,yk=new Map,Ov=new Map;function Sx(n,e){try{n.container.addComponent(e)}catch(t){ru.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fl(n){const e=n.name;if(Ov.has(e))return ru.debug(`There were multiple attempts to register component ${e}.`),!1;Ov.set(e,n);for(const t of sg.values())Sx(t,n);for(const t of yk.values())Sx(t,n);return!0}function lh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lc=new oh("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=gk;function $S(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw lc.create("bad-app-name",{appName:String(i)});if(t||(t=DS()),!t)throw lc.create("no-options");const s=sg.get(i);if(s){if(dc(t,s.options)&&dc(r,s.config))return s;throw lc.create("duplicate-app",{appName:i})}const l=new N6(i);for(const h of Ov.values())l.addComponent(h);const c=new xk(t,r,l);return sg.set(i,c),c}function U2(n=Lv){const e=sg.get(n);if(!e&&n===Lv&&DS())return $S();if(!e)throw lc.create("no-app",{appName:n});return e}function Fs(n,e,t){var r;let i=(r=vk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ru.warn(c.join(" "));return}fl(new go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="firebase-heartbeat-database",_k=1,$f="firebase-heartbeat-store";let Y1=null;function GS(){return Y1||(Y1=HS(wk,_k,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($f)}catch(t){console.warn(t)}}}}).catch(n=>{throw lc.create("idb-open",{originalErrorMessage:n.message})})),Y1}async function Sk(n){try{const t=(await GS()).transaction($f),r=await t.objectStore($f).get(WS(n));return await t.done,r}catch(e){if(e instanceof wo)ru.warn(e.message);else{const t=lc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ru.warn(t.message)}}}async function Ax(n,e){try{const r=(await GS()).transaction($f,"readwrite");await r.objectStore($f).put(e,WS(n)),await r.done}catch(t){if(t instanceof wo)ru.warn(t.message);else{const r=lc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ru.warn(r.message)}}}function WS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1024,Ek=30;class Tk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ck(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ex();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ek){const l=kk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ru.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ex(),{heartbeatsToSend:r,unsentEntries:i}=Nk(this._heartbeatsCache.heartbeats),s=ag(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ru.warn(t),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function Nk(n,e=Ak){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Tx(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Tx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Sk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ax(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ax(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tx(n){return ag(JSON.stringify({version:2,heartbeats:n})).length}function kk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){fl(new go("platform-logger",e=>new z6(e),"PRIVATE")),fl(new go("heartbeat",e=>new Tk(e),"PRIVATE")),Fs(Pv,_x,n),Fs(Pv,_x,"esm2017"),Fs("fire-js","")}Ik("");var Rk="firebase",Pk="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(Rk,Pk,"app");const YS="@firebase/installations",z2="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1e4,XS=`w:${z2}`,QS="FIS_v2",Lk="https://firebaseinstallations.googleapis.com/v1",Ok=60*60*1e3,Dk="installations",Mk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nh=new oh(Dk,Mk,jk);function JS(n){return n instanceof wo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS({projectId:n}){return`${Lk}/projects/${n}/installations`}function e4(n){return{token:n.token,requestStatus:2,expiresIn:Vk(n.expiresIn),creationTime:Date.now()}}async function t4(n,e){const r=(await e.json()).error;return nh.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function n4({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Fk(n,{refreshToken:e}){const t=n4(n);return t.append("Authorization",Bk(e)),t}async function r4(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Vk(n){return Number(n.replace("s","000"))}function Bk(n){return`${QS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=ZS(n),i=n4(n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={fid:t,authVersion:QS,appId:n.appId,sdkVersion:XS},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await r4(()=>fetch(r,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:e4(d.authToken)}}else throw await t4("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^[cdef][\w-]{21}$/,Dv="";function Hk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=$k(n);return qk.test(t)?t:Dv}catch{return Dv}}function $k(n){return zk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Map;function s4(n,e){const t=Gg(n);o4(t,e),Gk(t,e)}function o4(n,e){const t=a4.get(n);if(t)for(const r of t)r(e)}function Gk(n,e){const t=Wk();t&&t.postMessage({key:n,fid:e}),Yk()}let Zc=null;function Wk(){return!Zc&&"BroadcastChannel"in self&&(Zc=new BroadcastChannel("[Firebase] FID Change"),Zc.onmessage=n=>{o4(n.data.key,n.data.fid)}),Zc}function Yk(){a4.size===0&&Zc&&(Zc.close(),Zc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebase-installations-database",Xk=1,rh="firebase-installations-store";let K1=null;function q2(){return K1||(K1=HS(Kk,Xk,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(rh)}}})),K1}async function og(n,e){const t=Gg(n),i=(await q2()).transaction(rh,"readwrite"),s=i.objectStore(rh),l=await s.get(t);return await s.put(e,t),await i.done,(!l||l.fid!==e.fid)&&s4(n,e.fid),e}async function l4(n){const e=Gg(n),r=(await q2()).transaction(rh,"readwrite");await r.objectStore(rh).delete(e),await r.done}async function Wg(n,e){const t=Gg(n),i=(await q2()).transaction(rh,"readwrite"),s=i.objectStore(rh),l=await s.get(t),c=e(l);return c===void 0?await s.delete(t):await s.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&s4(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n){let e;const t=await Wg(n.appConfig,r=>{const i=Qk(r),s=Jk(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Dv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Qk(n){const e=n||{fid:Hk(),registrationStatus:0};return u4(e)}function Jk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Zk(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eI(n)}:{installationEntry:e}}async function Zk(n,e){try{const t=await Uk(n,e);return og(n.appConfig,t)}catch(t){throw JS(t)&&t.customData.serverCode===409?await l4(n.appConfig):await og(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function eI(n){let e=await Nx(n.appConfig);for(;e.registrationStatus===1;)await i4(100),e=await Nx(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await H2(n);return r||t}return e}function Nx(n){return Wg(n,e=>{if(!e)throw nh.create("installation-not-found");return u4(e)})}function u4(n){return tI(n)?{fid:n.fid,registrationStatus:0}:n}function tI(n){return n.registrationStatus===1&&n.registrationTime+KS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI({appConfig:n,heartbeatServiceProvider:e},t){const r=rI(n,t),i=Fk(n,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={installation:{sdkVersion:XS,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await r4(()=>fetch(r,c));if(h.ok){const d=await h.json();return e4(d)}else throw await t4("Generate Auth Token",h)}function rI(n,{fid:e}){return`${ZS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(n,e=!1){let t;const r=await Wg(n.appConfig,s=>{if(!c4(s))throw nh.create("not-registered");const l=s.authToken;if(!e&&sI(l))return s;if(l.requestStatus===1)return t=iI(n,e),s;{if(!navigator.onLine)throw nh.create("app-offline");const c=lI(s);return t=aI(n,c),c}});return t?await t:r.authToken}async function iI(n,e){let t=await Cx(n.appConfig);for(;t.authToken.requestStatus===1;)await i4(100),t=await Cx(n.appConfig);const r=t.authToken;return r.requestStatus===0?$2(n,e):r}function Cx(n){return Wg(n,e=>{if(!c4(e))throw nh.create("not-registered");const t=e.authToken;return uI(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aI(n,e){try{const t=await nI(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await og(n.appConfig,r),t}catch(t){if(JS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await l4(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await og(n.appConfig,r)}throw t}}function c4(n){return n!==void 0&&n.registrationStatus===2}function sI(n){return n.requestStatus===2&&!oI(n)}function oI(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Ok}function lI(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function uI(n){return n.requestStatus===1&&n.requestTime+KS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n){const e=n,{installationEntry:t,registrationPromise:r}=await H2(e);return r?r.catch(console.error):$2(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(n,e=!1){const t=n;return await dI(t),(await $2(t,e)).token}async function dI(n){const{registrationPromise:e}=await H2(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){if(!n||!n.options)throw X1("App Configuration");if(!n.name)throw X1("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw X1(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function X1(n){return nh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="installations",pI="installations-internal",mI=n=>{const e=n.getProvider("app").getImmediate(),t=fI(e),r=lh(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gI=n=>{const e=n.getProvider("app").getImmediate(),t=lh(e,h4).getImmediate();return{getId:()=>cI(t),getToken:i=>hI(t,i)}};function vI(){fl(new go(h4,mI,"PUBLIC")),fl(new go(pI,gI,"PRIVATE"))}vI();Fs(YS,z2);Fs(YS,z2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="analytics",yI="firebase_id",bI="origin",xI=60*1e3,wI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new $g("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ls=new oh("analytics","Analytics",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){if(!n.startsWith(G2)){const e=ls.create("invalid-gtag-resource",{gtagURL:n});return Ma.warn(e.message),""}return n}function d4(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function AI(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function EI(n,e){const t=AI("firebase-js-sdk-policy",{createScriptURL:SI}),r=document.createElement("script"),i=`${G2}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TI(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function NI(n,e,t,r,i,s){const l=r[i];try{if(l)await e[l];else{const h=(await d4(t)).find(d=>d.measurementId===i);h&&await e[h.appId]}}catch(c){Ma.error(c)}n("config",i,s)}async function CI(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await d4(t);for(const h of l){const d=c.find(b=>b.measurementId===h),g=d&&e[d.appId];if(g)s.push(g);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Ma.error(s)}}function kI(n,e,t,r){async function i(s,...l){try{if(s==="event"){const[c,h]=l;await CI(n,e,t,c,h)}else if(s==="config"){const[c,h]=l;await NI(n,e,t,r,c,h)}else if(s==="consent"){const[c,h]=l;n("consent",c,h)}else if(s==="get"){const[c,h,d]=l;n("get",c,h,d)}else if(s==="set"){const[c]=l;n("set",c)}else n(s,...l)}catch(c){Ma.error(c)}}return i}function II(n,e,t,r,i){let s=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=kI(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function RI(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(G2)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=30,LI=1e3;class OI{constructor(e={},t=LI){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const f4=new OI;function DI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function MI(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:DI(r)},s=wI.replace("{app-id}",t),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw ls.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function jI(n,e=f4,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ls.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ls.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new BI;return setTimeout(async()=>{c.abort()},xI),p4({appId:r,apiKey:i,measurementId:s},l,c,e)}async function p4(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=f4){var s;const{appId:l,measurementId:c}=n;try{await FI(r,e)}catch(h){if(c)return Ma.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await MI(n);return i.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!VI(d)){if(i.deleteThrottleMetadata(l),c)return Ma.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw h}const g=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?yx(t,i.intervalMillis,PI):yx(t,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return i.setThrottleMetadata(l,b),Ma.debug(`Calling attemptFetch again in ${g} millis`),p4(n,b,r,i)}}function FI(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ls.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VI(n){if(!(n instanceof wo)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class BI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UI(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,l=Object.assign(Object.assign({},r),{send_to:s});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(){if(BS())try{await US()}catch(n){return Ma.warn(ls.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ma.warn(ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qI(n,e,t,r,i,s,l){var c;const h=jI(n);h.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Ma.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ma.error(x)),e.push(h);const d=zI().then(x=>{if(x)return r.getId()}),[g,b]=await Promise.all([h,d]);RI(s)||EI(s,g.measurementId),i("js",new Date);const w=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return w[bI]="firebase",w.update=!0,b!=null&&(w[yI]=b),i("config",g.measurementId,w),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.app=e}_delete(){return delete Mf[this.app.options.appId],Promise.resolve()}}let Mf={},kx=[];const Ix={};let Q1="dataLayer",$I="gtag",Rx,m4,Px=!1;function GI(){const n=[];if(VS()&&n.push("This is a browser extension environment."),d6()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ls.create("invalid-analytics-context",{errorInfo:e});Ma.warn(t.message)}}function WI(n,e,t){GI();const r=n.options.appId;if(!r)throw ls.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ma.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ls.create("no-api-key");if(Mf[r]!=null)throw ls.create("already-exists",{id:r});if(!Px){TI(Q1);const{wrappedGtag:s,gtagCore:l}=II(Mf,kx,Ix,Q1,$I);m4=s,Rx=l,Px=!0}return Mf[r]=qI(n,kx,Ix,e,Rx,Q1,t),new HI(n)}function YI(n=U2()){n=Mr(n);const e=lh(n,lg);return e.isInitialized()?e.getImmediate():KI(n)}function KI(n,e={}){const t=lh(n,lg);if(t.isInitialized()){const i=t.getImmediate();if(dc(e,t.getOptions()))return i;throw ls.create("already-initialized")}return t.initialize({options:e})}function XI(n,e,t,r){n=Mr(n),UI(m4,Mf[n.app.options.appId],e,t,r).catch(i=>Ma.error(i))}const Lx="@firebase/analytics",Ox="0.10.16";function QI(){fl(new go(lg,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WI(r,i,t)},"PUBLIC")),fl(new go("analytics-internal",n,"PRIVATE")),Fs(Lx,Ox),Fs(Lx,Ox,"esm2017");function n(e){try{const t=e.getProvider(lg).getImmediate();return{logEvent:(r,i,s)=>XI(t,r,i,s)}}catch(t){throw ls.create("interop-component-reg-failed",{reason:t})}}}QI();function W2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function g4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JI=g4,v4=new oh("auth","Firebase",g4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new $g("@firebase/auth");function ZI(n,...e){ug.logLevel<=kn.WARN&&ug.warn(`Auth (${Sd}): ${n}`,...e)}function Bm(n,...e){ug.logLevel<=kn.ERROR&&ug.error(`Auth (${Sd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(n,...e){throw Y2(n,...e)}function sl(n,...e){return Y2(n,...e)}function y4(n,e,t){const r=Object.assign(Object.assign({},JI()),{[e]:t});return new oh("auth","Firebase",r).create(e,{appName:n.name})}function uc(n){return y4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return v4.create(n,...e)}function en(n,e,...t){if(!n)throw Y2(e,...t)}function Kl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bm(e),new Error(e)}function iu(n,e){n||Kl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eR(){return Dx()==="http:"||Dx()==="https:"}function Dx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||VS()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.shortDelay=e,this.longDelay=t,iu(t>e,"Short delay should be less than long delay!"),this.isMobile=s6()||u6()}get(){return tR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n,e){iu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aR=new hp(3e4,6e4);function _c(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fu(n,e,t,r,i={}){return x4(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=cp(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},s);return l6()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&up(n.emulatorConfig.host)&&(d.credentials="include"),b4.fetch()(await w4(n,n.config.apiHost,t,c),d)})}async function x4(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rR),e);try{const i=new oR(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw _m(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _m(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw _m(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw _m(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw y4(n,g,d);vo(n,g)}}catch(i){if(i instanceof wo)throw i;vo(n,"network-request-failed",{message:String(i)})}}async function Yg(n,e,t,r,i={}){const s=await fu(n,e,t,r,i);return"mfaPendingCredential"in s&&vo(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function w4(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?K2(n.config,i):`${n.config.apiScheme}://${i}`;return iR.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function sR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sl(this.auth,"network-request-failed")),aR.get())})}}function _m(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=sl(n,e,r);return i.customData._tokenResponse=t,i}function Mx(n){return n!==void 0&&n.enterprise!==void 0}class lR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uR(n,e){return fu(n,"GET","/v2/recaptchaConfig",_c(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(n,e){return fu(n,"POST","/v1/accounts:delete",e)}async function cg(n,e){return fu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hR(n,e=!1){const t=Mr(n),r=await t.getIdToken(e),i=X2(r);en(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jf(J1(i.auth_time)),issuedAtTime:jf(J1(i.iat)),expirationTime:jf(J1(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function J1(n){return Number(n)*1e3}function X2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const i=LS(t);return i?JSON.parse(i):(Bm("Failed to decode base64 JWT payload"),null)}catch(i){return Bm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jx(n){const e=X2(n);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wo&&dR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Gf(n,cg(t,{idToken:r}));en(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_4(s.providerUserInfo):[],c=mR(n.providerData,l),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,b)}async function pR(n){const e=Mr(n);await hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mR(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _4(n){return n.map(e=>{var{providerId:t}=e,r=W2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e){const t=await x4(n,{},async()=>{const r=cp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await w4(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",b4.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vR(n,e){return fu(n,"POST","/v2/accounts:revokeToken",_c(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){en(e.length!==0,"internal-error");const t=jx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await gR(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new ed;return r&&(en(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(en(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(en(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ed,this.toJSON())}_performRefresh(){return Kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n,e){en(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class po{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=W2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return en(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hR(this,e)}reload(){return pR(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(uc(this.auth));const e=await this.getIdToken();return await Gf(this,cR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,c,h,d,g;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,x=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,I=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,N=(d=t.createdAt)!==null&&d!==void 0?d:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:re,isAnonymous:K,providerData:ge,stsTokenManager:V}=t;en(H&&V,e,"internal-error");const P=ed.fromJSON(this.name,V);en(typeof H=="string",e,"internal-error"),Qu(b,e.name),Qu(w,e.name),en(typeof re=="boolean",e,"internal-error"),en(typeof K=="boolean",e,"internal-error"),Qu(x,e.name),Qu(C,e.name),Qu(k,e.name),Qu(I,e.name),Qu(N,e.name),Qu(M,e.name);const U=new po({uid:H,auth:e,email:w,emailVerified:re,displayName:b,isAnonymous:K,photoURL:C,phoneNumber:x,tenantId:k,stsTokenManager:P,createdAt:N,lastLoginAt:M});return ge&&Array.isArray(ge)&&(U.providerData=ge.map(Q=>Object.assign({},Q))),I&&(U._redirectEventId=I),U}static async _fromIdTokenResponse(e,t,r=!1){const i=new ed;i.updateFromServerResponse(t);const s=new po({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hg(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];en(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ed;c.updateFromIdToken(r);const h=new po({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function Xl(n){iu(n instanceof Function,"Expected a class definition");let e=Fx.get(n);return e?(iu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S4.type="NONE";const Vx=S4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n,e,t){return`firebase:${n}:${e}:${t}`}class td{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Um(this.userKey,i.apiKey,s),this.fullPersistenceKey=Um("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cg(this.auth,{idToken:e}).catch(()=>{});return t?po._fromGetAccountInfoResponse(this.auth,t,e):null}return po._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new td(Xl(Vx),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Xl(Vx);const l=Um(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(l);if(g){let b;if(typeof g=="string"){const w=await cg(e,{idToken:g}).catch(()=>{});if(!w)break;b=await po._fromGetAccountInfoResponse(e,w,g)}else b=po._fromJSON(e,g);d!==s&&(c=b),s=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new td(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new td(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k4(e))return"Blackberry";if(I4(e))return"Webos";if(E4(e))return"Safari";if((e.includes("chrome/")||T4(e))&&!e.includes("edge/"))return"Chrome";if(C4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function A4(n=ca()){return/firefox\//i.test(n)}function E4(n=ca()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T4(n=ca()){return/crios\//i.test(n)}function N4(n=ca()){return/iemobile/i.test(n)}function C4(n=ca()){return/android/i.test(n)}function k4(n=ca()){return/blackberry/i.test(n)}function I4(n=ca()){return/webos/i.test(n)}function Q2(n=ca()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yR(n=ca()){var e;return Q2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bR(){return c6()&&document.documentMode===10}function R4(n=ca()){return Q2(n)||C4(n)||I4(n)||k4(n)||/windows phone/i.test(n)||N4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n,e=[]){let t;switch(n){case"Browser":t=Bx(ca());break;case"Worker":t=`${Bx(ca())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e={}){return fu(n,"GET","/v2/passwordPolicy",_c(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class SR{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:_R,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xl(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await td.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cg(this,{idToken:e}),r=await po._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(uc(this));const t=e?Mr(e):null;return t&&en(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(uc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wR(this),t=new SR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xl(e)||this._popupRedirectResolver;en(t,this,"argument-error"),this.redirectPersistenceManager=await td.create(this,[Xl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(fo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function uh(n){return Mr(n)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=v6(t=>this.observer=t)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(n){Kg=n}function L4(n){return Kg.loadJS(n)}function TR(){return Kg.recaptchaEnterpriseScript}function NR(){return Kg.gapiScript}function CR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new IR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RR="recaptcha-enterprise",O4="NO_RECAPTCHA";class PR{constructor(e){this.type=RR,this.auth=uh(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{uR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new lR(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function i(s,l,c){const h=window.grecaptcha;Mx(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{l(d)}).catch(()=>{l(O4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!t&&Mx(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=TR();h.length!==0&&(h+=c),L4(h).then(()=>{i(c,s,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function zx(n,e,t,r=!1,i=!1){const s=new PR(n);let l;if(i)l=O4;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Fv(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await zx(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zx(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){const t=lh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(dc(s,e??{}))return i;vo(i,"already-initialized")}return t.initialize({options:e})}function OR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DR(n,e,t){const r=uh(n);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=D4(e),{host:l,port:c}=MR(e),h=c===null?"":`:${c}`,d={url:`${s}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(dc(d,r.config.emulator)&&dc(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,up(l)?(jS(`${s}//${l}${h}`),FS("Auth",!0)):jR()}function D4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MR(n){const e=D4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qx(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:qx(l)}}}function qx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kl("not implemented")}_getIdTokenResponse(e){return Kl("not implemented")}_linkToIdToken(e,t){return Kl("not implemented")}_getReauthenticationResolver(e){return Kl("not implemented")}}async function FR(n,e){return fu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return Yg(n,"POST","/v1/accounts:signInWithPassword",_c(n,e))}async function BR(n,e){return fu(n,"POST","/v1/accounts:sendOobCode",_c(n,e))}async function UR(n,e){return BR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e){return Yg(n,"POST","/v1/accounts:signInWithEmailLink",_c(n,e))}async function qR(n,e){return Yg(n,"POST","/v1/accounts:signInWithEmailLink",_c(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends J2{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Wf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,t,"signInWithPassword",VR);case"emailLink":return zR(e,{email:this._email,oobCode:this._password});default:vo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,r,"signUpPassword",FR);case"emailLink":return qR(e,{idToken:t,email:this._email,oobCode:this._password});default:vo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n,e){return Yg(n,"POST","/v1/accounts:signInWithIdp",_c(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="http://localhost";class ih extends J2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ih(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=W2(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ih(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return nd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,nd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nd(e,t)}buildRequest(){const e={requestUri:HR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GR(n){const e=Cf(kf(n)).link,t=e?Cf(kf(e)).deep_link_id:null,r=Cf(kf(n)).deep_link_id;return(r?Cf(kf(r)).link:null)||r||t||e||n}class Z2{constructor(e){var t,r,i,s,l,c;const h=Cf(kf(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,b=$R((i=h.mode)!==null&&i!==void 0?i:null);en(d&&g&&b,"argument-error"),this.apiKey=d,this.operation=b,this.code=g,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=GR(e);try{return new Z2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.providerId=Ad.PROVIDER_ID}static credential(e,t){return Wf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Z2.parseLink(t);return en(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}Ad.PROVIDER_ID="password";Ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends M4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends dp{constructor(){super("facebook.com")}static credential(e){return ih._fromParams({providerId:ec.PROVIDER_ID,signInMethod:ec.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ec.credentialFromTaggedObject(e)}static credentialFromError(e){return ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ec.credential(e.oauthAccessToken)}catch{return null}}}ec.FACEBOOK_SIGN_IN_METHOD="facebook.com";ec.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ih._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tc.credentialFromTaggedObject(e)}static credentialFromError(e){return tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return tc.credential(t,r)}catch{return null}}}tc.GOOGLE_SIGN_IN_METHOD="google.com";tc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends dp{constructor(){super("github.com")}static credential(e){return ih._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch{return null}}}nc.GITHUB_SIGN_IN_METHOD="github.com";nc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends dp{constructor(){super("twitter.com")}static credential(e,t){return ih._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rc.credentialFromTaggedObject(e)}static credentialFromError(e){return rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return rc.credential(t,r)}catch{return null}}}rc.TWITTER_SIGN_IN_METHOD="twitter.com";rc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await po._fromIdTokenResponse(e,r,i),l=Hx(r);return new cd({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Hx(r);return new cd({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Hx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends wo{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dg(e,t,r,i)}}function j4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(n,s,e,r):s})}async function WR(n,e,t=!1){const r=await Gf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cd._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e,t=!1){const{auth:r}=n;if(fo(r.app))return Promise.reject(uc(r));const i="reauthenticate";try{const s=await Gf(n,j4(r,i,e,n),t);en(s.idToken,r,"internal-error");const l=X2(s.idToken);en(l,r,"internal-error");const{sub:c}=l;return en(n.uid===c,r,"user-mismatch"),cd._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e,t=!1){if(fo(n.app))return Promise.reject(uc(n));const r="signIn",i=await j4(n,r,e),s=await cd._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function KR(n,e){return F4(uh(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n){const e=uh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QR(n,e,t){const r=uh(n);await Fv(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UR)}function JR(n,e,t){return fo(n.app)?Promise.reject(uc(n)):KR(Mr(n),Ad.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XR(n),r})}function ZR(n,e,t,r){return Mr(n).onIdTokenChanged(e,t,r)}function eP(n,e,t){return Mr(n).beforeAuthStateChanged(e,t)}function tP(n,e,t,r){return Mr(n).onAuthStateChanged(e,t,r)}function nP(n){return Mr(n).signOut()}const fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1e3,iP=10;class B4 extends V4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);bR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iP):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},rP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}B4.type="LOCAL";const aP=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends V4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}U4.type="SESSION";const z4=U4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async d=>d(t.origin,s)),h=await sP(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const d=ey("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(b){const w=b;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(g),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(){return window}function lP(n){ol().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return typeof ol().WorkerGlobalScope<"u"&&typeof ol().importScripts=="function"}async function uP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hP(){return q4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebaseLocalStorageDb",dP=1,pg="firebaseLocalStorage",$4="fbase_key";class fp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qg(n,e){return n.transaction([pg],e?"readwrite":"readonly").objectStore(pg)}function fP(){const n=indexedDB.deleteDatabase(H4);return new fp(n).toPromise()}function Vv(){const n=indexedDB.open(H4,dP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pg,{keyPath:$4})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pg)?e(r):(r.close(),await fP(),e(await Vv()))})})}async function $x(n,e,t){const r=Qg(n,!0).put({[$4]:e,value:t});return new fp(r).toPromise()}async function pP(n,e){const t=Qg(n,!1).get(e),r=await new fp(t).toPromise();return r===void 0?null:r.value}function Gx(n,e){const t=Qg(n,!0).delete(e);return new fp(t).toPromise()}const mP=800,gP=3;class G4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>gP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xg._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vv();return await $x(e,fg,"1"),await Gx(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$x(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>pP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qg(i,!1).getAll();return new fp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G4.type="LOCAL";const vP=G4;new hp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e){return e?Xl(e):(en(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends J2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bP(n){return F4(n.auth,new ty(n),n.bypassAuthState)}function xP(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),YR(t,new ty(n),n.bypassAuthState)}async function wP(n){const{auth:e,user:t}=n;return en(t,e,"internal-error"),WR(t,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bP;case"linkViaPopup":case"linkViaRedirect":return wP;case"reauthViaPopup":case"reauthViaRedirect":return xP;default:vo(this.auth,"internal-error")}}resolve(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new hp(2e3,1e4);class Jh extends W4{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jh.currentPopupAction&&Jh.currentPopupAction.cancel(),Jh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){iu(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}Jh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="pendingRedirect",zm=new Map;class AP extends W4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zm.get(this.auth._key());if(!e){try{const r=await EP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zm.set(this.auth._key(),e)}return this.bypassAuthState||zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(n,e){const t=CP(e),r=NP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function TP(n,e){zm.set(n._key(),e)}function NP(n){return Xl(n._redirectPersistence)}function CP(n){return Um(SP,n.config.apiKey,n.name)}async function kP(n,e,t=!1){if(fo(n.app))return Promise.reject(uc(n));const r=uh(n),i=yP(r,e),l=await new AP(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=10*60*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Y4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(sl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}saveEventToCache(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}function Wx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Y4({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e={}){return fu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DP=/^https?/;async function MP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LP(n);for(const t of e)try{if(jP(t))return}catch{}vo(n,"unauthorized-domain")}function jP(n){const e=Mv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!DP.test(t))return!1;if(OP.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new hp(3e4,6e4);function Yx(){const n=ol().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VP(n){return new Promise((e,t)=>{var r,i,s;function l(){Yx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yx(),t(sl(n,"network-request-failed"))},timeout:FP.get()})}if(!((i=(r=ol().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ol().gapi)===null||s===void 0)&&s.load)l();else{const c=CR("iframefcb");return ol()[c]=()=>{gapi.load?l():t(sl(n,"network-request-failed"))},L4(`${NR()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw qm=null,e})}let qm=null;function BP(n){return qm=qm||VP(n),qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new hp(5e3,15e3),zP="__/auth/iframe",qP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GP(n){const e=n.config;en(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?K2(e,qP):`https://${n.config.authDomain}/${zP}`,r={apiKey:e.apiKey,appName:n.name,v:Sd},i=$P.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${cp(r).slice(1)}`}async function WP(n){const e=await BP(n),t=ol().gapi;return en(t,n,"internal-error"),e.open({where:document.body,url:GP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=sl(n,"network-request-failed"),c=ol().setTimeout(()=>{s(l)},UP.get());function h(){ol().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KP=500,XP=600,QP="_blank",JP="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(n,e,t,r=KP,i=XP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},YP),{width:r.toString(),height:i.toString(),top:s,left:l}),d=ca().toLowerCase();t&&(c=T4(d)?QP:t),A4(d)&&(e=e||JP,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[x,C])=>`${w}${x}=${C},`,"");if(yR(d)&&c!=="_self")return eL(e||"",c),new Kx(null);const b=window.open(e||"",c,g);en(b,n,"popup-blocked");try{b.focus()}catch{}return new Kx(b)}function eL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="__/auth/handler",nL="emulator/auth/handler",rL=encodeURIComponent("fac");async function Xx(n,e,t,r,i,s){en(n.config.authDomain,n,"auth-domain-config-required"),en(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sd,eventId:i};if(e instanceof M4){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",g6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))l[g]=b}if(e instanceof dp){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),d=h?`#${rL}=${encodeURIComponent(h)}`:"";return`${iL(n)}?${cp(c).slice(1)}${d}`}function iL({config:n}){return n.emulator?K2(n,nL):`https://${n.authDomain}/${tL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class aL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z4,this._completeRedirectFn=kP,this._overrideRedirectResult=TP}async _openPopup(e,t,r,i){var s;iu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await Xx(e,t,r,Mv(),i);return ZP(e,l,ey())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Xx(e,t,r,Mv(),i);return lP(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(iu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WP(e),r=new RP(e);return t.register("authEvent",i=>(en(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Z1,{type:Z1},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Z1];l!==void 0&&t(!!l),vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return R4()||E4()||Q2()}}const sL=aL;var Qx="@firebase/auth",Jx="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uL(n){fl(new go("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;en(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P4(n)},d=new AR(r,i,s,h);return OR(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fl(new go("auth-internal",e=>{const t=uh(e.getProvider("auth").getImmediate());return(r=>new oL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(Qx,Jx,lL(n)),Fs(Qx,Jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=5*60,hL=MS("authIdTokenMaxAge")||cL;let Zx=null;const dL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>hL)return;const i=t==null?void 0:t.token;Zx!==i&&(Zx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fL(n=U2()){const e=lh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LR(n,{popupRedirectResolver:sL,persistence:[vP,aP,z4]}),r=MS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=dL(s.toString());eP(t,l,()=>l(t.currentUser)),ZR(t,c=>l(c))}}const i=OS("auth");return i&&DR(t,`http://${i}`),t}function pL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ER({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=sl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",pL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uL("Browser");var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cc,K4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function U(){}U.prototype=P.prototype,V.D=P.prototype,V.prototype=new U,V.prototype.constructor=V,V.C=function(Q,O,D){for(var B=Array(arguments.length-2),he=2;he<arguments.length;he++)B[he-2]=arguments[he];return P.prototype[O].apply(Q,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,P,U){U||(U=0);var Q=Array(16);if(typeof P=="string")for(var O=0;16>O;++O)Q[O]=P.charCodeAt(U++)|P.charCodeAt(U++)<<8|P.charCodeAt(U++)<<16|P.charCodeAt(U++)<<24;else for(O=0;16>O;++O)Q[O]=P[U++]|P[U++]<<8|P[U++]<<16|P[U++]<<24;P=V.g[0],U=V.g[1],O=V.g[2];var D=V.g[3],B=P+(D^U&(O^D))+Q[0]+3614090360&4294967295;P=U+(B<<7&4294967295|B>>>25),B=D+(O^P&(U^O))+Q[1]+3905402710&4294967295,D=P+(B<<12&4294967295|B>>>20),B=O+(U^D&(P^U))+Q[2]+606105819&4294967295,O=D+(B<<17&4294967295|B>>>15),B=U+(P^O&(D^P))+Q[3]+3250441966&4294967295,U=O+(B<<22&4294967295|B>>>10),B=P+(D^U&(O^D))+Q[4]+4118548399&4294967295,P=U+(B<<7&4294967295|B>>>25),B=D+(O^P&(U^O))+Q[5]+1200080426&4294967295,D=P+(B<<12&4294967295|B>>>20),B=O+(U^D&(P^U))+Q[6]+2821735955&4294967295,O=D+(B<<17&4294967295|B>>>15),B=U+(P^O&(D^P))+Q[7]+4249261313&4294967295,U=O+(B<<22&4294967295|B>>>10),B=P+(D^U&(O^D))+Q[8]+1770035416&4294967295,P=U+(B<<7&4294967295|B>>>25),B=D+(O^P&(U^O))+Q[9]+2336552879&4294967295,D=P+(B<<12&4294967295|B>>>20),B=O+(U^D&(P^U))+Q[10]+4294925233&4294967295,O=D+(B<<17&4294967295|B>>>15),B=U+(P^O&(D^P))+Q[11]+2304563134&4294967295,U=O+(B<<22&4294967295|B>>>10),B=P+(D^U&(O^D))+Q[12]+1804603682&4294967295,P=U+(B<<7&4294967295|B>>>25),B=D+(O^P&(U^O))+Q[13]+4254626195&4294967295,D=P+(B<<12&4294967295|B>>>20),B=O+(U^D&(P^U))+Q[14]+2792965006&4294967295,O=D+(B<<17&4294967295|B>>>15),B=U+(P^O&(D^P))+Q[15]+1236535329&4294967295,U=O+(B<<22&4294967295|B>>>10),B=P+(O^D&(U^O))+Q[1]+4129170786&4294967295,P=U+(B<<5&4294967295|B>>>27),B=D+(U^O&(P^U))+Q[6]+3225465664&4294967295,D=P+(B<<9&4294967295|B>>>23),B=O+(P^U&(D^P))+Q[11]+643717713&4294967295,O=D+(B<<14&4294967295|B>>>18),B=U+(D^P&(O^D))+Q[0]+3921069994&4294967295,U=O+(B<<20&4294967295|B>>>12),B=P+(O^D&(U^O))+Q[5]+3593408605&4294967295,P=U+(B<<5&4294967295|B>>>27),B=D+(U^O&(P^U))+Q[10]+38016083&4294967295,D=P+(B<<9&4294967295|B>>>23),B=O+(P^U&(D^P))+Q[15]+3634488961&4294967295,O=D+(B<<14&4294967295|B>>>18),B=U+(D^P&(O^D))+Q[4]+3889429448&4294967295,U=O+(B<<20&4294967295|B>>>12),B=P+(O^D&(U^O))+Q[9]+568446438&4294967295,P=U+(B<<5&4294967295|B>>>27),B=D+(U^O&(P^U))+Q[14]+3275163606&4294967295,D=P+(B<<9&4294967295|B>>>23),B=O+(P^U&(D^P))+Q[3]+4107603335&4294967295,O=D+(B<<14&4294967295|B>>>18),B=U+(D^P&(O^D))+Q[8]+1163531501&4294967295,U=O+(B<<20&4294967295|B>>>12),B=P+(O^D&(U^O))+Q[13]+2850285829&4294967295,P=U+(B<<5&4294967295|B>>>27),B=D+(U^O&(P^U))+Q[2]+4243563512&4294967295,D=P+(B<<9&4294967295|B>>>23),B=O+(P^U&(D^P))+Q[7]+1735328473&4294967295,O=D+(B<<14&4294967295|B>>>18),B=U+(D^P&(O^D))+Q[12]+2368359562&4294967295,U=O+(B<<20&4294967295|B>>>12),B=P+(U^O^D)+Q[5]+4294588738&4294967295,P=U+(B<<4&4294967295|B>>>28),B=D+(P^U^O)+Q[8]+2272392833&4294967295,D=P+(B<<11&4294967295|B>>>21),B=O+(D^P^U)+Q[11]+1839030562&4294967295,O=D+(B<<16&4294967295|B>>>16),B=U+(O^D^P)+Q[14]+4259657740&4294967295,U=O+(B<<23&4294967295|B>>>9),B=P+(U^O^D)+Q[1]+2763975236&4294967295,P=U+(B<<4&4294967295|B>>>28),B=D+(P^U^O)+Q[4]+1272893353&4294967295,D=P+(B<<11&4294967295|B>>>21),B=O+(D^P^U)+Q[7]+4139469664&4294967295,O=D+(B<<16&4294967295|B>>>16),B=U+(O^D^P)+Q[10]+3200236656&4294967295,U=O+(B<<23&4294967295|B>>>9),B=P+(U^O^D)+Q[13]+681279174&4294967295,P=U+(B<<4&4294967295|B>>>28),B=D+(P^U^O)+Q[0]+3936430074&4294967295,D=P+(B<<11&4294967295|B>>>21),B=O+(D^P^U)+Q[3]+3572445317&4294967295,O=D+(B<<16&4294967295|B>>>16),B=U+(O^D^P)+Q[6]+76029189&4294967295,U=O+(B<<23&4294967295|B>>>9),B=P+(U^O^D)+Q[9]+3654602809&4294967295,P=U+(B<<4&4294967295|B>>>28),B=D+(P^U^O)+Q[12]+3873151461&4294967295,D=P+(B<<11&4294967295|B>>>21),B=O+(D^P^U)+Q[15]+530742520&4294967295,O=D+(B<<16&4294967295|B>>>16),B=U+(O^D^P)+Q[2]+3299628645&4294967295,U=O+(B<<23&4294967295|B>>>9),B=P+(O^(U|~D))+Q[0]+4096336452&4294967295,P=U+(B<<6&4294967295|B>>>26),B=D+(U^(P|~O))+Q[7]+1126891415&4294967295,D=P+(B<<10&4294967295|B>>>22),B=O+(P^(D|~U))+Q[14]+2878612391&4294967295,O=D+(B<<15&4294967295|B>>>17),B=U+(D^(O|~P))+Q[5]+4237533241&4294967295,U=O+(B<<21&4294967295|B>>>11),B=P+(O^(U|~D))+Q[12]+1700485571&4294967295,P=U+(B<<6&4294967295|B>>>26),B=D+(U^(P|~O))+Q[3]+2399980690&4294967295,D=P+(B<<10&4294967295|B>>>22),B=O+(P^(D|~U))+Q[10]+4293915773&4294967295,O=D+(B<<15&4294967295|B>>>17),B=U+(D^(O|~P))+Q[1]+2240044497&4294967295,U=O+(B<<21&4294967295|B>>>11),B=P+(O^(U|~D))+Q[8]+1873313359&4294967295,P=U+(B<<6&4294967295|B>>>26),B=D+(U^(P|~O))+Q[15]+4264355552&4294967295,D=P+(B<<10&4294967295|B>>>22),B=O+(P^(D|~U))+Q[6]+2734768916&4294967295,O=D+(B<<15&4294967295|B>>>17),B=U+(D^(O|~P))+Q[13]+1309151649&4294967295,U=O+(B<<21&4294967295|B>>>11),B=P+(O^(U|~D))+Q[4]+4149444226&4294967295,P=U+(B<<6&4294967295|B>>>26),B=D+(U^(P|~O))+Q[11]+3174756917&4294967295,D=P+(B<<10&4294967295|B>>>22),B=O+(P^(D|~U))+Q[2]+718787259&4294967295,O=D+(B<<15&4294967295|B>>>17),B=U+(D^(O|~P))+Q[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(O+(B<<21&4294967295|B>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+D&4294967295}r.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var U=P-this.blockSize,Q=this.B,O=this.h,D=0;D<P;){if(O==0)for(;D<=U;)i(this,V,D),D+=this.blockSize;if(typeof V=="string"){for(;D<P;)if(Q[O++]=V.charCodeAt(D++),O==this.blockSize){i(this,Q),O=0;break}}else for(;D<P;)if(Q[O++]=V[D++],O==this.blockSize){i(this,Q),O=0;break}}this.h=O,this.o+=P},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var U=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=U&255,U/=256;for(this.u(V),V=Array(16),P=U=0;4>P;++P)for(var Q=0;32>Q;Q+=8)V[U++]=this.g[P]>>>Q&255;return V};function s(V,P){var U=c;return Object.prototype.hasOwnProperty.call(U,V)?U[V]:U[V]=P(V)}function l(V,P){this.h=P;for(var U=[],Q=!0,O=V.length-1;0<=O;O--){var D=V[O]|0;Q&&D==P||(U[O]=D,Q=!1)}this.g=U}var c={};function h(V){return-128<=V&&128>V?s(V,function(P){return new l([P|0],0>P?-1:0)}):new l([V|0],0>V?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return I(d(-V));for(var P=[],U=1,Q=0;V>=U;Q++)P[Q]=V/U|0,U*=4294967296;return new l(P,0)}function g(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return I(g(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=d(Math.pow(P,8)),Q=b,O=0;O<V.length;O+=8){var D=Math.min(8,V.length-O),B=parseInt(V.substring(O,O+D),P);8>D?(D=d(Math.pow(P,D)),Q=Q.j(D).add(d(B))):(Q=Q.j(U),Q=Q.add(d(B)))}return Q}var b=h(0),w=h(1),x=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-I(this).m();for(var V=0,P=1,U=0;U<this.g.length;U++){var Q=this.i(U);V+=(0<=Q?Q:4294967296+Q)*P,P*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(k(this))return"-"+I(this).toString(V);for(var P=d(Math.pow(V,6)),U=this,Q="";;){var O=re(U,P).g;U=N(U,O.j(P));var D=((0<U.g.length?U.g[0]:U.h)>>>0).toString(V);if(U=O,C(U))return D+Q;for(;6>D.length;)D="0"+D;Q=D+Q}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function k(V){return V.h==-1}n.l=function(V){return V=N(this,V),k(V)?-1:C(V)?0:1};function I(V){for(var P=V.g.length,U=[],Q=0;Q<P;Q++)U[Q]=~V.g[Q];return new l(U,~V.h).add(w)}n.abs=function(){return k(this)?I(this):this},n.add=function(V){for(var P=Math.max(this.g.length,V.g.length),U=[],Q=0,O=0;O<=P;O++){var D=Q+(this.i(O)&65535)+(V.i(O)&65535),B=(D>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);Q=B>>>16,D&=65535,B&=65535,U[O]=B<<16|D}return new l(U,U[U.length-1]&-2147483648?-1:0)};function N(V,P){return V.add(I(P))}n.j=function(V){if(C(this)||C(V))return b;if(k(this))return k(V)?I(this).j(I(V)):I(I(this).j(V));if(k(V))return I(this.j(I(V)));if(0>this.l(x)&&0>V.l(x))return d(this.m()*V.m());for(var P=this.g.length+V.g.length,U=[],Q=0;Q<2*P;Q++)U[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var O=0;O<V.g.length;O++){var D=this.i(Q)>>>16,B=this.i(Q)&65535,he=V.i(O)>>>16,be=V.i(O)&65535;U[2*Q+2*O]+=B*be,M(U,2*Q+2*O),U[2*Q+2*O+1]+=D*be,M(U,2*Q+2*O+1),U[2*Q+2*O+1]+=B*he,M(U,2*Q+2*O+1),U[2*Q+2*O+2]+=D*he,M(U,2*Q+2*O+2)}for(Q=0;Q<P;Q++)U[Q]=U[2*Q+1]<<16|U[2*Q];for(Q=P;Q<2*P;Q++)U[Q]=0;return new l(U,0)};function M(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function H(V,P){this.g=V,this.h=P}function re(V,P){if(C(P))throw Error("division by zero");if(C(V))return new H(b,b);if(k(V))return P=re(I(V),P),new H(I(P.g),I(P.h));if(k(P))return P=re(V,I(P)),new H(I(P.g),P.h);if(30<V.g.length){if(k(V)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var U=w,Q=P;0>=Q.l(V);)U=K(U),Q=K(Q);var O=ge(U,1),D=ge(Q,1);for(Q=ge(Q,2),U=ge(U,2);!C(Q);){var B=D.add(Q);0>=B.l(V)&&(O=O.add(U),D=B),Q=ge(Q,1),U=ge(U,1)}return P=N(V,O.j(P)),new H(O,P)}for(O=b;0<=V.l(P);){for(U=Math.max(1,Math.floor(V.m()/P.m())),Q=Math.ceil(Math.log(U)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),D=d(U),B=D.j(P);k(B)||0<B.l(V);)U-=Q,D=d(U),B=D.j(P);C(D)&&(D=w),O=O.add(D),V=N(V,B)}return new H(O,V)}n.A=function(V){return re(this,V).h},n.and=function(V){for(var P=Math.max(this.g.length,V.g.length),U=[],Q=0;Q<P;Q++)U[Q]=this.i(Q)&V.i(Q);return new l(U,this.h&V.h)},n.or=function(V){for(var P=Math.max(this.g.length,V.g.length),U=[],Q=0;Q<P;Q++)U[Q]=this.i(Q)|V.i(Q);return new l(U,this.h|V.h)},n.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),U=[],Q=0;Q<P;Q++)U[Q]=this.i(Q)^V.i(Q);return new l(U,this.h^V.h)};function K(V){for(var P=V.g.length+1,U=[],Q=0;Q<P;Q++)U[Q]=V.i(Q)<<1|V.i(Q-1)>>>31;return new l(U,V.h)}function ge(V,P){var U=P>>5;P%=32;for(var Q=V.g.length-U,O=[],D=0;D<Q;D++)O[D]=0<P?V.i(D+U)>>>P|V.i(D+U+1)<<32-P:V.i(D+U);return new l(O,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,cc=l}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X4,If,Q4,Hm,Bv,J4,Z4,e3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,L){return m==Array.prototype||m==Object.prototype||(m[T]=L.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sm=="object"&&Sm];for(var T=0;T<m.length;++T){var L=m[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(m,T){if(T)e:{var L=r;m=m.split(".");for(var X=0;X<m.length-1;X++){var Te=m[X];if(!(Te in L))break e;L=L[Te]}m=m[m.length-1],X=L[m],T=T(X),T!=X&&T!=null&&e(L,m,{configurable:!0,writable:!0,value:T})}}function s(m,T){m instanceof String&&(m+="");var L=0,X=!1,Te={next:function(){if(!X&&L<m.length){var Fe=L++;return{value:T(Fe,m[Fe]),done:!1}}return X=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}i("Array.prototype.values",function(m){return m||function(){return s(this,function(T,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function d(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function g(m,T,L){return m.call.apply(m.bind,arguments)}function b(m,T,L){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,X),m.apply(T,Te)}}return function(){return m.apply(T,arguments)}}function w(m,T,L){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,w.apply(null,arguments)}function x(m,T){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function C(m,T){function L(){}L.prototype=T.prototype,m.aa=T.prototype,m.prototype=new L,m.prototype.constructor=m,m.Qb=function(X,Te,Fe){for(var ct=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ct[Yt-2]=arguments[Yt];return T.prototype[Te].apply(X,ct)}}function k(m){const T=m.length;if(0<T){const L=Array(T);for(let X=0;X<T;X++)L[X]=m[X];return L}return[]}function I(m,T){for(let L=1;L<arguments.length;L++){const X=arguments[L];if(h(X)){const Te=m.length||0,Fe=X.length||0;m.length=Te+Fe;for(let ct=0;ct<Fe;ct++)m[Te+ct]=X[ct]}else m.push(X)}}class N{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function M(m){return/^[\s\xa0]*$/.test(m)}function H(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function re(m){return re[" "](m),m}re[" "]=function(){};var K=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ge(m,T,L){for(const X in m)T.call(L,m[X],X,m)}function V(m,T){for(const L in m)T.call(void 0,m[L],L,m)}function P(m){const T={};for(const L in m)T[L]=m[L];return T}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(m,T){let L,X;for(let Te=1;Te<arguments.length;Te++){X=arguments[Te];for(L in X)m[L]=X[L];for(let Fe=0;Fe<U.length;Fe++)L=U[Fe],Object.prototype.hasOwnProperty.call(X,L)&&(m[L]=X[L])}}function O(m){var T=1;m=m.split(":");const L=[];for(;0<T&&m.length;)L.push(m.shift()),T--;return m.length&&L.push(m.join(":")),L}function D(m){c.setTimeout(()=>{throw m},0)}function B(){var m=Le;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class he{constructor(){this.h=this.g=null}add(T,L){const X=be.get();X.set(T,L),this.h?this.h.next=X:this.g=X,this.h=X}}var be=new N(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,fe=!1,Le=new he,J=()=>{const m=c.Promise.resolve(void 0);pe=()=>{m.then(ke)}};var ke=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(L){D(L)}var T=be;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}fe=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};c.addEventListener("test",L,T),c.removeEventListener("test",L,T)}catch{}return m}();function le(m,T){if(G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var L=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(K){e:{try{re(T.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(T=null)}}else L=="mouseover"?T=m.fromElement:L=="mouseout"&&(T=m.toElement);this.relatedTarget=T,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:oe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&le.aa.h.call(this)}}C(le,G);var oe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Oe(m,T,L,X,Te){this.listener=m,this.proxy=null,this.src=T,this.type=L,this.capture=!!X,this.ha=Te,this.key=++_e,this.da=this.fa=!1}function lt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function rt(m){this.src=m,this.g={},this.h=0}rt.prototype.add=function(m,T,L,X,Te){var Fe=m.toString();m=this.g[Fe],m||(m=this.g[Fe]=[],this.h++);var ct=ft(m,T,X,Te);return-1<ct?(T=m[ct],L||(T.fa=!1)):(T=new Oe(T,this.src,Fe,!!X,Te),T.fa=L,m.push(T)),T};function ht(m,T){var L=T.type;if(L in m.g){var X=m.g[L],Te=Array.prototype.indexOf.call(X,T,void 0),Fe;(Fe=0<=Te)&&Array.prototype.splice.call(X,Te,1),Fe&&(lt(T),m.g[L].length==0&&(delete m.g[L],m.h--))}}function ft(m,T,L,X){for(var Te=0;Te<m.length;++Te){var Fe=m[Te];if(!Fe.da&&Fe.listener==T&&Fe.capture==!!L&&Fe.ha==X)return Te}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),qe={};function ce(m,T,L,X,Te){if(Array.isArray(T)){for(var Fe=0;Fe<T.length;Fe++)ce(m,T[Fe],L,X,Te);return null}return L=Xe(L),m&&m[Ne]?m.K(T,L,d(X)?!!X.capture:!1,Te):kt(m,T,L,!1,X,Te)}function kt(m,T,L,X,Te,Fe){if(!T)throw Error("Invalid event type");var ct=d(Te)?!!Te.capture:!!Te,Yt=He(m);if(Yt||(m[Pt]=Yt=new rt(m)),L=Yt.add(T,L,X,ct,Fe),L.proxy)return L;if(X=Nt(),L.proxy=X,X.src=m,X.listener=L,m.addEventListener)ne||(Te=ct),Te===void 0&&(Te=!1),m.addEventListener(T.toString(),X,Te);else if(m.attachEvent)m.attachEvent(yt(T.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Nt(){function m(L){return T.call(m.src,m.listener,L)}const T=bt;return m}function Je(m,T,L,X,Te){if(Array.isArray(T))for(var Fe=0;Fe<T.length;Fe++)Je(m,T[Fe],L,X,Te);else X=d(X)?!!X.capture:!!X,L=Xe(L),m&&m[Ne]?(m=m.i,T=String(T).toString(),T in m.g&&(Fe=m.g[T],L=ft(Fe,L,X,Te),-1<L&&(lt(Fe[L]),Array.prototype.splice.call(Fe,L,1),Fe.length==0&&(delete m.g[T],m.h--)))):m&&(m=He(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ft(T,L,X,Te)),(L=-1<m?T[m]:null)&&dt(L))}function dt(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Ne])ht(T.i,m);else{var L=m.type,X=m.proxy;T.removeEventListener?T.removeEventListener(L,X,m.capture):T.detachEvent?T.detachEvent(yt(L),X):T.addListener&&T.removeListener&&T.removeListener(X),(L=He(T))?(ht(L,m),L.h==0&&(L.src=null,T[Pt]=null)):lt(m)}}}function yt(m){return m in qe?qe[m]:qe[m]="on"+m}function bt(m,T){if(m.da)m=!0;else{T=new le(T,this);var L=m.listener,X=m.ha||m.src;m.fa&&dt(m),m=L.call(X,T)}return m}function He(m){return m=m[Pt],m instanceof rt?m:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(m){return typeof m=="function"?m:(m[Ke]||(m[Ke]=function(T){return m.handleEvent(T)}),m[Ke])}function Ze(){j.call(this),this.i=new rt(this),this.M=this,this.F=null}C(Ze,j),Ze.prototype[Ne]=!0,Ze.prototype.removeEventListener=function(m,T,L,X){Je(this,m,T,L,X)};function gt(m,T){var L,X=m.F;if(X)for(L=[];X;X=X.F)L.push(X);if(m=m.M,X=T.type||T,typeof T=="string")T=new G(T,m);else if(T instanceof G)T.target=T.target||m;else{var Te=T;T=new G(X,m),Q(T,Te)}if(Te=!0,L)for(var Fe=L.length-1;0<=Fe;Fe--){var ct=T.g=L[Fe];Te=Mt(ct,X,!0,T)&&Te}if(ct=T.g=m,Te=Mt(ct,X,!0,T)&&Te,Te=Mt(ct,X,!1,T)&&Te,L)for(Fe=0;Fe<L.length;Fe++)ct=T.g=L[Fe],Te=Mt(ct,X,!1,T)&&Te}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var L=m.g[T],X=0;X<L.length;X++)lt(L[X]);delete m.g[T],m.h--}}this.F=null},Ze.prototype.K=function(m,T,L,X){return this.i.add(String(m),T,!1,L,X)},Ze.prototype.L=function(m,T,L,X){return this.i.add(String(m),T,!0,L,X)};function Mt(m,T,L,X){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var Te=!0,Fe=0;Fe<T.length;++Fe){var ct=T[Fe];if(ct&&!ct.da&&ct.capture==L){var Yt=ct.listener,An=ct.ha||ct.src;ct.fa&&ht(m.i,ct),Te=Yt.call(An,X)!==!1&&Te}}return Te&&!X.defaultPrevented}function St(m,T,L){if(typeof m=="function")L&&(m=w(m,L));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(m,T||0)}function Bt(m){m.g=St(()=>{m.g=null,m.i&&(m.i=!1,Bt(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class pt extends j{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(m){j.call(this),this.h=m,this.g={}}C(mn,j);var ue=[];function me(m){ge(m.g,function(T,L){this.g.hasOwnProperty(L)&&dt(T)},m),m.g={}}mn.prototype.N=function(){mn.aa.N.call(this),me(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=c.JSON.stringify,Ge=c.JSON.parse,at=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Ce(){}Ce.prototype.h=null;function Et(m){return m.h||(m.h=m.i())}function Ee(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){G.call(this,"d")}C(jt,G);function It(){G.call(this,"c")}C(It,G);var vt={},Lt=null;function hn(){return Lt=Lt||new Ze}vt.La="serverreachability";function Ht(m){G.call(this,vt.La,m)}C(Ht,G);function nr(m){const T=hn();gt(T,new Ht(T))}vt.STAT_EVENT="statevent";function Ir(m,T){G.call(this,vt.STAT_EVENT,m),this.stat=T}C(Ir,G);function At(m){const T=hn();gt(T,new Ir(T,m))}vt.Ma="timingevent";function dn(m,T){G.call(this,vt.Ma,m),this.size=T}C(dn,G);function gn(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function On(m,T,L,X,Te,Fe){m.info(function(){if(m.g)if(Fe)for(var ct="",Yt=Fe.split("&"),An=0;An<Yt.length;An++){var an=Yt[An].split("=");if(1<an.length){var $n=an[0];an=an[1];var Jn=$n.split("_");ct=2<=Jn.length&&Jn[1]=="type"?ct+($n+"="+an+"&"):ct+($n+"=redacted&")}}else ct=null;else ct=Fe;return"XMLHTTP REQ ("+X+") [attempt "+Te+"]: "+T+`
`+L+`
`+ct})}function Dn(m,T,L,X,Te,Fe,ct){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Te+"]: "+T+`
`+L+`
`+Fe+" "+ct})}function Tn(m,T,L,X){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+ii(m,L)+(X?" "+X:"")})}function fi(m,T){m.info(function(){return"TIMEOUT: "+T})}yn.prototype.info=function(){};function ii(m,T){if(!m.g)return T;if(!T)return null;try{var L=JSON.parse(T);if(L){for(m=0;m<L.length;m++)if(Array.isArray(L[m])){var X=L[m];if(!(2>X.length)){var Te=X[1];if(Array.isArray(Te)&&!(1>Te.length)){var Fe=Te[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var ct=1;ct<Te.length;ct++)Te[ct]=""}}}}return ye(L)}catch{return T}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function fr(){}C(fr,Ce),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},rr=new fr;function Mn(m,T,L,X){this.j=m,this.i=T,this.l=L,this.R=X||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var pi={},jn={};function Sr(m,T,L){m.L=1,m.v=gs(gi(T)),m.m=L,m.P=!0,lr(m,null)}function lr(m,T){m.F=Date.now(),Vs(m),m.A=gi(m.v);var L=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),Wt(L.i,"t",X),m.C=0,L=m.j.J,m.h=new bn,m.g=q(m.j,L?T:null,!m.m),0<m.O&&(m.M=new pt(w(m.Y,m,m.g),m.O)),T=m.U,L=m.g,X=m.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(ue[0]=Te.toString()),Te=ue);for(var Fe=0;Fe<Te.length;Fe++){var ct=ce(L,Te[Fe],X||T.handleEvent,!1,T.h||T);if(!ct)break;T.g[ct.key]=ct}T=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),nr(),On(m.i,m.u,m.A,m.l,m.R,m.m)}Mn.prototype.ca=function(m){m=m.target;const T=this.M;T&&Vr(m)==3?T.j():this.Y(m)},Mn.prototype.Y=function(m){try{if(m==this.g)e:{const Jn=Vr(this.g);var T=this.g.Ba();const Ta=this.g.Z();if(!(3>Jn)&&(Jn!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Jn!=4||T==7||(T==8||0>=Ta?nr(3):nr(2)),ha(this);var L=this.g.Z();this.X=L;t:if(Gr(this)){var X=xu(this.g);m="";var Te=X.length,Fe=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),da(this);var ct="";break t}this.h.i=new c.TextDecoder}for(T=0;T<Te;T++)this.h.h=!0,m+=this.h.i.decode(X[T],{stream:!(Fe&&T==Te-1)});X.length=0,this.h.g+=m,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=L==200,Dn(this.i,this.u,this.A,this.l,this.R,Jn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,An=this.g;if((Yt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Yt)){var an=Yt;break t}}an=null}if(L=an)Tn(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,L);else{this.o=!1,this.s=3,At(12),Wr(this),da(this);break e}}if(this.P){L=!0;let Rr;for(;!this.J&&this.C<ct.length;)if(Rr=gl(this,ct),Rr==jn){Jn==4&&(this.s=4,At(14),L=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==pi){this.s=4,At(15),Tn(this.i,this.l,ct,"[Invalid Chunk]"),L=!1;break}else Tn(this.i,this.l,Rr,null),Ua(this,Rr);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||ct.length!=0||this.h.h||(this.s=1,At(16),L=!1),this.o=this.o&&L,!L)Tn(this.i,this.l,ct,"[Invalid Chunked Response]"),Wr(this),da(this);else if(0<ct.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),_s($n),$n.M=!0,At(11))}}else Tn(this.i,this.l,ct,null),Ua(this,ct);Jn==4&&Wr(this),this.o&&!this.J&&(Jn==4?Ss(this.j,this):(this.o=!1,Vs(this)))}else bs(this.g),L==400&&0<ct.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Wr(this),da(this)}}}catch{}finally{}};function Gr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function gl(m,T){var L=m.C,X=T.indexOf(`
`,L);return X==-1?jn:(L=Number(T.substring(L,X)),isNaN(L)?pi:(X+=1,X+L>T.length?jn:(T=T.slice(X,X+L),m.C=X+L,T)))}Mn.prototype.cancel=function(){this.J=!0,Wr(this)};function Vs(m){m.S=Date.now()+m.I,mu(m,m.I)}function mu(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=gn(w(m.ba,m),T)}function ha(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Mn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(fi(this.i,this.A),this.L!=2&&(nr(),At(17)),Wr(this),this.s=2,da(this)):mu(this,this.S-m)};function da(m){m.j.G==0||m.J||Ss(m.j,m)}function Wr(m){ha(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,me(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Ua(m,T){try{var L=m.j;if(L.G!=0&&(L.g==m||vl(L.h,m))){if(!m.K&&vl(L.h,m)&&L.G==3){try{var X=L.Da.g.parse(T)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Te=X;if(Te[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<m.F)Ka(L),Co(L);else break e;$s(L),At(18)}}else L.za=Te[1],0<L.za-L.T&&37500>Te[2]&&L.F&&L.v==0&&!L.C&&(L.C=gn(w(L.Za,L),6e3));if(1>=za(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Ei(L,11)}else if((m.K||L.g==m)&&Ka(L),!M(T))for(Te=L.Da.g.parse(T),T=0;T<Te.length;T++){let an=Te[T];if(L.T=an[0],an=an[1],L.G==2)if(an[0]=="c"){L.K=an[1],L.ia=an[2];const $n=an[3];$n!=null&&(L.la=$n,L.j.info("VER="+L.la));const Jn=an[4];Jn!=null&&(L.Aa=Jn,L.j.info("SVER="+L.Aa));const Ta=an[5];Ta!=null&&typeof Ta=="number"&&0<Ta&&(X=1.5*Ta,L.L=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const Rr=m.g;if(Rr){const Yi=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var Fe=X.h;Fe.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(ur(Fe,Fe.h),Fe.h=null))}if(X.D){const As=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(X.ya=As,Hn(X.I,X.D,As))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-m.F,L.j.info("Handshake RTT: "+L.R+"ms")),X=L;var ct=m;if(X.qa=S(X,X.J?X.ia:null,X.W),ct.K){ai(X.h,ct);var Yt=ct,An=X.L;An&&(Yt.I=An),Yt.B&&(ha(Yt),Vs(Yt)),X.g=ct}else Io(X);0<L.i.length&&ko(L)}else an[0]!="stop"&&an[0]!="close"||Ei(L,7);else L.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?Ei(L,7):Ya(L):an[0]!="noop"&&L.l&&L.l.ta(an),L.v=0)}}nr(4)}catch{}}var gu=class{constructor(m,T){this.g=m,this.map=T}};function ya(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function za(m){return m.h?1:m.g?m.g.size:0}function vl(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function ur(m,T){m.g?m.g.add(T):m.h=T}function ai(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ya.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Eo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const L of m.g.values())T=T.concat(L.D);return T}return k(m.i)}function vu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var T=[],L=m.length,X=0;X<L;X++)T.push(m[X]);return T}T=[],L=0;for(X in m)T[L++]=m[X];return T}function fs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var T=[];m=m.length;for(var L=0;L<m;L++)T.push(L);return T}T=[],L=0;for(const X in m)T[L++]=X;return T}}}function yl(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var L=fs(m),X=vu(m),Te=X.length,Fe=0;Fe<Te;Fe++)T.call(void 0,X[Fe],L&&L[Fe],m)}var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(m,T){if(m){m=m.split("&");for(var L=0;L<m.length;L++){var X=m[L].indexOf("="),Te=null;if(0<=X){var Fe=m[L].substring(0,X);Te=m[L].substring(X+1)}else Fe=m[L];T(Fe,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function Rn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Rn){this.h=m.h,ps(this,m.j),this.o=m.o,this.g=m.g,ms(this,m.s),this.l=m.l;var T=m.i,L=new xa;L.i=T.i,T.g&&(L.g=new Map(T.g),L.h=T.h),ba(this,L),this.m=m.m}else m&&(T=String(m).match(mi))?(this.h=!1,ps(this,T[1]||"",!0),this.o=Hi(T[2]||""),this.g=Hi(T[3]||"",!0),ms(this,T[4]),this.l=Hi(T[5]||"",!0),ba(this,T[6]||"",!0),this.m=Hi(T[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}Rn.prototype.toString=function(){var m=[],T=this.j;T&&m.push(qa(T,bl,!0),":");var L=this.g;return(L||T=="file")&&(m.push("//"),(T=this.o)&&m.push(qa(T,bl,!0),"@"),m.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&m.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(qa(L,L.charAt(0)=="/"?Ha:xl,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",qa(L,$a)),m.join("")};function gi(m){return new Rn(m)}function ps(m,T,L){m.j=L?Hi(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ms(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function ba(m,T,L){T instanceof xa?(m.i=T,bu(m.i,m.h)):(L||(T=qa(T,No)),m.i=new xa(T,m.h))}function Hn(m,T,L){m.i.set(T,L)}function gs(m){return Hn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Hi(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qa(m,T,L){return typeof m=="string"?(m=encodeURI(m).replace(T,yu),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var bl=/[#\/\?@]/g,xl=/[#\?:]/g,Ha=/[#\?]/g,No=/[#\?@]/g,$a=/#/g;function xa(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function ir(m){m.g||(m.g=new Map,m.h=0,m.i&&To(m.i,function(T,L){m.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}n=xa.prototype,n.add=function(m,T){ir(this),this.i=null,m=_a(this,m);var L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(T),this.h+=1,this};function Ga(m,T){ir(m),T=_a(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function wa(m,T){return ir(m),T=_a(m,T),m.g.has(T)}n.forEach=function(m,T){ir(this),this.g.forEach(function(L,X){L.forEach(function(Te){m.call(T,Te,X,this)},this)},this)},n.na=function(){ir(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),L=[];for(let X=0;X<T.length;X++){const Te=m[X];for(let Fe=0;Fe<Te.length;Fe++)L.push(T[X])}return L},n.V=function(m){ir(this);let T=[];if(typeof m=="string")wa(this,m)&&(T=T.concat(this.g.get(_a(this,m))));else{m=Array.from(this.g.values());for(let L=0;L<m.length;L++)T=T.concat(m[L])}return T},n.set=function(m,T){return ir(this),this.i=null,m=_a(this,m),wa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Wt(m,T,L){Ga(m,T),0<L.length&&(m.i=null,m.g.set(_a(m,T),k(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var L=0;L<T.length;L++){var X=T[L];const Fe=encodeURIComponent(String(X)),ct=this.V(X);for(X=0;X<ct.length;X++){var Te=Fe;ct[X]!==""&&(Te+="="+encodeURIComponent(String(ct[X]))),m.push(Te)}}return this.i=m.join("&")};function _a(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function bu(m,T){T&&!m.j&&(ir(m),m.i=null,m.g.forEach(function(L,X){var Te=X.toLowerCase();X!=Te&&(Ga(this,X),Wt(this,Te,L))},m)),m.j=T}function _i(m,T){const L=new yn;if(c.Image){const X=new Image;X.onload=x(Pi,L,"TestLoadImage: loaded",!0,T,X),X.onerror=x(Pi,L,"TestLoadImage: error",!1,T,X),X.onabort=x(Pi,L,"TestLoadImage: abort",!1,T,X),X.ontimeout=x(Pi,L,"TestLoadImage: timeout",!1,T,X),c.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else T(!1)}function $i(m,T){const L=new yn,X=new AbortController,Te=setTimeout(()=>{X.abort(),Pi(L,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:X.signal}).then(Fe=>{clearTimeout(Te),Fe.ok?Pi(L,"TestPingServer: ok",!0,T):Pi(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Te),Pi(L,"TestPingServer: error",!1,T)})}function Pi(m,T,L,X,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),X(L)}catch{}}function Sa(){this.g=new at}function Gi(m,T,L){const X=L||"";try{yl(m,function(Te,Fe){let ct=Te;d(Te)&&(ct=ye(Te)),T.push(X+Fe+"="+encodeURIComponent(ct))})}catch(Te){throw T.push(X+"type="+encodeURIComponent("_badmap")),Te}}function vs(m){this.l=m.Ub||null,this.j=m.eb||!1}C(vs,Ce),vs.prototype.g=function(){return new Wa(this.l,this.j)},vs.prototype.i=function(m){return function(){return m}}({});function Wa(m,T){Ze.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Wa,Ze),n=Wa.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,Si(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Wi(this):Si(this),this.readyState==3&&wl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},n.Qa=function(m){this.g&&(this.response=m,Wi(this))},n.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Si(m)}n.setRequestHeader=function(m,T){this.u.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=T.next();return m.join(`\r
`)};function Si(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Aa(m){let T="";return ge(m,function(L,X){T+=X,T+=":",T+=L,T+=`\r
`}),T}function Fr(m,T,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=Aa(L),typeof m=="string"?L!=null&&encodeURIComponent(String(L)):Hn(m,T,L))}function Sn(m){Ze.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Sn,Ze);var ys=/^https?$/i,Ea=["POST","PUT"];n=Sn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,T,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Et(this.o):Et(rr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Fe){_l(this,Fe);return}if(m=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Te in X)L.set(Te,X[Te]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Fe of X.keys())L.set(Fe,X.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Te=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ea,T,void 0))||X||Te||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,ct]of L)this.g.setRequestHeader(Fe,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ai(this),this.u=!0,this.g.send(m),this.u=!1}catch(Fe){_l(this,Fe)}};function _l(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Bs(m),fa(m)}function Bs(m){m.A||(m.A=!0,gt(m,"complete"),gt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,gt(this,"complete"),gt(this,"abort"),fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),Sn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},n.bb=function(){Us(this)};function Us(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Vr(m)!=4||m.Z()!=2)){if(m.u&&Vr(m)==4)St(m.Ea,0,m);else if(gt(m,"readystatechange"),Vr(m)==4){m.h=!1;try{const ct=m.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var X;if(X=ct===0){var Te=String(m.D).match(mi)[1]||null;!Te&&c.self&&c.self.location&&(Te=c.self.location.protocol.slice(0,-1)),X=!ys.test(Te?Te.toLowerCase():"")}L=X}if(L)gt(m,"complete"),gt(m,"success");else{m.m=6;try{var Fe=2<Vr(m)?m.g.statusText:""}catch{Fe=""}m.l=Fe+" ["+m.Z()+"]",Bs(m)}}finally{fa(m)}}}}function fa(m,T){if(m.g){Ai(m);const L=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||gt(m,"ready");try{L.onreadystatechange=X}catch{}}}function Ai(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Vr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ge(T)}};function xu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(m){const T={};m=(m.g&&2<=Vr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(M(m[X]))continue;var L=O(m[X]);const Te=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Fe=T[Te]||[];T[Te]=Fe,Fe.push(L)}V(T,function(X){return X.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(m,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||T}function xs(m){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,m),this.cb=vi("retryDelaySeedMs",1e4,m),this.Wa=vi("forwardChannelMaxRetries",2,m),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ya(m&&m.concurrentRequestLimit),this.Da=new Sa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xs.prototype,n.la=8,n.G=1,n.connect=function(m,T,L,X){At(0),this.W=m,this.H=T||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.I=S(this,null,this.W),ko(this)};function Ya(m){if(zs(m),m.G==3){var T=m.U++,L=gi(m.I);if(Hn(L,"SID",m.K),Hn(L,"RID",T),Hn(L,"TYPE","terminate"),ws(m,L),T=new Mn(m,m.j,T),T.L=2,T.v=gs(gi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!L&&c.Image&&(new Image().src=T.v,L=!0),L||(T.g=q(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Vs(T)}Ro(m)}function Co(m){m.g&&(_s(m),m.g.cancel(),m.g=null)}function zs(m){Co(m),m.u&&(c.clearTimeout(m.u),m.u=null),Ka(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function ko(m){if(!Ao(m.h)&&!m.s){m.s=!0;var T=m.Ga;pe||J(),fe||(pe(),fe=!0),Le.add(T,m),m.B=0}}function Sl(m,T){return za(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=gn(w(m.Ga,m,T),Gs(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Te=new Mn(this,this.j,m);let Fe=this.o;if(this.S&&(Fe?(Fe=P(Fe),Q(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Te.H=Fe,Fe=null),this.P)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(T+=X,4096<T){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=Hs(this,Te,T),L=gi(this.I),Hn(L,"RID",m),Hn(L,"CVER",22),this.D&&Hn(L,"X-HTTP-Session-Id",this.D),ws(this,L),Fe&&(this.O?T="headers="+encodeURIComponent(String(Aa(Fe)))+"&"+T:this.m&&Fr(L,this.m,Fe)),ur(this.h,Te),this.Ua&&Hn(L,"TYPE","init"),this.P?(Hn(L,"$req",T),Hn(L,"SID","null"),Te.T=!0,Sr(Te,L,null)):Sr(Te,L,T),this.G=2}}else this.G==3&&(m?qs(this,m):this.i.length==0||Ao(this.h)||qs(this))};function qs(m,T){var L;T?L=T.l:L=m.U++;const X=gi(m.I);Hn(X,"SID",m.K),Hn(X,"RID",L),Hn(X,"AID",m.T),ws(m,X),m.m&&m.o&&Fr(X,m.m,m.o),L=new Mn(m,m.j,L,m.B+1),m.m===null&&(L.H=m.o),T&&(m.i=T.D.concat(m.i)),T=Hs(m,L,1e3),L.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ur(m.h,L),Sr(L,X,T)}function ws(m,T){m.H&&ge(m.H,function(L,X){Hn(T,X,L)}),m.l&&yl({},function(L,X){Hn(T,X,L)})}function Hs(m,T,L){L=Math.min(m.i.length,L);var X=m.l?w(m.l.Na,m.l,m):null;e:{var Te=m.i;let Fe=-1;for(;;){const ct=["count="+L];Fe==-1?0<L?(Fe=Te[0].g,ct.push("ofs="+Fe)):Fe=0:ct.push("ofs="+Fe);let Yt=!0;for(let An=0;An<L;An++){let an=Te[An].g;const $n=Te[An].map;if(an-=Fe,0>an)Fe=Math.max(0,Te[An].g-100),Yt=!1;else try{Gi($n,ct,"req"+an+"_")}catch{X&&X($n)}}if(Yt){X=ct.join("&");break e}}}return m=m.i.splice(0,L),T.D=m,X}function Io(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;pe||J(),fe||(pe(),fe=!0),Le.add(T,m),m.v=0}}function $s(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=gn(w(m.Fa,m),Gs(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=gn(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Co(this),wu(this))};function _s(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function wu(m){m.g=new Mn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=gi(m.qa);Hn(T,"RID","rpc"),Hn(T,"SID",m.K),Hn(T,"AID",m.T),Hn(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&Hn(T,"TO",m.ja),Hn(T,"TYPE","xmlhttp"),ws(m,T),m.m&&m.o&&Fr(T,m.m,m.o),m.L&&(m.g.I=m.L);var L=m.g;m=m.ia,L.L=1,L.v=gs(gi(T)),L.m=null,L.P=!0,lr(L,m)}n.Za=function(){this.C!=null&&(this.C=null,Co(this),$s(this),At(19))};function Ka(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Ss(m,T){var L=null;if(m.g==T){Ka(m),_s(m),m.g=null;var X=2}else if(vl(m.h,T))L=T.D,ai(m.h,T),X=1;else return;if(m.G!=0){if(T.o)if(X==1){L=T.m?T.m.length:0,T=Date.now()-T.F;var Te=m.B;X=hn(),gt(X,new dn(X,L)),ko(m)}else Io(m);else if(Te=T.s,Te==3||Te==0&&0<T.X||!(X==1&&Sl(m,T)||X==2&&$s(m)))switch(L&&0<L.length&&(T=m.h,T.i=T.i.concat(L)),Te){case 1:Ei(m,5);break;case 4:Ei(m,10);break;case 3:Ei(m,6);break;default:Ei(m,2)}}}function Gs(m,T){let L=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(L*=2),L*T}function Ei(m,T){if(m.j.info("Error code "+T),T==2){var L=w(m.fb,m),X=m.Xa;const Te=!X;X=new Rn(X||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ps(X,"https"),gs(X),Te?_i(X.toString(),L):$i(X.toString(),L)}else At(2);m.G=0,m.l&&m.l.sa(T),Ro(m),zs(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Ro(m){if(m.G=0,m.ka=[],m.l){const T=Eo(m.h);(T.length!=0||m.i.length!=0)&&(I(m.ka,T),I(m.ka,m.i),m.h.i.length=0,k(m.i),m.i.length=0),m.l.ra()}}function S(m,T,L){var X=L instanceof Rn?gi(L):new Rn(L);if(X.g!="")T&&(X.g=T+"."+X.g),ms(X,X.s);else{var Te=c.location;X=Te.protocol,T=T?T+"."+Te.hostname:Te.hostname,Te=+Te.port;var Fe=new Rn(null);X&&ps(Fe,X),T&&(Fe.g=T),Te&&ms(Fe,Te),L&&(Fe.l=L),X=Fe}return L=m.D,T=m.ya,L&&T&&Hn(X,L,T),Hn(X,"VER",m.la),ws(m,X),X}function q(m,T,L){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new Sn(new vs({eb:L})):new Sn(m.pa),T.Ha(m.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}n=se.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ve(){}ve.prototype.g=function(m,T){return new Ie(m,T)};function Ie(m,T){Ze.call(this),this.g=new xs(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!M(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new wt(this)}C(Ie,Ze),Ie.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ie.prototype.close=function(){Ya(this.g)},Ie.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.u&&(L={},L.__data__=ye(m),m=L);T.i.push(new gu(T.Ya++,m)),T.G==3&&ko(T)},Ie.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,Ie.aa.N.call(this)};function $e(m){jt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const L in T){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}C($e,jt);function ut(){It.call(this),this.status=1}C(ut,It);function wt(m){this.g=m}C(wt,se),wt.prototype.ua=function(){gt(this.g,"a")},wt.prototype.ta=function(m){gt(this.g,new $e(m))},wt.prototype.sa=function(m){gt(this.g,new ut)},wt.prototype.ra=function(){gt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Ie.prototype.send=Ie.prototype.o,Ie.prototype.open=Ie.prototype.m,Ie.prototype.close=Ie.prototype.close,e3=function(){return new ve},Z4=function(){return hn()},J4=vt,Bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Hm=yr,_r.COMPLETE="complete",Q4=_r,Ee.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,If=Ee,Sn.prototype.listenOnce=Sn.prototype.L,Sn.prototype.getLastError=Sn.prototype.Ka,Sn.prototype.getLastErrorCode=Sn.prototype.Ba,Sn.prototype.getStatus=Sn.prototype.Z,Sn.prototype.getResponseJson=Sn.prototype.Oa,Sn.prototype.getResponseText=Sn.prototype.oa,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Ha,X4=Sn}).apply(typeof Sm<"u"?Sm:typeof self<"u"?self:typeof window<"u"?window:{});const tw="@firebase/firestore",nw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oa.UNAUTHENTICATED=new oa(null),oa.GOOGLE_CREDENTIALS=new oa("google-credentials-uid"),oa.FIRST_PARTY=new oa("first-party-uid"),oa.MOCK_USER=new oa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new $g("@firebase/firestore");function Gh(){return ah.logLevel}function Rt(n,...e){if(ah.logLevel<=kn.DEBUG){const t=e.map(ny);ah.debug(`Firestore (${Ed}): ${n}`,...t)}}function au(n,...e){if(ah.logLevel<=kn.ERROR){const t=e.map(ny);ah.error(`Firestore (${Ed}): ${n}`,...t)}}function hd(n,...e){if(ah.logLevel<=kn.WARN){const t=e.map(ny);ah.warn(`Firestore (${Ed}): ${n}`,...t)}}function ny(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,t3(n,r,t)}function t3(n,e,t){let r=`FIRESTORE (${Ed}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw au(r),new Error(r)}function tr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||t3(e,i,r)}function cn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends wo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oa.UNAUTHENTICATED))}shutdown(){}}class gL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vL{constructor(e){this.t=e,this.currentUser=oa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tr(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let s=new Zl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zl,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zl)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tr(typeof r.accessToken=="string",31837,{l:r}),new n3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string",2055,{h:e}),new oa(e)}}class yL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=oa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(oa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tr(this.o===void 0,3512);const r=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function Uv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return _n(r,i);{const s=r3(),l=_L(s.encode(iw(n,t)),s.encode(iw(e,t)));return l!==0?l:_n(r,i)}}t+=r>65535?2:1}return _n(n.length,e.length)}function iw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _L(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return _n(n[t],e[t]);return _n(n.length,e.length)}function dd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,sw=1e6;class xi{static now(){return xi.fromMillis(Date.now())}static fromDate(e){return xi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sw);return new xi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aw)throw new Ct(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sw}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static fromTimestamp(e){return new on(e)}static min(){return new on(new xi(0,0))}static max(){return new on(new xi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__name__";class nl{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=nl.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return _n(e.length,t.length)}static compareSegments(e,t){const r=nl.isNumericId(e),i=nl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?nl.extractNumericId(e).compare(nl.extractNumericId(t)):Uv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cc.fromString(e.substring(4,e.length-2))}}class xr extends nl{construct(e,t,r){return new xr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xr(t)}static emptyPath(){return new xr([])}}const SL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends nl{construct(e,t,r){return new zi(e,t,r)}static isValidIdentifier(e){return SL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new zi([ow])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ct(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ct(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ct(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Ct(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.path=e}static fromPath(e){return new qt(xr.fromString(e))}static fromName(e){return new qt(xr.fromString(e).popFirst(5))}static empty(){return new qt(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new xr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function AL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=on.fromTimestamp(r===1e9?new xi(t+1,0):new xi(t,r));return new fc(i,qt.empty(),e)}function EL(n){return new fc(n.readTime,n.key,Yf)}class fc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fc(on.min(),qt.empty(),Yf)}static max(){return new fc(on.max(),qt.empty(),Yf)}}function TL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=qt.comparator(n.documentKey,e.documentKey),t!==0?t:_n(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==NL)throw n;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.reject(t)}static resolve(e){return new ot((t,r)=>{t(e)})}static reject(e){return new ot((t,r)=>{r(e)})}static waitFor(e){return new ot((t,r)=>{let i=0,s=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++s,l&&s===i&&t()},h=>r(h))}),l=!0,s===i&&t()})}static or(e){let t=ot.resolve(!1);for(const r of e)t=t.next(i=>i?ot.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ot((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;t(e[d]).next(g=>{l[d]=g,++c,c===s&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ot((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function kL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function Zg(n){return n==null}function mg(n){return n===0&&1/n==-1/0}function IL(n){return typeof n=="number"&&Number.isInteger(n)&&!mg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="";function RL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lw(e)),e=PL(n.get(t),e);return lw(e)}function PL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case a3:t+="";break;default:t+=s}}return t}function lw(n){return n+a3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.comparator=e,this.root=t||Bi.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Am(this.root,e,this.comparator,!1)}getReverseIterator(){return new Am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Am(this.root,e,this.comparator,!0)}}class Am{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Bi.RED,this.left=i??Bi.EMPTY,this.right=s??Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Bi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1;Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Bi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wi(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new ss([])}unionWith(e){let t=new wi(zi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new o3("Invalid base64 string: "+s):s}}(e);return new qi(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const LL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(n){if(tr(!!n,39018),typeof n=="string"){let e=0;const t=LL.exec(n);if(tr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mc(n){return typeof n=="string"?qi.fromBase64String(n):qi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="server_timestamp",u3="__type__",c3="__previous_value__",h3="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[u3])===null||t===void 0?void 0:t.stringValue)===l3}function e0(n){const e=n.mapValue.fields[c3];return iy(e)?e0(e):e}function Kf(n){const e=pc(n.mapValue.fields[h3].timestampValue);return new xi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t,r,i,s,l,c,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const gg="(default)";class Xf{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new Xf("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__type__",DL="__max__",Em={mapValue:{}},f3="__vector__",vg="value";function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:jL(n)?9007199254740991:ML(n)?10:11:tn(28295,{value:n})}function pl(n,e){if(n===e)return!0;const t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kf(n).isEqual(Kf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=pc(i.timestampValue),c=pc(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return mc(i.bytesValue).isEqual(mc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ei(i.geoPointValue.latitude)===ei(s.geoPointValue.latitude)&&ei(i.geoPointValue.longitude)===ei(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ei(i.integerValue)===ei(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=ei(i.doubleValue),c=ei(s.doubleValue);return l===c?mg(l)===mg(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(uw(l)!==uw(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!pl(l[h],c[h])))return!1;return!0}(n,e);default:return tn(52216,{left:n})}}function Qf(n,e){return(n.values||[]).find(t=>pl(t,e))!==void 0}function fd(n,e){if(n===e)return 0;const t=gc(n),r=gc(e);if(t!==r)return _n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return function(s,l){const c=ei(s.integerValue||s.doubleValue),h=ei(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return hw(n.timestampValue,e.timestampValue);case 4:return hw(Kf(n),Kf(e));case 5:return Uv(n.stringValue,e.stringValue);case 6:return function(s,l){const c=mc(s),h=mc(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=_n(c[d],h[d]);if(g!==0)return g}return _n(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const c=_n(ei(s.latitude),ei(l.latitude));return c!==0?c:_n(ei(s.longitude),ei(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dw(n.arrayValue,e.arrayValue);case 10:return function(s,l){var c,h,d,g;const b=s.fields||{},w=l.fields||{},x=(c=b[vg])===null||c===void 0?void 0:c.arrayValue,C=(h=w[vg])===null||h===void 0?void 0:h.arrayValue,k=_n(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:dw(x,C)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Em.mapValue&&l===Em.mapValue)return 0;if(s===Em.mapValue)return 1;if(l===Em.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const w=Uv(h[b],g[b]);if(w!==0)return w;const x=fd(c[h[b]],d[g[b]]);if(x!==0)return x}return _n(h.length,g.length)}(n.mapValue,e.mapValue);default:throw tn(23264,{Pe:t})}}function hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _n(n,e);const t=pc(n),r=pc(e),i=_n(t.seconds,r.seconds);return i!==0?i:_n(t.nanos,r.nanos)}function dw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=fd(t[i],r[i]);if(s)return s}return _n(t.length,r.length)}function pd(n){return zv(n)}function zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=pc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return qt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=zv(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${zv(t.fields[l])}`;return i+"}"}(n.mapValue):tn(61005,{value:n})}function $m(n){switch(gc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=e0(n);return e?16+$m(e):16;case 5:return 2*n.stringValue.length;case 6:return mc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+$m(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Sc(r.fields,(s,l)=>{i+=s.length+$m(l)}),i}(n.mapValue);default:throw tn(13486,{value:n})}}function fw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function mw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gm(n){return!!n&&"mapValue"in n}function ML(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[d3])===null||t===void 0?void 0:t.stringValue)===f3}function Ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ff(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ff(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.value=e}static empty(){return new Da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ff(t)}setAll(e){let t=zi.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Ff(l):i.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Da(Ff(this.value))}}function p3(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new zi([t]);if(Gm(r)){const s=p3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r,i,s,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new la(e,0,on.min(),on.min(),on.min(),Da.empty(),0)}static newFoundDocument(e,t,r,i){return new la(e,1,t,on.min(),r,i,0)}static newNoDocument(e,t){return new la(e,2,t,on.min(),on.min(),Da.empty(),0)}static newUnknownDocument(e,t){return new la(e,3,t,on.min(),on.min(),Da.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(on.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof la&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new la(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.position=e,this.inclusive=t}}function gw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=qt.comparator(qt.fromName(l.referenceValue),t.key):r=fd(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function FL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{}class di extends m3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BL(e,t,r):t==="array-contains"?new qL(e,r):t==="in"?new HL(e,r):t==="not-in"?new $L(e,r):t==="array-contains-any"?new GL(e,r):new di(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new UL(e,r):new zL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fd(t,this.value)):t!==null&&gc(this.value)===gc(t)&&this.matchesComparison(fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends m3{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new yo(e,t)}matches(e){return g3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function g3(n){return n.op==="and"}function v3(n){return VL(n)&&g3(n)}function VL(n){for(const e of n.filters)if(e instanceof yo)return!1;return!0}function Hv(n){if(n instanceof di)return n.field.canonicalString()+n.op.toString()+pd(n.value);if(v3(n))return n.filters.map(e=>Hv(e)).join(",");{const e=n.filters.map(t=>Hv(t)).join(",");return`${n.op}(${e})`}}function y3(n,e){return n instanceof di?function(r,i){return i instanceof di&&r.op===i.op&&r.field.isEqual(i.field)&&pl(r.value,i.value)}(n,e):n instanceof yo?function(r,i){return i instanceof yo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,c)=>s&&y3(l,i.filters[c]),!0):!1}(n,e):void tn(19439)}function b3(n){return n instanceof di?function(t){return`${t.field.canonicalString()} ${t.op} ${pd(t.value)}`}(n):n instanceof yo?function(t){return t.op.toString()+" {"+t.getFilters().map(b3).join(" ,")+"}"}(n):"Filter"}class BL extends di{constructor(e,t,r){super(e,t,r),this.key=qt.fromName(r.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class UL extends di{constructor(e,t){super(e,"in",t),this.keys=x3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zL extends di{constructor(e,t){super(e,"not-in",t),this.keys=x3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function x3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>qt.fromName(r.referenceValue))}class qL extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&Qf(t.arrayValue,this.value)}}class HL extends di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qf(this.value.arrayValue,t)}}class $L extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qf(this.value.arrayValue,t)}}class GL extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Ie=null}}function yw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new WL(n,e,t,r,i,s,l)}function sy(n){const e=cn(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pd(r)).join(",")),e.Ie=t}return e.Ie}function oy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!y3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vw(n.startAt,e.startAt)&&vw(n.endAt,e.endAt)}function $v(n){return qt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YL(n,e,t,r,i,s,l,c){return new Cd(n,e,t,r,i,s,l,c)}function t0(n){return new Cd(n)}function bw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w3(n){return n.collectionGroup!==null}function Vf(n){const e=cn(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wi(zi.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Jf(s,r))}),t.has(zi.keyField().canonicalString())||e.Ee.push(new Jf(zi.keyField(),r))}return e.Ee}function ll(n){const e=cn(n);return e.de||(e.de=KL(e,Vf(n))),e.de}function KL(n,e){if(n.limitType==="F")return yw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jf(i.field,s)});const t=n.endAt?new yg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yg(n.startAt.position,n.startAt.inclusive):null;return yw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gv(n,e){const t=n.filters.concat([e]);return new Cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wv(n,e,t){return new Cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n0(n,e){return oy(ll(n),ll(e))&&n.limitType===e.limitType}function _3(n){return`${sy(ll(n))}|lt:${n.limitType}`}function Wh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>b3(i)).join(", ")}]`),Zg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>pd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>pd(i)).join(",")),`Target(${r})`}(ll(n))}; limitType=${n.limitType})`}function r0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Vf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const d=gw(l,c,h);return l.inclusive?d<=0:d<0}(r.startAt,Vf(r),i)||r.endAt&&!function(l,c,h){const d=gw(l,c,h);return l.inclusive?d>=0:d>0}(r.endAt,Vf(r),i))}(n,e)}function XL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S3(n){return(e,t)=>{let r=!1;for(const i of Vf(n)){const s=QL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QL(n,e,t){const r=n.field.isKeyField()?qt.comparator(e.key,t.key):function(s,l,c){const h=l.data.field(s),d=c.data.field(s);return h!==null&&d!==null?fd(h,d):tn(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return s3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new jr(qt.comparator);function su(){return JL}const A3=new jr(qt.comparator);function Rf(...n){let e=A3;for(const t of n)e=e.insert(t.key,t);return e}function E3(n){let e=A3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function eh(){return Bf()}function T3(){return Bf()}function Bf(){return new ch(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZL=new jr(qt.comparator),e8=new wi(qt.comparator);function In(...n){let e=e8;for(const t of n)e=e.add(t);return e}const t8=new wi(_n);function n8(){return t8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function N3(n){return{integerValue:""+n}}function r8(n,e){return IL(e)?N3(e):ly(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this._=void 0}}function i8(n,e,t){return n instanceof Zf?function(i,s){const l={fields:{[u3]:{stringValue:l3},[h3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iy(s)&&(s=e0(s)),s&&(l.fields[c3]=s),{mapValue:l}}(t,e):n instanceof ep?k3(n,e):n instanceof tp?I3(n,e):function(i,s){const l=C3(i,s),c=xw(l)+xw(i.Re);return qv(l)&&qv(i.Re)?N3(c):ly(i.serializer,c)}(n,e)}function a8(n,e,t){return n instanceof ep?k3(n,e):n instanceof tp?I3(n,e):t}function C3(n,e){return n instanceof bg?function(r){return qv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zf extends i0{}class ep extends i0{constructor(e){super(),this.elements=e}}function k3(n,e){const t=R3(e);for(const r of n.elements)t.some(i=>pl(i,r))||t.push(r);return{arrayValue:{values:t}}}class tp extends i0{constructor(e){super(),this.elements=e}}function I3(n,e){let t=R3(e);for(const r of n.elements)t=t.filter(i=>!pl(i,r));return{arrayValue:{values:t}}}class bg extends i0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function xw(n){return ei(n.integerValue||n.doubleValue)}function R3(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,t){this.field=e,this.transform=t}}function o8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ep&&i instanceof ep||r instanceof tp&&i instanceof tp?dd(r.elements,i.elements,pl):r instanceof bg&&i instanceof bg?pl(r.Re,i.Re):r instanceof Zf&&i instanceof Zf}(n.transform,e.transform)}class l8{constructor(e,t){this.version=e,this.transformResults=t}}class ja{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ja}static exists(e){return new ja(void 0,e)}static updateTime(e){return new ja(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class a0{}function P3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new s0(n.key,ja.none()):new pp(n.key,n.data,ja.none());{const t=n.data,r=Da.empty();let i=new wi(zi.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ac(n.key,r,new ss(i.toArray()),ja.none())}}function u8(n,e,t){n instanceof pp?function(i,s,l){const c=i.value.clone(),h=_w(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ac?function(i,s,l){if(!Wm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=_w(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(L3(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Uf(n,e,t,r){return n instanceof pp?function(s,l,c,h){if(!Wm(s.precondition,l))return c;const d=s.value.clone(),g=Sw(s.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ac?function(s,l,c,h){if(!Wm(s.precondition,l))return c;const d=Sw(s.fieldTransforms,h,l),g=l.data;return g.setAll(L3(s)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(s,l,c){return Wm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function c8(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=C3(r.transform,i||null);s!=null&&(t===null&&(t=Da.empty()),t.set(r.field,s))}return t||null}function ww(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dd(r,i,(s,l)=>o8(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pp extends a0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends a0{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _w(n,e,t){const r=new Map;tr(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,a8(l,c,t[i]))}return r}function Sw(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,i8(s,l,e))}return r}class s0 extends a0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h8 extends a0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u8(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=T3();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=t.has(i.key)?null:c;const h=P3(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(on.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,r)=>ww(t,r))&&dd(this.baseMutations,e.baseMutations,(t,r)=>ww(t,r))}}class uy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tr(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return ZL}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new uy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,Un;function m8(n){switch(n){case it.OK:return tn(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return tn(15467,{code:n})}}function O3(n){if(n===void 0)return au("GRPC error has no .code"),it.UNKNOWN;switch(n){case ci.OK:return it.OK;case ci.CANCELLED:return it.CANCELLED;case ci.UNKNOWN:return it.UNKNOWN;case ci.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case ci.INTERNAL:return it.INTERNAL;case ci.UNAVAILABLE:return it.UNAVAILABLE;case ci.UNAUTHENTICATED:return it.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case ci.NOT_FOUND:return it.NOT_FOUND;case ci.ALREADY_EXISTS:return it.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return it.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case ci.ABORTED:return it.ABORTED;case ci.OUT_OF_RANGE:return it.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return it.UNIMPLEMENTED;case ci.DATA_LOSS:return it.DATA_LOSS;default:return tn(39323,{code:n})}}(Un=ci||(ci={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new cc([4294967295,4294967295],0);function Aw(n){const e=r3().encode(n),t=new K4;return t.update(e),new Uint8Array(t.digest())}function Ew(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cc([t,r],0),new cc([i,s],0)]}class cy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pf(`Invalid padding: ${t}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=cc.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(cc.fromNumber(r)));return i.compare(g8)===1&&(i=new cc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Aw(e),[r,i]=Ew(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);if(!this.Se(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new cy(s,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=Aw(e),[r,i]=Ew(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new o0(on.min(),i,new jr(_n),su(),In())}}class mp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mp(r,t,In(),In(),In())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class D3{constructor(e,t){this.targetId=e,this.Ce=t}}class M3{constructor(e,t,r=qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Tw{constructor(){this.Fe=0,this.Me=Nw(),this.xe=qi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=In(),t=In(),r=In();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tn(38017,{changeType:s})}}),new mp(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Nw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class v8{constructor(e){this.ze=e,this.je=new Map,this.He=su(),this.Je=Tm(),this.Ye=Tm(),this.Ze=new jr(_n)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:tn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if($v(s))if(r===0){const l=new qt(s.path);this.tt(t,l,la.newNoDocument(l,on.min()))}else tr(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,c;try{l=mc(r).toUint8Array()}catch(h){if(h instanceof o3)return hd("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new cy(l,i,s)}catch(h){return hd(h instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,l)=>{const c=this._t(l);if(c){if(s.current&&$v(c.target)){const h=new qt(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,la.newNoDocument(h,e))}s.Le&&(t.set(l,s.qe()),s.Qe())}});let r=In();this.Ye.forEach((s,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.He.forEach((s,l)=>l.setReadTime(e));const i=new o0(e,t,this.Ze,this.He,r);return this.He=su(),this.Je=Tm(),this.Ye=Tm(),this.Ze=new jr(_n),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Tw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wi(_n),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wi(_n),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Rt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Tw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Tm(){return new jr(qt.comparator)}function Nw(){return new jr(qt.comparator)}const y8={asc:"ASCENDING",desc:"DESCENDING"},b8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x8={and:"AND",or:"OR"};class w8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yv(n,e){return n.useProto3Json||Zg(e)?e:{value:e}}function xg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _8(n,e){return xg(n,e.toTimestamp())}function ul(n){return tr(!!n,49232),on.fromTimestamp(function(t){const r=pc(t);return new xi(r.seconds,r.nanos)}(n))}function hy(n,e){return Kv(n,e).canonicalString()}function Kv(n,e){const t=function(i){return new xr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function F3(n){const e=xr.fromString(n);return tr(q3(e),10190,{key:e.toString()}),e}function Xv(n,e){return hy(n.databaseId,e.path)}function ev(n,e){const t=F3(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qt(B3(t))}function V3(n,e){return hy(n.databaseId,e)}function S8(n){const e=F3(n);return e.length===4?xr.emptyPath():B3(e)}function Qv(n){return new xr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B3(n){return tr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Cw(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function A8(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:tn(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(tr(g===void 0||typeof g=="string",58123),qi.fromBase64String(g||"")):(tr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qi.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const g=d.code===void 0?it.UNKNOWN:O3(d.code);return new Ct(g,d.message||"")}(l);t=new M3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ev(n,r.document.name),s=ul(r.document.updateTime),l=r.document.createTime?ul(r.document.createTime):on.min(),c=new Da({mapValue:{fields:r.document.fields}}),h=la.newFoundDocument(i,s,l,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Ym(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ev(n,r.document),s=r.readTime?ul(r.readTime):on.min(),l=la.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Ym([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ev(n,r.document),s=r.removedTargetIds||[];t=new Ym([],s,i,null)}else{if(!("filter"in e))return tn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new p8(i,s),c=r.targetId;t=new D3(c,l)}}return t}function E8(n,e){let t;if(e instanceof pp)t={update:Cw(n,e.key,e.value)};else if(e instanceof s0)t={delete:Xv(n,e.key)};else if(e instanceof Ac)t={update:Cw(n,e.key,e.data),updateMask:O8(e.fieldMask)};else{if(!(e instanceof h8))return tn(16599,{ft:e.type});t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const c=l.transform;if(c instanceof Zf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ep)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof tp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bg)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw tn(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tn(27497)}(n,e.precondition)),t}function T8(n,e){return n&&n.length>0?(tr(e!==void 0,14353),n.map(t=>function(i,s){let l=i.updateTime?ul(i.updateTime):ul(s);return l.isEqual(on.min())&&(l=ul(s)),new l8(l,i.transformResults||[])}(t,e))):[]}function N8(n,e){return{documents:[V3(n,e.path)]}}function C8(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=V3(n,i);const s=function(d){if(d.length!==0)return z3(yo.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(d){if(d.length!==0)return d.map(g=>function(w){return{field:Yh(w.field),direction:R8(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Yv(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function k8(n){let e=S8(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){tr(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(b){const w=U3(b);return w instanceof yo&&v3(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(b){return b.map(w=>function(C){return new Jf(Kh(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(b){let w;return w=typeof b=="object"?b.value:b,Zg(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(b){const w=!!b.before,x=b.values||[];return new yg(x,w)}(t.startAt));let d=null;return t.endAt&&(d=function(b){const w=!b.before,x=b.values||[];return new yg(x,w)}(t.endAt)),YL(e,i,l,s,c,"F",h,d)}function I8(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Kh(t.unaryFilter.field);return di.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kh(t.unaryFilter.field);return di.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kh(t.unaryFilter.field);return di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Kh(t.unaryFilter.field);return di.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}}(n):n.fieldFilter!==void 0?function(t){return di.create(Kh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yo.create(t.compositeFilter.filters.map(r=>U3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tn(1026)}}(t.compositeFilter.op))}(n):tn(30097,{filter:n})}function R8(n){return y8[n]}function P8(n){return b8[n]}function L8(n){return x8[n]}function Yh(n){return{fieldPath:n.canonicalString()}}function Kh(n){return zi.fromServerFormat(n.fieldPath)}function z3(n){return n instanceof di?function(t){if(t.op==="=="){if(mw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(t.field),op:P8(t.op),value:t.value}}}(n):n instanceof yo?function(t){const r=t.getFilters().map(i=>z3(i));return r.length===1?r[0]:{compositeFilter:{op:L8(t.op),filters:r}}}(n):tn(54877,{filter:n})}function O8(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,r,i,s=on.min(),l=on.min(),c=qi.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.wt=e}}function M8(n){const e=k8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.Cn=new F8}addToCollectionParentIndex(e,t){return this.Cn.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(fc.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(fc.min())}updateCollectionGroup(e,t,r){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class F8{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wi(xr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wi(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H3=41943040;class Oa{static withCacheSize(e){return new Oa(e,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa.DEFAULT_COLLECTION_PERCENTILE=10,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oa.DEFAULT=new Oa(H3,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oa.DISABLED=new Oa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new md(0)}static lr(){return new md(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",V8=1048576;function Rw([n,e],[t,r]){const i=_n(n,t);return i===0?_n(e,r):i}class B8{constructor(e){this.Er=e,this.buffer=new wi(Rw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Rt(Iw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nd(t)?Rt(Iw,"Ignoring IndexedDB error during garbage collection: ",t):await Td(t)}await this.mr(3e5)})}}class z8{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ot.resolve(Jg.le);const r=new B8(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(kw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,l,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,l=Date.now(),this.nthSequenceNumber(e,i))).next(b=>(r=b,c=Date.now(),this.removeTargets(e,r,t))).next(b=>(s=b,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(d=Date.now(),Gh()<=kn.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${b} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:b})))}}function q8(n,e){return new z8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.changes=new ch(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,la.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ot.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uf(r.mutation,i,ss.empty(),xi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,In()).next(()=>r))}getLocalViewOfDocuments(e,t,r=In()){const i=eh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Rf();return s.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=eh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,In()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let s=su();const l=Bf(),c=function(){return Bf()}();return t.forEach((h,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Ac)?s=s.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),Uf(g.mutation,d,g.mutation.getFieldMask(),xi.now())):l.set(d.key,ss.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var b;return c.set(d,new $8(g,(b=l.get(d))!==null&&b!==void 0?b:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Bf();let i=new jr((l,c)=>l-c),s=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=r.get(h)||ss.empty();g=c.applyToLocalView(d,g),r.set(h,g);const b=(i.get(c.batchId)||In()).add(h);i=i.insert(c.batchId,b)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,b=T3();g.forEach(w=>{if(!s.has(w)){const x=P3(t.get(w),r.get(w));x!==null&&b.set(w,x),s=s.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,b))}return ot.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return qt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ot.resolve(eh());let c=Yf,h=s;return l.next(d=>ot.forEach(d,(g,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),s.get(g)?ot.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,In())).next(g=>({batchId:c,changes:E3(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(r=>{let i=Rf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Rf();return this.indexManager.getCollectionParents(e,s).next(c=>ot.forEach(c,h=>{const d=function(b,w){return new Cd(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((b,w)=>{l=l.insert(b,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,la.newInvalidDocument(g)))});let c=Rf();return l.forEach((h,d)=>{const g=s.get(h);g!==void 0&&Uf(g.mutation,d,ss.empty(),xi.now()),r0(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ot.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ul(i.createTime)}}(t)),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:M8(i.bundledQuery),readTime:ul(i.readTime)}}(t)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.overlays=new jr(qt.comparator),this.Qr=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eh();return ot.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.bt(e,t,s)}),ot.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),ot.resolve()}getOverlaysForCollection(e,t,r){const i=eh(),s=t.length+1,l=new qt(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ot.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new jr((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=eh(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=eh(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=i)););return ot.resolve(c)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new f8(t,r));let s=this.Qr.get(t);s===void 0&&(s=In(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.$r=new wi(Ii.Ur),this.Kr=new wi(Ii.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Ii(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ii(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new qt(new xr([])),r=new Ii(t,e),i=new Ii(t,e+1),s=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),s.push(l.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new qt(new xr([])),r=new Ii(t,e),i=new Ii(t,e+1);let s=In();return this.Kr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Ii(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ii{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return qt.comparator(e.key,t.key)||_n(e.Zr,t.Zr)}static Wr(e,t){return _n(e.Zr,t.Zr)||qt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new wi(Ii.Ur)}checkEmpty(e){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new d8(s,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new Ii(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(e,t){return ot.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return ot.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?ry:this.nr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);s.push(c)}),ot.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wi(_n);return t.forEach(i=>{const s=new Ii(i,0),l=new Ii(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,l],c=>{r=r.add(c.Zr)})}),ot.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;qt.isDocumentKey(s)||(s=s.child(""));const l=new Ii(new qt(s),0);let c=new wi(_n);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Zr)),!0)},l),ot.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tr(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ot.forEach(t.mutations,i=>{const s=new Ii(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Ii(t,0),i=this.Xr.firstAfterOrEqual(r);return ot.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ot.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.ii=e,this.docs=function(){return new jr(qt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ot.resolve(r?r.document.mutableCopy():la.newInvalidDocument(t))}getEntries(e,t){let r=su();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():la.newInvalidDocument(i))}),ot.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=su();const l=t.path,c=new qt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||TL(EL(g),r)<=0||(i.has(g.key)||r0(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return ot.resolve(s)}getAllFromCollectionGroup(e,t,r,i){tn(9500)}si(e,t){return ot.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J8(this)}getSize(e){return ot.resolve(this.size)}}class J8 extends H8{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ot.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.persistence=e,this.oi=new ch(t=>sy(t),oy),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this._i=0,this.ai=new dy,this.targetCount=0,this.ui=md.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ot.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new md(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.Tr(t),ot.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ot.waitFor(s).next(()=>i)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ot.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ot.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),ot.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ot.resolve(r)}containsKey(e,t){return ot.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.ci={},this.overlays={},this.li=new Jg(0),this.hi=!1,this.hi=!0,this.Pi=new K8,this.referenceDelegate=e(this),this.Ti=new Z8(this),this.indexManager=new j8,this.remoteDocumentCache=function(i){return new Q8(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new D8(t),this.Ei=new W8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new X8(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Rt("MemoryPersistence","Starting transaction:",e);const i=new e7(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return ot.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class e7 extends CL{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Vi=new dy,this.mi=null}static fi(e){return new fy(e)}get gi(){if(this.mi)return this.mi;throw tn(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ot.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.gi,r=>{const i=qt.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,on.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ot.or([()=>ot.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.yi=new ch(r=>RL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=q8(this,t)}static fi(e,t){return new wg(e,t)}di(){}Ai(e){return ot.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ot.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?ot.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,s.removeEntry(l,on.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ot.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ot.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ot.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ot.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$m(e.data.value)),t}Dr(e,t,r){return ot.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ot.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=In(),i=In();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new py(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return h6()?8:kL(ca())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new t7;return this.bs(e,t,l).next(c=>{if(s.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Gh()<=kn.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ot.resolve()):(Gh()<=kn.DEBUG&&Rt("QueryEngine","Query:",Wh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Gh()<=kn.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ll(t))):ot.resolve())}ws(e,t){if(bw(t))return ot.resolve(null);let r=ll(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Wv(t,null,"F"),r=ll(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=In(...s);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.vs(t,c);return this.Cs(t,d,l,h.readTime)?this.ws(e,Wv(t,null,"F")):this.Fs(e,d,t,h)}))})))}Ss(e,t,r,i){return bw(t)||i.isEqual(on.min())?ot.resolve(null):this.ys.getDocuments(e,r).next(s=>{const l=this.vs(t,s);return this.Cs(t,l,r,i)?ot.resolve(null):(Gh()<=kn.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wh(t)),this.Fs(e,l,t,AL(i,Yf)).next(c=>c))})}vs(e,t){let r=new wi(S3(e));return t.forEach((i,s)=>{r0(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,t,r){return Gh()<=kn.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.ys.getDocumentsMatchingQuery(e,t,fc.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",r7=3e8;class i7{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new jr(_n),this.Os=new ch(s=>sy(s),oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G8(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function a7(n,e,t,r){return new i7(n,e,t,r)}async function G3(n,e){const t=cn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],c=[];let h=In();for(const d of i){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of s){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function s7(n,e){const t=cn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,g){const b=d.batch,w=b.keys();let x=ot.resolve();return w.forEach(C=>{x=x.next(()=>g.getEntry(h,C)).next(k=>{const I=d.docVersions.get(C);tr(I!==null,48541),k.version.compareTo(I)<0&&(b.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),g.addEntry(k)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=In();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function W3(n){const e=cn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function o7(n,e){const t=cn(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((g,b)=>{const w=i.get(b);if(!w)return;c.push(t.Ti.removeMatchingKeys(s,g.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(s,g.addedDocuments,b)));let x=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(qi.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),i=i.insert(b,x),function(k,I,N){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=r7?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,x,g)&&c.push(t.Ti.updateTargetData(s,x))});let h=su(),d=In();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(l7(s,l,e.documentUpdates).next(g=>{h=g.qs,d=g.Qs})),!r.isEqual(on.min())){const g=t.Ti.getLastRemoteSnapshotVersion(s).next(b=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return ot.waitFor(c).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(t.xs=i,s))}function l7(n,e,t){let r=In(),i=In();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=su();return t.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(on.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Rt(my,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function u7(n,e){const t=cn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ry),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c7(n,e){const t=cn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,ot.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new ic(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Jv(n,e,t){const r=cn(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Nd(l))throw l;Rt(my,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Pw(n,e,t){const r=cn(n);let i=on.min(),s=In();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const b=cn(h),w=b.Os.get(g);return w!==void 0?ot.resolve(b.xs.get(w)):b.Ti.getTargetData(d,g)}(r,l,ll(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{s=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:on.min(),t?s:In())).next(c=>(h7(r,XL(e),c),{documents:c,$s:s})))}function h7(n,e,t){let r=n.Ns.get(e)||on.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class Lw{constructor(){this.activeTargetIds=n8()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d7{constructor(){this.xo=new Lw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Lw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="ConnectivityMonitor";class Dw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Rt(Ow,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Rt(Ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm=null;function Zv(){return Nm===null?Nm=function(){return 268435456+Math.round(2147483648*Math.random())}():Nm++,"0x"+Nm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RestConnection",p7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m7{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const l=Zv(),c=this.jo(e,t.toUriEncodedString());Rt(tv,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,s);const{host:d}=new URL(c),g=up(d);return this.Jo(e,c,h,r,g).then(b=>(Rt(tv,`Received RPC '${e}' ${l}: `,b),b),b=>{throw hd(tv,`RPC '${e}' ${l} failed with error: `,b,"url: ",c,"request:",r),b})}Yo(e,t,r,i,s,l){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ed}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=p7[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="WebChannelConnection";class v7 extends m7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const l=Zv();return new Promise((c,h)=>{const d=new X4;d.setWithCredentials(!0),d.listenOnce(Q4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hm.NO_ERROR:const b=d.getResponseJson();Rt(ta,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),c(b);break;case Hm.TIMEOUT:Rt(ta,`RPC '${e}' ${l} timed out`),h(new Ct(it.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:const w=d.getStatus();if(Rt(ta,`RPC '${e}' ${l} failed with status:`,w,"response text:",d.getResponseText()),w>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const k=function(N){const M=N.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(M)>=0?M:it.UNKNOWN}(C.status);h(new Ct(k,C.message))}else h(new Ct(it.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ct(it.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rt(ta,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);Rt(ta,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",g,r,15)})}T_(e,t,r){const i=Zv(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=e3(),c=Z4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=s.join("");Rt(ta,`Creating RPC '${e}' stream ${i}: ${g}`,h);const b=l.createWebChannel(g,h);let w=!1,x=!1;const C=new g7({Zo:I=>{x?Rt(ta,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(w||(Rt(ta,`Opening RPC '${e}' stream ${i} transport.`),b.open(),w=!0),Rt(ta,`RPC '${e}' stream ${i} sending:`,I),b.send(I))},Xo:()=>b.close()}),k=(I,N,M)=>{I.listen(N,H=>{try{M(H)}catch(re){setTimeout(()=>{throw re},0)}})};return k(b,If.EventType.OPEN,()=>{x||(Rt(ta,`RPC '${e}' stream ${i} transport opened.`),C.__())}),k(b,If.EventType.CLOSE,()=>{x||(x=!0,Rt(ta,`RPC '${e}' stream ${i} transport closed`),C.u_())}),k(b,If.EventType.ERROR,I=>{x||(x=!0,hd(ta,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),C.u_(new Ct(it.UNAVAILABLE,"The operation could not be completed")))}),k(b,If.EventType.MESSAGE,I=>{var N;if(!x){const M=I.data[0];tr(!!M,16349);const H=M,re=(H==null?void 0:H.error)||((N=H[0])===null||N===void 0?void 0:N.error);if(re){Rt(ta,`RPC '${e}' stream ${i} received error:`,re);const K=re.status;let ge=function(U){const Q=ci[U];if(Q!==void 0)return O3(Q)}(K),V=re.message;ge===void 0&&(ge=it.INTERNAL,V="Unknown error status: "+K+" with message "+re.message),x=!0,C.u_(new Ct(ge,V)),b.close()}else Rt(ta,`RPC '${e}' stream ${i} received:`,M),C.c_(M)}}),k(c,J4.STAT_EVENT,I=>{I.stat===Bv.PROXY?Rt(ta,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Bv.NOPROXY&&Rt(ta,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){return new w8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class K3{constructor(e,t,r,i,s,l,c,h){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Y3(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(au(t.toString()),au("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Ct(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Rt(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Rt(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y7 extends K3{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=A8(this.serializer,e),r=function(s){if(!("targetChange"in s))return on.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?on.min():l.readTime?ul(l.readTime):on.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Qv(this.serializer),t.addTarget=function(s,l){let c;const h=l.target;if(c=$v(h)?{documents:N8(s,h)}:{query:C8(s,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=j3(s,l.resumeToken);const d=Yv(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(on.min())>0){c.readTime=xg(s,l.snapshotVersion.toTimestamp());const d=Yv(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=I8(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Qv(this.serializer),t.removeTarget=e,this.L_(t)}}class b7 extends K3{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return tr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){tr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=T8(e.writeResults,e.commitTime),r=ul(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Qv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>E8(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{}class w7 extends x7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ct(it.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.zo(e,Kv(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ct(it.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Kv(t,r),i,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(it.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class _7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(au(t),this.oa=!1):Rt("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="RemoteStore";class S7{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(l=>{r.enqueueAndForget(async()=>{hh(this)&&(Rt(sh,"Restarting streams for network reachability change."),await async function(h){const d=cn(h);d.Ta.add(4),await gp(d),d.da.set("Unknown"),d.Ta.delete(4),await u0(d)}(this))})}),this.da=new _7(r,i)}}async function u0(n){if(hh(n))for(const e of n.Ia)await e(!0)}async function gp(n){for(const e of n.Ia)await e(!1)}function X3(n,e){const t=cn(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),by(t)?yy(t):kd(t).M_()&&vy(t,e))}function gy(n,e){const t=cn(n),r=kd(t);t.Pa.delete(e),r.M_()&&Q3(t,e),t.Pa.size===0&&(r.M_()?r.N_():hh(t)&&t.da.set("Unknown"))}function vy(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(on.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kd(n).H_(e)}function Q3(n,e){n.Aa.Ke(e),kd(n).J_(e)}function yy(n){n.Aa=new v8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),kd(n).start(),n.da._a()}function by(n){return hh(n)&&!kd(n).F_()&&n.Pa.size>0}function hh(n){return cn(n).Ta.size===0}function J3(n){n.Aa=void 0}async function A7(n){n.da.set("Online")}async function E7(n){n.Pa.forEach((e,t)=>{vy(n,e)})}async function T7(n,e){J3(n),by(n)?(n.da.ca(e),yy(n)):n.da.set("Unknown")}async function N7(n,e,t){if(n.da.set("Online"),e instanceof M3&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Pa.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Pa.delete(c),i.Aa.removeTarget(c))}(n,e)}catch(r){Rt(sh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _g(n,r)}else if(e instanceof Ym?n.Aa.Xe(e):e instanceof D3?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(on.min()))try{const r=await W3(n.localStore);t.compareTo(r)>=0&&await function(s,l){const c=s.Aa.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=s.Pa.get(d);g&&s.Pa.set(d,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const g=s.Pa.get(h);if(!g)return;s.Pa.set(h,g.withResumeToken(qi.EMPTY_BYTE_STRING,g.snapshotVersion)),Q3(s,h);const b=new ic(g.target,h,d,g.sequenceNumber);vy(s,b)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){Rt(sh,"Failed to raise snapshot:",r),await _g(n,r)}}async function _g(n,e,t){if(!Nd(e))throw e;n.Ta.add(1),await gp(n),n.da.set("Offline"),t||(t=()=>W3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Rt(sh,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await u0(n)})}function Z3(n,e){return e().catch(t=>_g(n,t,e))}async function c0(n){const e=cn(n),t=vc(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ry;for(;C7(e);)try{const i=await u7(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,k7(e,i)}catch(i){await _g(e,i)}eA(e)&&tA(e)}function C7(n){return hh(n)&&n.ha.length<10}function k7(n,e){n.ha.push(e);const t=vc(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function eA(n){return hh(n)&&!vc(n).F_()&&n.ha.length>0}function tA(n){vc(n).start()}async function I7(n){vc(n).ta()}async function R7(n){const e=vc(n);for(const t of n.ha)e.Z_(t.mutations)}async function P7(n,e,t){const r=n.ha.shift(),i=uy.from(r,e,t);await Z3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await c0(n)}async function L7(n,e){e&&vc(n).Y_&&await async function(r,i){if(function(l){return m8(l)&&l!==it.ABORTED}(i.code)){const s=r.ha.shift();vc(r).O_(),await Z3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await c0(r)}}(n,e),eA(n)&&tA(n)}async function jw(n,e){const t=cn(n);t.asyncQueue.verifyOperationInProgress(),Rt(sh,"RemoteStore received new credentials");const r=hh(t);t.Ta.add(3),await gp(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await u0(t)}async function O7(n,e){const t=cn(n);e?(t.Ta.delete(2),await u0(t)):e||(t.Ta.add(2),await gp(t),t.da.set("Unknown"))}function kd(n){return n.Ra||(n.Ra=function(t,r,i){const s=cn(t);return s.ra(),new y7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:A7.bind(null,n),n_:E7.bind(null,n),i_:T7.bind(null,n),j_:N7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),by(n)?yy(n):n.da.set("Unknown")):(await n.Ra.stop(),J3(n))})),n.Ra}function vc(n){return n.Va||(n.Va=function(t,r,i){const s=cn(t);return s.ra(),new b7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:I7.bind(null,n),i_:L7.bind(null,n),X_:R7.bind(null,n),ea:P7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await c0(n)):(await n.Va.stop(),n.ha.length>0&&(Rt(sh,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,c=new xy(e,t,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(au("AsyncQueue",`${e}: ${n}`),Nd(n))return new Ct(it.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{static emptySet(e){return new rd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||qt.comparator(t.key,r.key):(t,r)=>qt.comparator(t.key,r.key),this.keyedMap=Rf(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new rd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ma=new jr(qt.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):tn(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class gd{constructor(e,t,r,i,s,l,c,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new gd(e,t,rd.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class M7{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=cn(t),s=i.queries;i.queries=Vw(),s.forEach((l,c)=>{for(const h of c.ya)h.onError(r)})})(this,new Ct(it.ABORTED,"Firestore shutting down"))}}function Vw(){return new ch(n=>_3(n),n0)}async function _y(n,e){const t=cn(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new D7,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await t.onListen(i,!0);break;case 1:s.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=wy(l,`Initialization of query '${Wh(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.ya.push(e),e.Da(t.onlineState),s.pa&&e.va(s.pa)&&Ay(t)}async function Sy(n,e){const t=cn(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ya.indexOf(e);l>=0&&(s.ya.splice(l,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function j7(n,e){const t=cn(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const c of l.ya)c.va(i)&&(r=!0);l.pa=i}}r&&Ay(t)}function F7(n,e,t){const r=cn(n),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(t);r.queries.delete(e)}function Ay(n){n.ba.forEach(e=>{e.next()})}var e2,Bw;(Bw=e2||(e2={})).Ca="default",Bw.Cache="cache";class Ey{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==e2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class V7{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=In(),this.mutatedKeys=In(),this.Ha=S3(e),this.Ja=new rd(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Fw,i=t?t.Ja:this.Ja;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,b)=>{const w=i.get(g),x=r0(this.query,b)?b:null,C=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;w&&x?w.data.isEqual(x.data)?C!==k&&(r.track({type:3,doc:x}),I=!0):this.eu(w,x)||(r.track({type:2,doc:x}),I=!0,(h&&this.Ha(x,h)>0||d&&this.Ha(x,d)<0)&&(c=!0)):!w&&x?(r.track({type:0,doc:x}),I=!0):w&&!x&&(r.track({type:1,doc:w}),I=!0,(h||d)&&(c=!0)),I&&(x?(l=l.add(x),s=k?s.add(g):s.delete(g)):(l=l.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ja:l,Xa:r,Cs:c,mutatedKeys:s}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((g,b)=>function(x,C){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Vt:I})}};return k(x)-k(C)}(g.type,b.type)||this.Ha(g.doc,b.doc)),this.tu(r),i=i!=null&&i;const c=t&&!i?this.nu():[],h=this.ja.size===0&&this.current&&!i?1:0,d=h!==this.za;return this.za=h,l.length!==0||d?{snapshot:new gd(this.query,e.Ja,s,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=In(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new rA(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new nA(r))}),t}su(e){this.Ga=e.$s,this.ja=In();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return gd.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ty="SyncEngine";class B7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class U7{constructor(e){this.key=e,this._u=!1}}class z7{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new ch(c=>_3(c),n0),this.cu=new Map,this.lu=new Set,this.hu=new jr(qt.comparator),this.Pu=new Map,this.Tu=new dy,this.Iu={},this.Eu=new Map,this.du=md.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function q7(n,e,t=!0){const r=uA(n);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await iA(r,e,t,!0),i}async function H7(n,e){const t=uA(n);await iA(t,e,!0,!1)}async function iA(n,e,t,r){const i=await c7(n.localStore,ll(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await $7(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&X3(n.remoteStore,i),c}async function $7(n,e,t,r,i){n.Ru=(b,w,x)=>async function(k,I,N,M){let H=I.view.Za(N);H.Cs&&(H=await Pw(k.localStore,I.query,!1).then(({documents:V})=>I.view.Za(V,H)));const re=M&&M.targetChanges.get(I.targetId),K=M&&M.targetMismatches.get(I.targetId)!=null,ge=I.view.applyChanges(H,k.isPrimaryClient,re,K);return zw(k,I.targetId,ge.ru),ge.snapshot}(n,b,w,x);const s=await Pw(n.localStore,e,!0),l=new V7(e,s.$s),c=l.Za(s.documents),h=mp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=l.applyChanges(c,n.isPrimaryClient,h);zw(n,t,d.ru);const g=new B7(e,t,l);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),d.snapshot}async function G7(n,e,t){const r=cn(n),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(l=>!n0(l,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gy(r.remoteStore,i.targetId),t2(r,i.targetId)}).catch(Td)):(t2(r,i.targetId),await Jv(r.localStore,i.targetId,!0))}async function W7(n,e){const t=cn(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gy(t.remoteStore,r.targetId))}async function Y7(n,e,t){const r=tO(n);try{const i=await function(l,c){const h=cn(l),d=xi.now(),g=c.reduce((x,C)=>x.add(C.key),In());let b,w;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=su(),k=In();return h.Bs.getEntries(x,g).next(I=>{C=I,C.forEach((N,M)=>{M.isValidDocument()||(k=k.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,C)).next(I=>{b=I;const N=[];for(const M of c){const H=c8(M,b.get(M.key).overlayedDocument);H!=null&&N.push(new Ac(M.key,H,p3(H.value.mapValue),ja.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,N,c)}).next(I=>{w=I;const N=I.applyToLocalDocumentSet(b,k);return h.documentOverlayCache.saveOverlays(x,I.batchId,N)})}).then(()=>({batchId:w.batchId,changes:E3(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let d=l.Iu[l.currentUser.toKey()];d||(d=new jr(_n)),d=d.insert(c,h),l.Iu[l.currentUser.toKey()]=d}(r,i.batchId,t),await vp(r,i.changes),await c0(r.remoteStore)}catch(i){const s=wy(i,"Failed to persist write");t.reject(s)}}async function aA(n,e){const t=cn(n);try{const r=await o7(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Pu.get(s);l&&(tr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l._u=!0:i.modifiedDocuments.size>0?tr(l._u,14607):i.removedDocuments.size>0&&(tr(l._u,42227),l._u=!1))}),await vp(t,r,e)}catch(r){await Td(r)}}function Uw(n,e,t){const r=cn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((s,l)=>{const c=l.view.Da(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=cn(l);h.onlineState=c;let d=!1;h.queries.forEach((g,b)=>{for(const w of b.ya)w.Da(c)&&(d=!0)}),d&&Ay(h)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K7(n,e,t){const r=cn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),s=i&&i.key;if(s){let l=new jr(qt.comparator);l=l.insert(s,la.newNoDocument(s,on.min()));const c=In().add(s),h=new o0(on.min(),new Map,new jr(_n),l,c);await aA(r,h),r.hu=r.hu.remove(s),r.Pu.delete(e),Ny(r)}else await Jv(r.localStore,e,!1).then(()=>t2(r,e,t)).catch(Td)}async function X7(n,e){const t=cn(n),r=e.batch.batchId;try{const i=await s7(t.localStore,e);oA(t,r,null),sA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vp(t,i)}catch(i){await Td(i)}}async function Q7(n,e,t){const r=cn(n);try{const i=await function(l,c){const h=cn(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next(b=>(tr(b!==null,37113),g=b.keys(),h.mutationQueue.removeMutationBatch(d,b))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(r.localStore,e);oA(r,e,t),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vp(r,i)}catch(i){await Td(i)}}function sA(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function oA(n,e,t){const r=cn(n);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function t2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||lA(n,r)})}function lA(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(gy(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Ny(n))}function zw(n,e,t){for(const r of t)r instanceof nA?(n.Tu.addReference(r.key,e),J7(n,r)):r instanceof rA?(Rt(Ty,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||lA(n,r.key)):tn(19791,{mu:r})}function J7(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Rt(Ty,"New document in limbo: "+t),n.lu.add(r),Ny(n))}function Ny(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new qt(xr.fromString(e)),r=n.du.next();n.Pu.set(r,new U7(t)),n.hu=n.hu.insert(t,r),X3(n.remoteStore,new ic(ll(t0(t.path)),r,"TargetPurposeLimboResolution",Jg.le))}}async function vp(n,e,t){const r=cn(n),i=[],s=[],l=[];r.uu.isEmpty()||(r.uu.forEach((c,h)=>{l.push(r.Ru(h,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const b=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(d){i.push(d);const b=py.Rs(h.targetId,d);s.push(b)}}))}),await Promise.all(l),r.au.j_(i),await async function(h,d){const g=cn(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ot.forEach(d,w=>ot.forEach(w.ds,x=>g.persistence.referenceDelegate.addReference(b,w.targetId,x)).next(()=>ot.forEach(w.As,x=>g.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))}catch(b){if(!Nd(b))throw b;Rt(my,"Failed to update sequence numbers: "+b)}for(const b of d){const w=b.targetId;if(!b.fromCache){const x=g.xs.get(w),C=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(C);g.xs=g.xs.insert(w,k)}}}(r.localStore,s))}async function Z7(n,e){const t=cn(n);if(!t.currentUser.isEqual(e)){Rt(Ty,"User change. New user:",e.toKey());const r=await G3(t.localStore,e);t.currentUser=e,function(s,l){s.Eu.forEach(c=>{c.forEach(h=>{h.reject(new Ct(it.CANCELLED,l))})}),s.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vp(t,r.ks)}}function eO(n,e){const t=cn(n),r=t.Pu.get(e);if(r&&r._u)return In().add(r.key);{let i=In();const s=t.cu.get(e);if(!s)return i;for(const l of s){const c=t.uu.get(l);i=i.unionWith(c.view.Ya)}return i}}function uA(n){const e=cn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K7.bind(null,e),e.au.j_=j7.bind(null,e.eventManager),e.au.Vu=F7.bind(null,e.eventManager),e}function tO(n){const e=cn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q7.bind(null,e),e}class Sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=l0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return a7(this.persistence,new n7,e.initialUser,this.serializer)}yu(e){return new $3(fy.fi,this.serializer)}pu(e){return new d7}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sg.provider={build:()=>new Sg};class nO extends Sg{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){tr(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U8(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Oa.withCacheSize(this.cacheSizeBytes):Oa.DEFAULT;return new $3(r=>wg.fi(r,t),this.serializer)}}class n2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z7.bind(null,this.syncEngine),await O7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M7}()}createDatastore(e){const t=l0(e.databaseInfo.databaseId),r=function(s){return new v7(s)}(e.databaseInfo);return function(s,l,c,h){return new w7(s,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,c){return new S7(r,i,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Uw(this.syncEngine,t,0),function(){return Dw.C()?new Dw:new f7}())}createSyncEngine(e,t){return function(i,s,l,c,h,d,g){const b=new z7(i,s,l,c,h,d);return g&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=cn(i);Rt(sh,"RemoteStore shutting down."),s.Ta.add(5),await gp(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}n2.provider={build:()=>new n2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):au("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="FirestoreClient";class rO{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=oa.UNAUTHENTICATED,this.clientId=i3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{Rt(yc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Rt(yc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=wy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(n,e){n.asyncQueue.verifyOperationInProgress(),Rt(yc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await G3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iO(n);Rt(yc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jw(e.remoteStore,i)),n._onlineComponents=e}async function iO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rt(yc,"Using user provided OfflineComponentProvider");try{await rv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===it.FAILED_PRECONDITION||i.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;hd("Error using user provided cache. Falling back to memory cache: "+t),await rv(n,new Sg)}}else Rt(yc,"Using default OfflineComponentProvider"),await rv(n,new nO(void 0));return n._offlineComponents}async function cA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rt(yc,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(Rt(yc,"Using default OnlineComponentProvider"),await qw(n,new n2))),n._onlineComponents}function aO(n){return cA(n).then(e=>e.syncEngine)}async function Ag(n){const e=await cA(n),t=e.eventManager;return t.onListen=q7.bind(null,e.syncEngine),t.onUnlisten=G7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W7.bind(null,e.syncEngine),t}function sO(n,e,t={}){const r=new Zl;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,c,h,d){const g=new Cy({next:w=>{g.Cu(),l.enqueueAndForget(()=>Sy(s,b));const x=w.docs.has(c);!x&&w.fromCache?d.reject(new Ct(it.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&h&&h.source==="server"?d.reject(new Ct(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),b=new Ey(t0(c.path),g,{includeMetadataChanges:!0,La:!0});return _y(s,b)}(await Ag(n),n.asyncQueue,e,t,r)),r.promise}function oO(n,e,t={}){const r=new Zl;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,c,h,d){const g=new Cy({next:w=>{g.Cu(),l.enqueueAndForget(()=>Sy(s,b)),w.fromCache&&h.source==="server"?d.reject(new Ct(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),b=new Ey(c,g,{includeMetadataChanges:!0,La:!0});return _y(s,b)}(await Ag(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n,e,t){if(!t)throw new Ct(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lO(n,e,t,r){if(e===!0&&r===!0)throw new Ct(it.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $w(n){if(!qt.isDocumentKey(n))throw new Ct(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gw(n){if(qt.isDocumentKey(n))throw new Ct(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function h0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function us(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=h0(n);throw new Ct(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",Ww=!0;class Yw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=Ww}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V8)throw new Ct(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ct(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ct(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ct(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class d0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mL;switch(r.type){case"firstParty":return new bL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Hw.get(t);r&&(Rt("ComponentProvider","Removing Datastore"),Hw.delete(t),r.terminate())}(this),Promise.resolve()}}function uO(n,e,t,r={}){var i;n=us(n,d0);const s=up(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;s&&(jS(`https://${h}`),FS("Firestore",!0)),l.host!==fA&&l.host!==h&&hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:s,emulatorOptions:r});if(!dc(d,c)&&(n._setSettings(d),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=oa.MOCK_USER;else{g=r6(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ct(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new oa(w)}n._authCredentials=new gL(new n3(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class va{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new va(this.firestore,e,this._key)}}class hc extends Ec{constructor(e,t,r){super(e,t,t0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new va(this.firestore,null,new qt(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function js(n,e,...t){if(n=Mr(n),dA("collection","path",e),n instanceof d0){const r=xr.fromString(e,...t);return Gw(r),new hc(n,null,r)}{if(!(n instanceof va||n instanceof hc))throw new Ct(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xr.fromString(e,...t));return Gw(r),new hc(n.firestore,null,r)}}function ds(n,e,...t){if(n=Mr(n),arguments.length===1&&(e=i3.newId()),dA("doc","path",e),n instanceof d0){const r=xr.fromString(e,...t);return $w(r),new va(n,null,new qt(r))}{if(!(n instanceof va||n instanceof hc))throw new Ct(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xr.fromString(e,...t));return $w(r),new va(n.firestore,n instanceof hc?n.converter:null,new qt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="AsyncQueue";class Xw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Y3(this,"async_queue_retry"),this.ec=()=>{const r=nv();r&&Rt(Kw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=nv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=nv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Zl;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Nd(e))throw e;Rt(Kw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,au("INTERNAL UNHANDLED ERROR: ",Qw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=xy.createAndSchedule(this,e,t,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&tn(47125,{_c:Qw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Qw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class ou extends d0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xw(e),this._firestoreClient=void 0,await e}}}function cO(n,e){const t=typeof n=="object"?n:U2(),r=typeof n=="string"?n:gg,i=lh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=t6("firestore");s&&uO(i,...s)}return i}function yp(n){if(n._terminated)throw new Ct(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hO(n),n._firestoreClient}function hO(n){var e,t,r;const i=n._freezeSettings(),s=function(c,h,d,g){return new OL(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,hA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new rO(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vd(qi.fromBase64String(e))}catch(t){throw new Ct(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vd(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ct(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^__.*__$/;class fO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new pp(e,this.data,t,this.fieldTransforms)}}class pA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{hc:n})}}class Ry{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Eg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(mA(this.hc)&&dO.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class pO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||l0(e)}gc(e,t,r,i=!1){return new Ry({hc:e,methodName:t,fc:r,path:zi.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p0(n){const e=n._freezeSettings(),t=l0(n._databaseId);return new pO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gA(n,e,t,r,i,s={}){const l=n.gc(s.merge||s.mergeFields?2:0,e,t,i);Ly("Data must be an object, but it was:",l,r);const c=bA(r,l);let h,d;if(s.merge)h=new ss(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const g=[];for(const b of s.mergeFields){const w=r2(e,b,t);if(!l.contains(w))throw new Ct(it.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wA(g,w)||g.push(w)}h=new ss(g),d=l.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,d=l.fieldTransforms;return new fO(new Da(c),h,d)}class m0 extends f0{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}class Py extends f0{_toFieldTransform(e){return new s8(e.path,new Zf)}isEqual(e){return e instanceof Py}}function vA(n,e,t,r){const i=n.gc(1,e,t);Ly("Data must be an object, but it was:",i,r);const s=[],l=Da.empty();Sc(r,(h,d)=>{const g=Oy(e,h,t);d=Mr(d);const b=i.Ac(g);if(d instanceof m0)s.push(g);else{const w=xp(d,b);w!=null&&(s.push(g),l.set(g,w))}});const c=new ss(s);return new pA(l,c,i.fieldTransforms)}function yA(n,e,t,r,i,s){const l=n.gc(1,e,t),c=[r2(e,r,t)],h=[i];if(s.length%2!=0)throw new Ct(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)c.push(r2(e,s[w])),h.push(s[w+1]);const d=[],g=Da.empty();for(let w=c.length-1;w>=0;--w)if(!wA(d,c[w])){const x=c[w];let C=h[w];C=Mr(C);const k=l.Ac(x);if(C instanceof m0)d.push(x);else{const I=xp(C,k);I!=null&&(d.push(x),g.set(x,I))}}const b=new ss(d);return new pA(g,b,l.fieldTransforms)}function mO(n,e,t,r=!1){return xp(t,n.gc(r?4:3,e))}function xp(n,e){if(xA(n=Mr(n)))return Ly("Unsupported field value:",e,n),bA(n,e);if(n instanceof f0)return function(r,i){if(!mA(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const c of r){let h=xp(c,i.Rc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xi.fromDate(r);return{timestampValue:xg(i.serializer,s)}}if(r instanceof xi){const s=new xi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xg(i.serializer,s)}}if(r instanceof ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vd)return{bytesValue:j3(i.serializer,r._byteString)};if(r instanceof va){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iy)return function(l,c){return{mapValue:{fields:{[d3]:{stringValue:f3},[vg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Vc("VectorValues must only contain numeric values.");return ly(c.serializer,d)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${h0(r)}`)}(n,e)}function bA(n,e){const t={};return s3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const s=xp(i,e.Ic(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function xA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xi||n instanceof ky||n instanceof vd||n instanceof va||n instanceof f0||n instanceof Iy)}function Ly(n,e,t){if(!xA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=h0(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function r2(n,e,t){if((e=Mr(e))instanceof bp)return e._internalPath;if(typeof e=="string")return Oy(n,e);throw Eg("Field path arguments must be of type string or ",n,!1,void 0,t)}const gO=new RegExp("[~\\*/\\[\\]]");function Oy(n,e,t){if(e.search(gO)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bp(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ct(it.INVALID_ARGUMENT,c+n+h)}function wA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new va(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vO extends _A{data(){return super.data()}}function g0(n,e){return typeof e=="string"?Oy(n,e):e instanceof bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class AA extends Dy{}function cs(n,e,...t){let r=[];e instanceof Dy&&r.push(e),r=r.concat(t),function(s){const l=s.filter(h=>h instanceof My).length,c=s.filter(h=>h instanceof v0).length;if(l>1||l>0&&c>0)throw new Ct(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class v0 extends AA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new v0(e,t,r)}_apply(e){const t=this._parse(e);return EA(e._query,t),new Ec(e.firestore,e.converter,Gv(e._query,t))}_parse(e){const t=p0(e.firestore);return function(s,l,c,h,d,g,b){let w;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ct(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){e_(b,g);const C=[];for(const k of b)C.push(Zw(h,s,k));w={arrayValue:{values:C}}}else w=Zw(h,s,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||e_(b,g),w=mO(c,l,b,g==="in"||g==="not-in");return di.create(d,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function np(n,e,t){const r=e,i=g0("where",n);return v0._create(i,r,t)}class My extends Dy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new My(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const c=s.getFlattenedFilters();for(const h of c)EA(l,h),l=Gv(l,h)}(e._query,t),new Ec(e.firestore,e.converter,Gv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends AA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jy(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new Ct(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ct(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jf(s,l)}(e._query,this._field,this._direction);return new Ec(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new Cd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function cl(n,e="asc"){const t=e,r=g0("orderBy",n);return jy._create(r,t)}function Zw(n,e,t){if(typeof(t=Mr(t))=="string"){if(t==="")throw new Ct(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w3(e)&&t.indexOf("/")!==-1)throw new Ct(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xr.fromString(t));if(!qt.isDocumentKey(r))throw new Ct(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fw(n,new qt(r))}if(t instanceof va)return fw(n,t._key);throw new Ct(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h0(t)}.`)}function e_(n,e){if(!Array.isArray(n)||n.length===0)throw new Ct(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(n,e){const t=function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ct(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ct(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yO{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>ei(l.doubleValue));return new Iy(s)}convertGeoPoint(e){return new ky(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=e0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const t=pc(e);return new xi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xr.fromString(e);tr(q3(r),9688,{name:e});const i=new Xf(r.get(1),r.get(3)),s=new qt(r.popFirst(5));return i.isEqual(t)||au(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NA extends _A{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(g0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Km extends NA{data(e={}){return super.data(e)}}class CA{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Km(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Km(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new Km(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:bO(c.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){n=us(n,va);const e=us(n.firestore,ou);return sO(yp(e),n._key).then(t=>kA(e,n,t))}class Fy extends yO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new va(this.firestore,null,t)}}function Tg(n){n=us(n,Ec);const e=us(n.firestore,ou),t=yp(e),r=new Fy(e);return SA(n._query),oO(t,n._query).then(i=>new CA(e,r,n,i))}function wp(n,e,t,...r){n=us(n,va);const i=us(n.firestore,ou),s=p0(i);let l;return l=typeof(e=Mr(e))=="string"||e instanceof bp?yA(s,"updateDoc",n._key,e,t,r):vA(s,"updateDoc",n._key,e),x0(i,[l.toMutation(n._key,ja.exists(!0))])}function y0(n){return x0(us(n.firestore,ou),[new s0(n._key,ja.none())])}function b0(n,e){const t=us(n.firestore,ou),r=ds(n),i=TA(n.converter,e);return x0(t,[gA(p0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ja.exists(!1))]).then(()=>r)}function eu(n,...e){var t,r,i;n=Mr(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Jw(e[l])||(s=e[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Jw(e[l])){const b=e[l];e[l]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[l+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[l+2]=(i=b.complete)===null||i===void 0?void 0:i.bind(b)}let h,d,g;if(n instanceof va)d=us(n.firestore,ou),g=t0(n._key.path),h={next:b=>{e[l]&&e[l](kA(d,n,b))},error:e[l+1],complete:e[l+2]};else{const b=us(n,Ec);d=us(b.firestore,ou),g=b._query;const w=new Fy(d);h={next:x=>{e[l]&&e[l](new CA(d,w,b,x))},error:e[l+1],complete:e[l+2]},SA(n._query)}return function(w,x,C,k){const I=new Cy(k),N=new Ey(x,I,C);return w.asyncQueue.enqueueAndForget(async()=>_y(await Ag(w),N)),()=>{I.Cu(),w.asyncQueue.enqueueAndForget(async()=>Sy(await Ag(w),N))}}(yp(d),g,c,h)}function x0(n,e){return function(r,i){const s=new Zl;return r.asyncQueue.enqueueAndForget(async()=>Y7(await aO(r),i,s)),s.promise}(yp(n),e)}function kA(n,e,t){const r=t.docs.get(e._key),i=new Fy(n);return new NA(n,i,e._key,r,new Lf(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=p0(e)}set(e,t,r){this._verifyNotCommitted();const i=iv(e,this._firestore),s=TA(i.converter,t,r),l=gA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,ja.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=iv(e,this._firestore);let l;return l=typeof(t=Mr(t))=="string"||t instanceof bp?yA(this._dataReader,"WriteBatch.update",s._key,t,r,i):vA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,ja.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iv(e,this._firestore);return this._mutations=this._mutations.concat(new s0(t._key,ja.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iv(n,e){if((n=Mr(n)).firestore!==e)throw new Ct(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function lu(){return new Py("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n){return yp(n=us(n,ou)),new xO(n,e=>x0(n,e))}(function(e,t=!0){(function(i){Ed=i})(Sd),fl(new go("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ou(new vL(r.getProvider("auth-internal")),new xL(l,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ct(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(d.options.projectId,g)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Fs(tw,nw,e),Fs(tw,nw,"esm2017")})();const _O={apiKey:"AIzaSyAhszf3ksVKyZGL2omtZsKLx_QaM6mlF48",authDomain:"renattos-almacenes.firebaseapp.com",projectId:"renattos-almacenes",storageBucket:"renattos-almacenes.firebasestorage.app",messagingSenderId:"598742613630",appId:"1:598742613630:web:32dcf1c9fbd1b34ae3222f",measurementId:"G-LHG7VJHCZD"},Vy=$S(_O);YI(Vy);const uu=fL(Vy),Cr=cO(Vy);var IA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t_=sc.createContext&&sc.createContext(IA),SO=["attr","size","title"];function AO(n,e){if(n==null)return{};var t=EO(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function EO(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ng(){return Ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ng.apply(this,arguments)}function n_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(t),!0).forEach(function(r){TO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TO(n,e,t){return e=NO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NO(n){var e=CO(n,"string");return typeof e=="symbol"?e:e+""}function CO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RA(n){return n&&n.map((e,t)=>sc.createElement(e.tag,Cg({key:t},e.attr),RA(e.child)))}function ln(n){return e=>sc.createElement(kO,Ng({attr:Cg({},n.attr)},e),RA(n.child))}function kO(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=AO(n,SO),c=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),sc.createElement("svg",Ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Cg(Cg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&sc.createElement("title",null,s),n.children)};return t_!==void 0?sc.createElement(t_.Consumer,null,t=>e(t)):e(IA)}function Id(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(n)}function r_(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function IO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(n)}function PA(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(n)}function RO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function cu(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function LA(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(n)}function PO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function a2(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function LO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(n)}function OO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(n)}function DO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function By(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(n)}function MO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}function jO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(n)}function OA(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(n)}function FO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function VO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function BO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function Fa(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(n)}function UO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function i_(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function zO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function a_(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function qO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}function HO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function kg(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(n)}function s2(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(n)}function Rd(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function $O(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(n)}function w0(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(n)}function GO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function WO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(n)}function YO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(n)}function DA(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function KO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function o2(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(n)}function s_(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(n)}function _p(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function XO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function MA(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function QO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function yd(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}function dh(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function JO(n){return ln({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(n)}const ZO=({darkMode:n,toggleDarkMode:e})=>A.jsx("button",{onClick:e,"aria-label":n?"Activar modo claro":"Activar modo oscuro",className:`
        fixed bottom-4 right-4 z-50
        w-14 h-14 sm:w-16 sm:h-16 
        flex items-center justify-center 
        rounded-full 
        shadow-xl hover:shadow-yellow-glow 
        transition-all duration-300 ease-in-out transform hover:scale-110
        focus:outline-none focus:ring-2 focus:ring-offset-2 
        dark:focus:ring-offset-background-dark focus:ring-secondary
        bg-opacity-80 dark:bg-opacity-70
        ${n?"bg-primary-light hover:bg-primary text-secondary":"bg-accent hover:bg-accent-dark text-primary"}
      `,children:n?A.jsx(KO,{className:"w-6 h-6 sm:w-7 sm:h-7 transition-transform duration-500 ease-out transform group-hover:rotate-90"}):A.jsx(HO,{className:"w-6 h-6 sm:w-7 sm:h-7 transition-transform duration-500 ease-out transform group-hover:-rotate-45"})}),eD=({children:n,darkMode:e,toggleDarkMode:t})=>A.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-text-dark dark:text-text-light transition-colors duration-300 font-sans",children:[A.jsx(ZO,{darkMode:e,toggleDarkMode:t}),A.jsx("main",{children:n})]}),tD=({user:n,isOpen:e,setIsOpen:t})=>{const r=D2(),i=async()=>{try{await nP(uu),r("/login")}catch(l){console.error("Error al cerrar sesin:",l)}},s=({isActive:l})=>`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group
    ${l?"bg-secondary text-renatto-dark shadow-md":"text-text-muted-dark hover:bg-primary-light/20 hover:text-text-light"}`;return A.jsxs(A.Fragment,{children:[e&&A.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>t(!1),"aria-hidden":"true"}),A.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-40 lg:static lg:z-auto
        flex flex-col w-64 shrink-0 
        bg-primary dark:bg-primary text-text-light 
        border-r border-primary-light/10 dark:border-black/20 shadow-2xl
        transform transition-transform duration-300 ease-in-out 
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 
      `,children:[A.jsxs("div",{className:"flex items-center justify-between h-20 px-4 border-b border-primary-light/30 dark:border-black/30",children:[A.jsxs(Yl,{to:"/dashboard",className:"flex items-center gap-2.5",onClick:()=>t(!1),children:[A.jsxs("div",{className:"p-1.5 bg-secondary rounded-md shadow",children:[A.jsx(PA,{className:"w-7 h-7 text-renatto-dark"})," "]}),A.jsx("span",{className:"text-xl font-bold text-renatto-white tracking-tight",children:"Renatto's"})]}),A.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1 text-text-muted-dark hover:text-renatto-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-secondary rounded-md","aria-label":"Cerrar men de navegacin",children:A.jsx(dh,{size:24})})]}),A.jsxs("nav",{className:"flex-1 px-3 py-5 space-y-1.5 overflow-y-auto",children:[A.jsxs(Yl,{to:"/dashboard",end:!0,className:s,onClick:()=>t(!1),children:[A.jsx(VO,{className:"mr-3 w-5 h-5 shrink-0"})," Inicio"]}),A.jsxs(Yl,{to:"/dashboard/clients",className:s,onClick:()=>t(!1),children:[A.jsx(yd,{className:"mr-3 w-5 h-5 shrink-0"})," Clientes"]}),A.jsxs(Yl,{to:"/dashboard/sales",className:s,onClick:()=>t(!1),children:[A.jsx(OO,{className:"mr-3 w-5 h-5 shrink-0"})," Ventas "]}),A.jsxs(Yl,{to:"/dashboard/process-payments",className:s,onClick:()=>t(!1),children:[A.jsx(LA,{className:"mr-3 w-5 h-5 shrink-0"})," Procesar Pagos"]}),A.jsxs("div",{className:"pt-3 pb-1",children:[A.jsx("h5",{className:"px-4 mb-1 text-xs font-semibold uppercase text-text-muted-dark/50 dark:text-text-muted-dark/40 tracking-wider",children:"Inventario"}),A.jsxs(Yl,{to:"/dashboard/categories",className:s,onClick:()=>t(!1),children:[A.jsx(o2,{className:"mr-3 w-5 h-5 shrink-0"})," Categoras"]}),A.jsxs(Yl,{to:"/dashboard/products",className:s,onClick:()=>t(!1),children:[A.jsx(kg,{className:"mr-3 w-5 h-5 shrink-0"})," Productos"]})]}),A.jsxs("div",{className:"pt-3 pb-1",children:[A.jsx("h5",{className:"px-4 mb-1 text-xs font-semibold uppercase text-text-muted-dark/50 dark:text-text-muted-dark/40 tracking-wider",children:"Configuracin"}),A.jsxs(Yl,{to:"/dashboard/factor-plazo",className:s,onClick:()=>t(!1),children:[A.jsx(a2,{className:"mr-3 w-5 h-5 shrink-0"})," Factor Plazo"]})]})]}),A.jsxs("div",{className:"px-3 py-5 mt-auto border-t border-primary-light/30 dark:border-black/30",children:[A.jsxs("button",{onClick:i,className:"w-full flex items-center px-4 py-3 mt-1 text-sm font-medium rounded-lg text-text-muted-dark hover:bg-secondary/20 hover:text-secondary transition-colors group",children:[A.jsx(zO,{className:"mr-3 w-5 h-5 shrink-0"})," Cerrar Sesin"]}),A.jsxs("p",{className:"text-xs text-center text-text-muted-dark/60 mt-5 px-2",children:[" ",new Date().getFullYear()," Renatto's Almacenes"]})]})]})]})},nD=({user:n,toggleSidebar:e,sidebarOpen:t})=>A.jsx("header",{className:"sticky top-0 z-20 bg-background-light dark:bg-form-bg-dark shadow-md border-b border-ui-border-light dark:border-ui-border-dark",children:A.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[A.jsxs("button",{onClick:e,className:"lg:hidden text-text-muted-light dark:text-text-muted-dark hover:text-primary dark:hover:text-renatto-white p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary","aria-controls":"sidebar","aria-expanded":t,children:[A.jsx("span",{className:"sr-only",children:"Abrir sidebar"}),A.jsx(qO,{size:24})]}),A.jsx("div",{className:"hidden lg:block w-8"}),A.jsx("div",{className:"flex items-center gap-3",children:A.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(QO,{}),A.jsx("span",{children:n==null?void 0:n.email})]})})]})}),rD=({user:n})=>{const[e,t]=ee.useState(!1);return n?A.jsxs("div",{className:"flex h-screen overflow-hidden bg-background-light dark:bg-background-dark",children:[A.jsx(tD,{user:n,isOpen:e,setIsOpen:t}),A.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[A.jsx(nD,{user:n,toggleSidebar:()=>t(r=>!r),sidebarOpen:e}),A.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 md:p-8",children:[A.jsx(hC,{})," "]})]})]}):A.jsx(Nf,{to:"/login",replace:!0})},iD=()=>{const[n,e]=ee.useState(""),[t,r]=ee.useState(""),[i,s]=ee.useState(""),[l,c]=ee.useState(""),[h,d]=ee.useState(!1),[g,b]=ee.useState(!1),[w,x]=ee.useState(""),C=async re=>{if(re.preventDefault(),s(""),c(""),d(!0),!n||!t){s("Ingresa tu correo y contrasea."),d(!1);return}try{await JR(uu,n,t)}catch(K){let ge="Error al iniciar sesin.";["auth/user-not-found","auth/invalid-credential","auth/wrong-password"].includes(K.code)?ge="Correo o contrasea incorrectos.":K.code==="auth/invalid-email"?ge="Formato de correo no vlido.":K.code==="auth/too-many-requests"&&(ge="Demasiados intentos. Intenta ms tarde."),console.error("Login Error:",K.code,K.message),s(ge)}finally{d(!1)}},k=async re=>{if(re.preventDefault(),s(""),c(""),!w){s("Ingresa tu correo para restablecer la contrasea.");return}d(!0);try{await QR(uu,w),c(`Enlace de restablecimiento enviado a ${w}. Revisa tu correo (incluyendo spam).`),b(!1),x("")}catch(K){let ge="No se pudo enviar el correo.";K.code==="auth/user-not-found"?ge="Correo no registrado.":K.code==="auth/invalid-email"&&(ge="Formato de correo no vlido."),console.error("Password Reset Error:",K.code,K.message),s(ge)}finally{d(!1)}},I="w-full pl-10 pr-4 py-3 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",N="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",M="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10",H="w-full flex justify-center items-center gap-2 bg-secondary text-renatto-dark font-semibold py-3 px-4 rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary dark:focus:ring-offset-form-bg-dark transition-all duration-150 disabled:opacity-70 shadow-lg hover:shadow-yellow-glow";return g?A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-8 rounded-xl shadow-2xl w-full max-w-md border border-ui-border-light dark:border-ui-border-dark animate-slide-in-up",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"bg-gradient-to-br from-secondary to-accent p-3 rounded-full shadow-lg animate-subtle-pulse",children:A.jsx(FO,{className:"text-renatto-dark text-3xl"})})}),A.jsx("h2",{className:"text-2xl font-bold mb-3 text-center text-text-dark dark:text-text-light",children:"Recuperar Contrasea"}),A.jsx("p",{className:"text-center text-text-muted-light dark:text-text-muted-dark mb-6 text-sm",children:"Enviaremos un enlace a tu correo."}),i&&A.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-300",children:[A.jsx(r_,{})," ",A.jsx("span",{className:"text-sm",children:i})]}),l&&A.jsxs("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-300",children:[A.jsx(cu,{})," ",A.jsx("span",{className:"text-sm",children:l})]}),A.jsxs("form",{onSubmit:k,noValidate:!0,children:[A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:A.jsx(a_,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"email",id:"resetEmail",value:w,onChange:re=>x(re.target.value),className:`${I} ${N} ${M}`,placeholder:"tu@correo.com",required:!0,autoComplete:"email"})]})}),A.jsxs("button",{type:"submit",disabled:h,className:H,children:[h?A.jsx(Fa,{className:"animate-spin text-xl"}):A.jsx(WO,{className:"text-xl"}),"Enviar Enlace"]})]}),A.jsx("div",{className:"mt-6 text-center",children:A.jsx("button",{onClick:()=>{b(!1),s(""),c("")},className:"text-sm font-medium text-secondary hover:text-secondary-dark dark:text-secondary dark:hover:opacity-80 focus:outline-none transition-colors",children:" Volver a Iniciar Sesin"})})]}):A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-8 rounded-xl shadow-2xl w-full max-w-md border border-ui-border-light dark:border-ui-border-dark animate-slide-in-up",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"bg-gradient-to-br from-secondary to-accent p-4 rounded-full shadow-lg animate-subtle-pulse",children:A.jsx(i_,{className:"text-renatto-dark text-3xl"})})}),A.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-text-dark dark:text-text-light",children:"Bienvenido"}),A.jsx("p",{className:"text-center text-text-muted-light dark:text-text-muted-dark mb-8",children:"Ingresa tus credenciales."}),i&&A.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-300",children:[A.jsx(r_,{})," ",A.jsx("span",{className:"text-sm",children:i})]}),l&&!i&&A.jsxs("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-300",children:[A.jsx(cu,{})," ",A.jsx("span",{className:"text-sm",children:l})]}),A.jsxs("form",{onSubmit:C,noValidate:!0,children:[A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1.5",children:"Correo Electrnico"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:A.jsx(a_,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"email",id:"email",value:n,onChange:re=>e(re.target.value),className:`${I} ${N} ${M}`,placeholder:"tu@correo.com",required:!0,autoComplete:"email"})]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-dark dark:text-text-light",children:"Contrasea"}),A.jsx("button",{type:"button",onClick:()=>{b(!0),s(""),c("")},className:"text-xs font-medium text-secondary hover:text-secondary-dark dark:text-secondary dark:hover:opacity-80 focus:outline-none transition-colors",children:"Olvidaste tu contrasea?"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:A.jsx(UO,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"password",id:"password",value:t,onChange:re=>r(re.target.value),className:`${I} ${N} ${M}`,placeholder:"",required:!0,autoComplete:"current-password"})]})]}),A.jsx("div",{className:"mt-8",children:A.jsx("button",{type:"submit",disabled:h,className:H,children:h?A.jsxs(A.Fragment,{children:[A.jsx(Fa,{className:"animate-spin text-xl"})," Ingresando..."]}):A.jsxs(A.Fragment,{children:[A.jsx(i_,{className:"text-xl"})," Iniciar Sesin"]})})})]})]})},aD=()=>{const n=()=>A.jsxs("div",{className:"relative w-48 h-24 sm:w-60 sm:h-32 mb-8 animate-fade-in animation-delay-400",children:[A.jsx("div",{className:"absolute inset-0 bg-renatto-dark transform -skew-y-3 shadow-2xl"}),A.jsx("div",{className:"absolute -top-2 -left-2 w-full h-full bg-renatto-beige transform -skew-y-3 opacity-80"}),A.jsx("div",{className:"absolute -bottom-3 -right-3 w-3/4 h-1/2 bg-renatto-yellow transform -skew-y-3"}),A.jsx("div",{className:"relative flex items-center justify-center w-full h-full",children:A.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-renatto-white tracking-tight",children:"Renatto's"})})]});return A.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row font-sans bg-background-light dark:bg-background-dark",children:[A.jsxs("div",{className:"w-full md:w-1/2 lg:w-3/5 flex flex-col items-center justify-center p-8 sm:p-12 lg:p-16 bg-primary dark:bg-primary text-text-light relative overflow-hidden",children:[A.jsx("div",{className:"absolute -top-1/4 -left-1/4 w-3/5 h-3/5 bg-secondary/20 dark:bg-secondary/10 rounded-full filter blur-3xl animate-float opacity-70"}),A.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 bg-accent/20 dark:bg-accent/10 rounded-lg filter blur-2xl animate-float-reverse opacity-60 transform rotate-45"}),A.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-renatto-white/10 rounded-full animate-subtle-pulse"}),A.jsx("div",{className:"absolute bottom-10 right-10 w-24 h-24 border-4 border-dashed border-renatto-yellow/30 rounded-lg animate-spin-slow transform rotate-12"}),A.jsxs("div",{className:"relative z-10 text-center max-w-xl flex flex-col items-center animate-fade-in",children:[A.jsx(n,{}),A.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight animate-slide-in-up animation-delay-200",children:["Bienvenido a ",A.jsx("span",{className:"text-secondary",children:"Almacenes Renatto's"})]}),A.jsx("p",{className:"text-lg text-text-light/80 dark:text-text-light/70 mb-10 animate-slide-in-up animation-delay-400",children:"Tu solucin confiable en productos de calidad y servicio excepcional."}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-left w-full animate-slide-in-up animation-delay-600",children:[{icon:A.jsx(PA,{className:"w-8 h-8 text-secondary mb-2"}),title:"Variedad",desc:"Amplio stock"},{icon:A.jsx(YO,{className:"w-8 h-8 text-secondary mb-2"}),title:"Confianza",desc:"Calidad garantizada"},{icon:A.jsx(JO,{className:"w-8 h-8 text-secondary mb-2"}),title:"Eficiencia",desc:"Servicio gil"}].map((e,t)=>A.jsxs("div",{className:"bg-primary-light/30 dark:bg-primary-light/20 p-4 rounded-xl backdrop-blur-sm border border-renatto-white/10 shadow-lg hover:shadow-yellow-glow transition-shadow duration-300",children:[e.icon,A.jsx("h3",{className:"font-semibold text-text-light mb-1",children:e.title}),A.jsx("p",{className:"text-xs text-text-light/70",children:e.desc})]},t))})]})]}),A.jsx("div",{className:"w-full md:w-1/2 lg:w-2/5 flex items-center justify-center p-6 sm:p-8 md:p-12 lg:p-16 bg-background-light dark:bg-form-bg-dark transition-colors duration-300",children:A.jsx("div",{className:"w-full max-w-md animate-fade-in",children:A.jsx(iD,{})})})]})},sD=({user:n})=>A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light mb-2",children:"Panel Principal"}),A.jsxs("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-8",children:["Bienvenido de nuevo, ",A.jsx("span",{className:"font-semibold text-secondary",children:n==null?void 0:n.email}),"."]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-6 rounded-lg shadow-lg border border-ui-border-light dark:border-ui-border-dark hover:shadow-xl transition-shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-lg font-semibold text-text-dark dark:text-text-light",children:"Clientes Activos"}),A.jsx(yd,{className:"w-8 h-8 text-secondary"})]}),A.jsx("p",{className:"text-3xl font-bold text-primary dark:text-renatto-white",children:"125"})," ",A.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mt-1",children:"+5 esta semana"})]}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-6 rounded-lg shadow-lg border border-ui-border-light dark:border-ui-border-dark hover:shadow-xl transition-shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-lg font-semibold text-text-dark dark:text-text-light",children:"Productos en Stock"}),A.jsx(kg,{className:"w-8 h-8 text-accent dark:text-accent"})]}),A.jsx("p",{className:"text-3xl font-bold text-primary dark:text-renatto-white",children:"860"})," ",A.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mt-1",children:"30 bajos en stock"})]}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-6 rounded-lg shadow-lg border border-ui-border-light dark:border-ui-border-dark hover:shadow-xl transition-shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-lg font-semibold text-text-dark dark:text-text-light",children:"Ventas del Mes"}),A.jsx(IO,{className:"w-8 h-8 text-green-500"})]}),A.jsx("p",{className:"text-3xl font-bold text-primary dark:text-renatto-white",children:"$12,450"})," ",A.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mt-1",children:"+15% vs mes anterior"})]})]})]}),oD=({onSubmit:n,initialData:e,isLoading:t,onCancel:r,formTitle:i,submitButtonText:s})=>{const[l,c]=ee.useState({identificacion:"",nombres:"",apellidos:"",direccion:"",telefono:""});ee.useEffect(()=>{c(e?{identificacion:e.identificacion||"",nombres:e.nombres||"",apellidos:e.apellidos||"",direccion:e.direccion||"",telefono:e.telefono||""}:{identificacion:"",nombres:"",apellidos:"",direccion:"",telefono:""})},[e]);const h=x=>{const{name:C,value:k}=x.target;c(I=>({...I,[C]:k}))},d=x=>{if(x.preventDefault(),!l.identificacion||!l.nombres||!l.apellidos){alert("Identificacin, Nombres y Apellidos son obligatorios.");return}n(l)},g="w-full px-4 py-2.5 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",b="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",w="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10";return A.jsxs("form",{onSubmit:d,className:"space-y-5 p-6 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow-xl border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"text-xl font-semibold text-text-dark dark:text-text-light",children:i}),r&&A.jsx("button",{type:"button",onClick:r,className:"p-1 text-text-muted-light dark:text-text-muted-dark hover:text-secondary dark:hover:text-secondary-dark",children:A.jsx(dh,{size:20})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"identificacion",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1",children:"Identificacin*"}),A.jsx("input",{type:"text",name:"identificacion",id:"identificacion",value:l.identificacion,onChange:h,required:!0,className:`${g} ${b} ${w}`})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nombres",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1",children:"Nombres*"}),A.jsx("input",{type:"text",name:"nombres",id:"nombres",value:l.nombres,onChange:h,required:!0,className:`${g} ${b} ${w}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"apellidos",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1",children:"Apellidos*"}),A.jsx("input",{type:"text",name:"apellidos",id:"apellidos",value:l.apellidos,onChange:h,required:!0,className:`${g} ${b} ${w}`})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"direccion",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1",children:"Direccin"}),A.jsx("input",{type:"text",name:"direccion",id:"direccion",value:l.direccion,onChange:h,className:`${g} ${b} ${w}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1",children:"Telfono"}),A.jsx("input",{type:"tel",name:"telefono",id:"telefono",value:l.telefono,onChange:h,className:`${g} ${b} ${w}`})]}),A.jsxs("div",{className:"flex items-center justify-end gap-4 pt-3",children:[r&&A.jsx("button",{type:"button",onClick:r,disabled:t,className:"px-5 py-2 rounded-md text-sm font-medium text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-100 dark:hover:bg-primary-light/20 transition-colors",children:"Cancelar"}),A.jsxs("button",{type:"submit",disabled:t,className:"flex items-center justify-center gap-2 px-5 py-2 bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary dark:focus:ring-offset-form-bg-dark transition-all shadow-md hover:shadow-yellow-glow disabled:opacity-70",children:[t?A.jsx(Fa,{className:"animate-spin"}):e?A.jsx(w0,{}):A.jsx(MA,{}),s]})]})]})},lD=({user:n})=>{const[e,t]=ee.useState([]),[r,i]=ee.useState(!1),[s,l]=ee.useState(!1),[c,h]=ee.useState(null),[d,g]=ee.useState(""),[b,w]=ee.useState(""),x=js(Cr,"clients");ee.useEffect(()=>{i(!0);const re=cs(x,cl("nombres","asc")),K=eu(re,ge=>{const V=ge.docs.map(P=>({...P.data(),id:P.id}));t(V),i(!1)},ge=>{console.error("Error al obtener clientes:",ge),g("No se pudieron cargar los clientes."),i(!1)});return()=>K()},[]);const C=ee.useCallback(()=>{g(""),w("")},[]);ee.useEffect(()=>{if(d||b){const re=setTimeout(()=>{C()},5e3);return()=>clearTimeout(re)}},[d,b,C]);const k=async re=>{C(),i(!0);try{if(c){const K=ds(Cr,"clients",c.id);await wp(K,{...re,updatedAt:lu()}),w("Cliente actualizado con xito.")}else await b0(x,{...re,createdAt:lu(),userId:n.uid}),w("Cliente agregado con xito.");l(!1),h(null)}catch(K){console.error("Error guardando cliente:",K),g(`Error al guardar el cliente: ${K.message}`)}finally{i(!1)}},I=re=>{C(),h(re),l(!0),window.scrollTo({top:0,behavior:"smooth"})},N=async re=>{if(C(),window.confirm("Ests seguro de que quieres eliminar este cliente? Esta accin no se puede deshacer.")){i(!0);try{const K=ds(Cr,"clients",re);await y0(K),w("Cliente eliminado con xito.")}catch(K){console.error("Error eliminando cliente:",K),g("Error al eliminar el cliente.")}finally{i(!1)}}},M=()=>{C(),h(null),l(!0),window.scrollTo({top:0,behavior:"smooth"})},H=()=>{l(!1),h(null),C()};return A.jsxs("div",{className:"animate-fade-in",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 sm:mb-8",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(yd,{className:"text-secondary"})," Gestin de Clientes"]}),!s&&A.jsxs("button",{onClick:M,className:"mt-4 sm:mt-0 flex items-center justify-center gap-2 px-5 py-2.5 bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary dark:focus:ring-offset-background-dark transition-all shadow-lg hover:shadow-yellow-glow disabled:opacity-70",children:[A.jsx(MA,{size:18})," Nuevo Cliente"]})]}),d&&A.jsxs("div",{className:"mb-6 p-3.5 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-3 text-sm text-red-700 dark:text-red-300",children:[A.jsx(Id,{size:18})," ",A.jsx("span",{children:d})]}),b&&A.jsxs("div",{className:"mb-6 p-3.5 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-3 text-sm text-green-700 dark:text-green-300",children:[A.jsx(cu,{size:18})," ",A.jsx("span",{children:b})]}),s&&A.jsx("div",{className:"mb-8 sm:mb-10 animate-slide-in-up",children:A.jsx(oD,{onSubmit:k,initialData:c,isLoading:r,onCancel:H,formTitle:c?" Editar Cliente":" Registrar Nuevo Cliente",submitButtonText:c?"Guardar Cambios":"Agregar Cliente"})}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-4 sm:p-6 rounded-lg shadow-xl border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("h3",{className:"text-xl font-semibold mb-5 text-text-dark dark:text-text-light",children:["Lista de Clientes (",e.length,")"]}),r&&e.length===0&&A.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(Fa,{className:"animate-spin text-3xl sm:text-4xl text-secondary mb-3"}),A.jsx("p",{children:"Cargando clientes..."})]}),!r&&e.length===0&&A.jsxs("div",{className:"text-center py-10 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(yd,{size:40,className:"mx-auto mb-3"}),A.jsx("p",{children:"No hay clientes registrados todava."}),A.jsx("p",{className:"text-sm",children:'Utiliza el botn "Nuevo Cliente" para agregar el primero.'})]}),e.length>0&&A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full min-w-[768px] text-sm text-left text-text-dark dark:text-text-light",children:[A.jsx("thead",{className:"text-xs uppercase bg-neutral-100 dark:bg-primary-light/20 text-text-muted-light dark:text-text-muted-dark",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-4 py-3",children:"Identificacin"}),A.jsx("th",{scope:"col",className:"px-4 py-3",children:"Nombre Completo"}),A.jsx("th",{scope:"col",className:"px-4 py-3 hidden md:table-cell",children:"Direccin"}),A.jsx("th",{scope:"col",className:"px-4 py-3 hidden sm:table-cell",children:"Telfono"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Acciones"})]})}),A.jsx("tbody",{children:e.map(re=>A.jsxs("tr",{className:"border-b border-ui-border-light dark:border-ui-border-dark hover:bg-neutral-50 dark:hover:bg-primary-light/5 transition-colors",children:[A.jsx("td",{className:"px-4 py-3 font-medium",children:re.identificacion}),A.jsxs("td",{className:"px-4 py-3",children:[re.nombres," ",re.apellidos]}),A.jsx("td",{className:"px-4 py-3 hidden md:table-cell max-w-xs truncate",title:re.direccion,children:re.direccion||"-"}),A.jsx("td",{className:"px-4 py-3 hidden sm:table-cell",children:re.telefono||"-"}),A.jsxs("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:[A.jsx("button",{onClick:()=>I(re),className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-md mr-1.5 transition-colors",title:"Editar Cliente",disabled:r,children:A.jsx(MO,{size:16})}),A.jsx("button",{onClick:()=>N(re.id),className:"p-1.5 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-md transition-colors",title:"Eliminar Cliente",disabled:r,children:A.jsx(_p,{size:16})})]})]},re.id))})]})})]})]})},uD=({onSubmit:n,initialData:e,isLoading:t,onCancel:r,categories:i})=>{const s={codigo:"",descripcion:"",stock:0,precioNeto:0,porcentajeContado:0,porcentajeFinanciado:0,categoriaId:""},[l,c]=ee.useState(s),[h,d]=ee.useState(0),[g,b]=ee.useState(0);ee.useEffect(()=>{c(e?{codigo:e.codigo||"",descripcion:e.descripcion||"",stock:e.stock||0,precioNeto:e.precioNeto||0,porcentajeContado:e.porcentajeContado||0,porcentajeFinanciado:e.porcentajeFinanciado||0,categoriaId:e.categoriaId||""}:s)},[e]),ee.useEffect(()=>{const N=parseFloat(l.precioNeto)||0,M=parseFloat(l.porcentajeContado)||0,H=parseFloat(l.porcentajeFinanciado)||0;d(N+N*M/100),b(N+N*H/100)},[l.precioNeto,l.porcentajeContado,l.porcentajeFinanciado]);const w=N=>{const{name:M,value:H,type:re}=N.target;c(K=>({...K,[M]:re==="number"?parseFloat(H)||0:H}))},x=N=>{if(N.preventDefault(),!l.codigo||!l.descripcion||!l.categoriaId||l.precioNeto<=0){alert("Cdigo, Descripcin, Categora y Precio Neto (mayor a 0) son obligatorios.");return}n({...l,precioContadoCalculado:parseFloat(h.toFixed(2)),precioFinanciadoCalculado:parseFloat(g.toFixed(2))})},C="w-full px-3 py-2 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",k="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",I="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10";return A.jsxs("form",{onSubmit:x,className:"space-y-5 p-5 sm:p-6 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow-xl border border-ui-border-light dark:border-ui-border-dark animate-slide-in-up",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"text-xl font-semibold text-text-dark dark:text-text-light",children:e?" Editar Producto":" Nuevo Producto"}),r&&A.jsx("button",{type:"button",onClick:r,className:"p-1 text-text-muted-light dark:text-text-muted-dark hover:text-secondary dark:hover:text-secondary-dark",children:A.jsx(dh,{size:20})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"codigo",className:"block text-sm font-medium mb-1",children:"Cdigo*"}),A.jsx("input",{type:"text",name:"codigo",id:"codigo",value:l.codigo,onChange:w,required:!0,className:`${C} ${k} ${I}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"categoriaId",className:"block text-sm font-medium mb-1",children:"Categora*"}),A.jsxs("select",{name:"categoriaId",id:"categoriaId",value:l.categoriaId,onChange:w,required:!0,className:`${C} ${k} ${I}`,children:[A.jsx("option",{value:"",disabled:!0,children:"Seleccione una categora"}),i.map(N=>A.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium mb-1",children:"Descripcin*"}),A.jsx("textarea",{name:"descripcion",id:"descripcion",value:l.descripcion,onChange:w,rows:"3",required:!0,className:`${C} ${k} ${I}`})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",children:"Stock*"}),A.jsx("input",{type:"number",name:"stock",id:"stock",value:l.stock,onChange:w,required:!0,min:"0",className:`${C} ${k} ${I}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"precioNeto",className:"block text-sm font-medium mb-1",children:"Precio Neto ($)*"}),A.jsx("input",{type:"number",name:"precioNeto",id:"precioNeto",value:l.precioNeto,onChange:w,required:!0,min:"0.01",step:"0.01",className:`${C} ${k} ${I}`})]})]}),A.jsxs("div",{className:"border-t border-ui-border-light dark:border-ui-border-dark pt-5 mt-3 space-y-5",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"porcentajeContado",className:"block text-sm font-medium mb-1",children:"Porcentaje Contado (%)"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(s2,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"number",name:"porcentajeContado",id:"porcentajeContado",value:l.porcentajeContado,onChange:w,min:"0",step:"0.01",className:`${C} ${k} ${I} pl-9`})]})]}),A.jsxs("div",{className:"p-2.5 bg-neutral-100 dark:bg-primary-light/5 rounded-md",children:[A.jsx("span",{className:"text-xs block text-text-muted-light dark:text-text-muted-dark",children:"Precio Contado Calculado:"}),A.jsxs("span",{className:"text-lg font-semibold text-secondary",children:["$",h.toFixed(2)]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"porcentajeFinanciado",className:"block text-sm font-medium mb-1",children:"Porcentaje Financiado (%)"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(s2,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"number",name:"porcentajeFinanciado",id:"porcentajeFinanciado",value:l.porcentajeFinanciado,onChange:w,min:"0",step:"0.01",className:`${C} ${k} ${I} pl-9`})]})]}),A.jsxs("div",{className:"p-2.5 bg-neutral-100 dark:bg-primary-light/5 rounded-md",children:[A.jsx("span",{className:"text-xs block text-text-muted-light dark:text-text-muted-dark",children:"Precio Financiado Calculado:"}),A.jsxs("span",{className:"text-lg font-semibold text-secondary",children:["$",g.toFixed(2)]})]})]})]}),A.jsxs("div",{className:"flex items-center justify-end gap-4 pt-3",children:[r&&A.jsx("button",{type:"button",onClick:r,disabled:t,className:"px-5 py-2 rounded-md text-sm font-medium text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-100 dark:hover:bg-primary-light/20 transition-colors",children:"Cancelar"}),A.jsxs("button",{type:"submit",disabled:t,className:"flex items-center justify-center gap-2 px-5 py-2 bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary dark:focus:ring-offset-form-bg-dark transition-all shadow-md hover:shadow-yellow-glow disabled:opacity-70",children:[t?A.jsx(Fa,{className:"animate-spin"}):e?A.jsx(w0,{}):A.jsx(Rd,{}),e?"Guardar Cambios":"Agregar Producto"]})]})]})},cD=()=>{const n=uu.currentUser,[e,t]=ee.useState([]),[r,i]=ee.useState([]),[s,l]=ee.useState(!1),[c,h]=ee.useState(!1),[d,g]=ee.useState(null),[b,w]=ee.useState(""),[x,C]=ee.useState(""),k=ee.useMemo(()=>js(Cr,"products"),[]),I=ee.useMemo(()=>js(Cr,"categories"),[]),N=ee.useCallback(()=>{w(""),C("")},[]);ee.useEffect(()=>{if(b||x){const V=setTimeout(N,4e3);return()=>clearTimeout(V)}},[b,x,N]),ee.useEffect(()=>{const V=cs(I,cl("name","asc")),P=eu(V,U=>{i(U.docs.map(Q=>({...Q.data(),id:Q.id})))},U=>console.error("Error cargando categoras para el form:",U));return()=>P()},[I]),ee.useEffect(()=>{l(!0);const V=cs(k,cl("descripcion","asc")),P=eu(V,U=>{t(U.docs.map(Q=>({...Q.data(),id:Q.id}))),l(!1)},U=>{console.error("Error cargando productos:",U),w("No se pudieron cargar los productos."),l(!1)});return()=>P()},[k]);const M=async V=>{N(),l(!0);const P=r.find(U=>U.id===V.categoriaId);try{const U={...V,categoriaNombre:P?P.name:"Desconocida",userId:n.uid};d?(U.updatedAt=lu(),await wp(ds(Cr,"products",d.id),U),C("Producto actualizado.")):(U.createdAt=lu(),await b0(k,U),C("Producto agregado.")),h(!1),g(null)}catch(U){console.error("Error guardando producto:",U),w(`Error al guardar producto: ${U.message}`)}finally{l(!1)}},H=V=>{N(),g(V),h(!0),window.scrollTo({top:0,behavior:"smooth"})},re=async V=>{if(N(),window.confirm("Eliminar este producto? Esta accin es irreversible.")){l(!0);try{await y0(ds(Cr,"products",V)),C("Producto eliminado.")}catch(P){console.error("Error eliminando producto:",P),w("Error al eliminar producto.")}finally{l(!1)}}},K=()=>{N(),g(null),h(!0),window.scrollTo({top:0,behavior:"smooth"})},ge=()=>{h(!1),g(null),N()};return A.jsxs("div",{className:"animate-fade-in",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 sm:mb-8",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(kg,{className:"text-secondary"})," Gestin de Productos"]}),!c&&A.jsxs("button",{onClick:K,className:"mt-3 sm:mt-0 flex items-center justify-center gap-2 px-5 py-2.5 bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary dark:focus:ring-offset-background-dark transition-all shadow-lg hover:shadow-yellow-glow disabled:opacity-70",children:[A.jsx(Rd,{size:18})," Nuevo Producto"]})]}),b&&A.jsxs("div",{className:"mb-6 p-3.5 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-3 text-sm text-red-700 dark:text-red-300",children:[A.jsx(Id,{size:18})," ",A.jsx("span",{children:b})]}),x&&A.jsxs("div",{className:"mb-6 p-3.5 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-3 text-sm text-green-700 dark:text-green-300",children:[A.jsx(cu,{size:18})," ",A.jsx("span",{children:x})]}),c&&A.jsx("div",{className:"mb-8 sm:mb-10",children:A.jsx(uD,{onSubmit:M,initialData:d,isLoading:s,onCancel:ge,categories:r})}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-4 sm:p-6 rounded-xl shadow-xl border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("h3",{className:"text-xl font-semibold mb-5 text-text-dark dark:text-text-light flex items-center gap-2",children:[A.jsx(BO,{})," Lista de Productos (",e.length,")"]}),s&&e.length===0&&A.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(Fa,{className:"animate-spin text-3xl sm:text-4xl text-secondary mb-3"})," ",A.jsx("p",{children:"Cargando productos..."})]}),!s&&e.length===0&&!c&&A.jsxs("div",{className:"text-center py-10 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(kg,{size:40,className:"mx-auto mb-3 opacity-50"}),A.jsx("p",{children:"No hay productos registrados."}),A.jsx("p",{className:"text-sm",children:'Agrega productos usando el botn "Nuevo Producto".'})]}),e.length>0&&A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full min-w-[900px] text-sm text-left",children:[A.jsx("thead",{className:"text-xs uppercase bg-neutral-100 dark:bg-primary-light/20 text-text-muted-light dark:text-text-muted-dark",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-3 py-3",children:"Cdigo"}),A.jsx("th",{scope:"col",className:"px-3 py-3",children:"Descripcin"}),A.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"Stock"}),A.jsx("th",{scope:"col",className:"px-3 py-3 text-right",children:"P. Neto"}),A.jsx("th",{scope:"col",className:"px-3 py-3 text-right",children:"P. Contado"}),A.jsx("th",{scope:"col",className:"px-3 py-3 text-right",children:"P. Financiado"}),A.jsx("th",{scope:"col",className:"px-3 py-3 hidden lg:table-cell",children:"Categora"}),A.jsx("th",{scope:"col",className:"px-3 py-3 text-center",children:"Acciones"})]})}),A.jsx("tbody",{className:"text-text-dark dark:text-text-light",children:e.map(V=>A.jsxs("tr",{className:"border-b border-ui-border-light dark:border-ui-border-dark hover:bg-neutral-50 dark:hover:bg-primary-light/5 transition-colors",children:[A.jsx("td",{className:"px-3 py-3 font-medium",children:V.codigo}),A.jsx("td",{className:"px-3 py-3 max-w-xs truncate",title:V.descripcion,children:V.descripcion}),A.jsx("td",{className:"px-3 py-3 text-center",children:V.stock}),A.jsxs("td",{className:"px-3 py-3 text-right",children:["$",(V.precioNeto||0).toFixed(2)]}),A.jsxs("td",{className:"px-3 py-3 text-right text-green-600 dark:text-green-400 font-semibold",children:["$",(V.precioContadoCalculado||0).toFixed(2)]}),A.jsxs("td",{className:"px-3 py-3 text-right text-blue-600 dark:text-blue-400 font-semibold",children:["$",(V.precioFinanciadoCalculado||0).toFixed(2)]}),A.jsx("td",{className:"px-3 py-3 hidden lg:table-cell",children:V.categoriaNombre||"N/A"}),A.jsxs("td",{className:"px-3 py-3 text-center whitespace-nowrap",children:[A.jsx("button",{onClick:()=>H(V),className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-md mr-1.5 transition-colors",title:"Editar Producto",disabled:s,children:A.jsx(By,{size:16})}),A.jsx("button",{onClick:()=>re(V.id),className:"p-1.5 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-md transition-colors",title:"Eliminar Producto",disabled:s,children:A.jsx(_p,{size:16})})]})]},V.id))})]})})]})]})},o_=({onSubmit:n,initialData:e,isLoading:t,onCancel:r})=>{const[i,s]=ee.useState("");ee.useEffect(()=>{s(e?e.name:"")},[e]);const l=async c=>{if(c.preventDefault(),!i.trim()){alert("El nombre de la categora no puede estar vaco.");return}await n({name:i.trim()}),e||s("")};return A.jsxs("form",{onSubmit:l,className:"p-4 mb-6 bg-neutral-50 dark:bg-primary-light/10 rounded-lg shadow-md border border-ui-border-light dark:border-ui-border-dark space-y-3 animate-slide-in-up",children:[A.jsx("h4",{className:"text-md font-semibold text-text-dark dark:text-text-light",children:e?" Editar Categora":" Nueva Categora"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"categoryName",className:"sr-only",children:"Nombre de Categora"}),A.jsx("input",{type:"text",id:"categoryName",value:i,onChange:c=>s(c.target.value),placeholder:"Ej: Lnea Blanca, Electrnicos",required:!0,className:"w-full px-3 py-2 border border-ui-border-light dark:border-ui-border-dark rounded-md focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light dark:bg-form-bg-dark text-text-dark dark:text-text-light"})]}),A.jsxs("div",{className:"flex justify-end gap-2",children:[r&&A.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-xs rounded-md text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-200 dark:hover:bg-primary-light/20 transition-colors",disabled:t,children:"Cancelar"}),A.jsxs("button",{type:"submit",disabled:t,className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-accent text-primary font-semibold rounded-md hover:bg-accent-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent dark:focus:ring-offset-form-bg-dark transition-colors disabled:opacity-70",children:[t?A.jsx(Fa,{className:"animate-spin"}):e?A.jsx(w0,{}):A.jsx(Rd,{}),e?"Guardar":"Agregar"]})]})]})},hD=()=>{const n=uu.currentUser,[e,t]=ee.useState([]),[r,i]=ee.useState(!1),[s,l]=ee.useState(null),[c,h]=ee.useState(!1),[d,g]=ee.useState(""),[b,w]=ee.useState(""),x=ee.useMemo(()=>js(Cr,"categories"),[]),C=ee.useCallback(()=>{g(""),w("")},[]);ee.useEffect(()=>{if(d||b){const N=setTimeout(C,4e3);return()=>clearTimeout(N)}},[d,b,C]),ee.useEffect(()=>{h(!0);const N=cs(x,cl("name","asc")),M=eu(N,H=>{t(H.docs.map(re=>({...re.data(),id:re.id}))),h(!1)},H=>{console.error("Error cargando categoras:",H),g("No se pudieron cargar las categoras."),h(!1)});return()=>M()},[x]);const k=async N=>{C(),h(!0);const M=N.name.toLowerCase(),H=cs(x,np("nameLower","==",M)),re=await Tg(H);if(!re.empty&&(!s||re.docs[0].id!==s.id)){g(`La categora "${N.name}" ya existe.`),h(!1);return}try{s?(await wp(ds(Cr,"categories",s.id),{name:N.name,nameLower:M,updatedAt:lu()}),w("Categora actualizada.")):(await b0(x,{name:N.name,nameLower:M,createdAt:lu(),userId:n.uid}),w("Categora agregada.")),i(!1),l(null)}catch(K){console.error("Error guardando categora:",K),g("Error al guardar la categora.")}finally{h(!1)}},I=async(N,M)=>{if(C(),window.confirm(`Eliminar categora "${M}"? Asegrate de que no est en uso.`)){h(!0);try{const H=cs(js(Cr,"products"),np("categoriaId","==",N)),re=await Tg(H);if(!re.empty){g(`"${M}" est asignada a ${re.size} producto(s) y no puede eliminarse.`),h(!1);return}await y0(ds(Cr,"categories",N)),w("Categora eliminada.")}catch(H){console.error("Error eliminando categora:",H),g("Error al eliminar la categora.")}finally{h(!1)}}};return A.jsxs("div",{className:"animate-fade-in",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(o2,{className:"text-accent"})," Gestin de Categoras"]}),A.jsxs("button",{onClick:()=>{l(null),i(!r),C()},className:"mt-3 sm:mt-0 flex items-center gap-1.5 px-4 py-2 text-sm bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-secondary dark:focus:ring-offset-background-dark transition-all shadow hover:shadow-md",children:[r&&!s?A.jsx(dh,{}):A.jsx(Rd,{}),r&&!s?"Cerrar Formulario":"Nueva Categora"]})]}),d&&A.jsxs("div",{className:"my-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-md flex items-center gap-2 text-sm text-red-700 dark:text-red-300",children:[A.jsx(Id,{})," ",A.jsx("span",{children:d})]}),b&&A.jsxs("div",{className:"my-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-md flex items-center gap-2 text-sm text-green-700 dark:text-green-300",children:[A.jsx(cu,{})," ",A.jsx("span",{children:b})]}),r&&!s&&A.jsx(o_,{onSubmit:k,isLoading:c,onCancel:()=>i(!1)}),s&&A.jsx(o_,{onSubmit:k,initialData:s,isLoading:c,onCancel:()=>{l(null),i(!1)}}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-4 sm:p-6 rounded-xl shadow-lg border border-ui-border-light dark:border-ui-border-dark mt-6",children:[c&&e.length===0&&A.jsx("div",{className:"text-center py-4",children:A.jsx(Fa,{className:"animate-spin text-2xl text-secondary mx-auto"})}),!c&&e.length===0&&A.jsxs("div",{className:"text-center py-6 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(o2,{size:36,className:"mx-auto mb-2 opacity-50"}),A.jsx("p",{children:"No hay categoras registradas."})]}),e.length>0&&A.jsx("ul",{className:"space-y-2 max-h-96 overflow-y-auto pr-1",children:e.map(N=>A.jsxs("li",{className:"flex justify-between items-center p-3 bg-neutral-100 dark:bg-primary-light/10 rounded-lg text-sm hover:shadow-md transition-shadow",children:[A.jsx("span",{className:"text-text-dark dark:text-text-light font-medium",children:N.name}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>{l(N),i(!0),C(),window.scrollTo({top:0,behavior:"smooth"})},className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-md transition-colors",title:"Editar",disabled:c,children:A.jsx(By,{size:16})}),A.jsx("button",{onClick:()=>I(N.id,N.name),className:"p-1.5 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-md transition-colors",title:"Eliminar",disabled:c,children:A.jsx(_p,{size:16})})]})]},N.id))})]})]})},l_=({onSubmit:n,initialData:e,isLoading:t,onCancel:r})=>{const[i,s]=ee.useState({cantidadMes:"",factorPlazo:"",factorTasa:"",ultimaCuotaGratis:!1});ee.useEffect(()=>{s(e?{cantidadMes:e.cantidadMes||"",factorPlazo:e.factorPlazo||"",factorTasa:e.factorTasa||"",ultimaCuotaGratis:e.ultimaCuotaGratis||!1}:{cantidadMes:"",factorPlazo:"",factorTasa:"",ultimaCuotaGratis:!1})},[e]);const l=w=>{const{name:x,value:C,type:k,checked:I}=w.target;let N=C;if(k==="checkbox")N=I;else if(x==="cantidadMes")N=C.replace(/[^0-9]/g,"");else{N=C.replace(/[^0-9.]/g,"");const M=N.split(".");M.length>2&&(N=M[0]+"."+M.slice(1).join(""))}s(M=>({...M,[x]:N}))},c=w=>{const{name:x,value:C}=w.target;C.trim()!==""&&x!=="cantidadMes"&&x!=="ultimaCuotaGratis"?s(k=>({...k,[x]:C})):x==="cantidadMes"&&C.trim()!==""&&s(k=>({...k,[x]:C}))},h=async w=>{w.preventDefault();const{cantidadMes:x,factorPlazo:C,factorTasa:k,ultimaCuotaGratis:I}=i;if(String(x).trim()===""||String(C).trim()===""||String(k).trim()===""){alert("Los campos Cantidad de Meses, Factor Plazo y Factor Tasa son obligatorios.");return}const N=parseInt(x,10),M=parseFloat(C),H=parseFloat(k);if(isNaN(N)||N<=0||isNaN(M)||M<0||isNaN(H)||H<0){alert("Por favor, ingresa nmeros vlidos. Cantidad de meses debe ser mayor a 0. Factores no pueden ser negativos.");return}await n({cantidadMes:N,factorPlazo:M,factorTasa:H,ultimaCuotaGratis:I}),e||s({cantidadMes:"",factorPlazo:"",factorTasa:"",ultimaCuotaGratis:!1})},d="w-full px-3 py-2 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",g="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",b="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10";return A.jsxs("form",{onSubmit:h,className:"p-4 mb-6 bg-neutral-50 dark:bg-primary-light/10 rounded-lg shadow-md border border-ui-border-light dark:border-ui-border-dark space-y-4 animate-slide-in-up",children:[A.jsx("h4",{className:"text-md font-semibold text-text-dark dark:text-text-light",children:e?" Editar Factor Plazo":" Nuevo Factor Plazo"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"cantidadMes",className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:"Cantidad de Meses*"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(RO,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"text",inputMode:"numeric",name:"cantidadMes",id:"cantidadMes",value:i.cantidadMes,onChange:l,onBlur:c,required:!0,className:`${d} ${g} ${b} pl-9`,placeholder:"Ej: 12"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"factorPlazo",className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:"Factor Plazo* (Ej: 0.15 o 1.25432)"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(XO,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"text",inputMode:"decimal",name:"factorPlazo",id:"factorPlazo",value:i.factorPlazo,onChange:l,onBlur:c,required:!0,className:`${d} ${g} ${b} pl-9`,placeholder:"Ej: 1.25"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"factorTasa",className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:"Factor Tasa* (Ej: 0.025 o 0.00123)"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(s2,{className:"text-text-muted-light dark:text-text-muted-dark"})}),A.jsx("input",{type:"text",inputMode:"decimal",name:"factorTasa",id:"factorTasa",value:i.factorTasa,onChange:l,onBlur:c,required:!0,className:`${d} ${g} ${b} pl-9`,placeholder:"Ej: 0.05"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[A.jsx("input",{type:"checkbox",name:"ultimaCuotaGratis",id:"ultimaCuotaGratis",checked:i.ultimaCuotaGratis,onChange:l,className:"h-4 w-4 text-accent rounded border-gray-300 focus:ring-accent"}),A.jsxs("label",{htmlFor:"ultimaCuotaGratis",className:"text-xs font-medium text-text-muted-light dark:text-text-muted-dark",children:["ltima cuota es gratis? ",A.jsx(OA,{className:"inline mb-0.5"})]})]}),A.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r&&A.jsx("button",{type:"button",onClick:r,className:"px-3 py-1.5 text-xs rounded-md text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-200 dark:hover:bg-primary-light/20 transition-colors",disabled:t,children:"Cancelar"}),A.jsxs("button",{type:"submit",disabled:t,className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-accent text-primary font-semibold rounded-md hover:bg-accent-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent dark:focus:ring-offset-form-bg-dark transition-colors disabled:opacity-70",children:[t?A.jsx(Fa,{className:"animate-spin"}):e?A.jsx(w0,{}):A.jsx(Rd,{}),e?"Guardar":"Agregar"]})]})]})},dD=()=>{const n=uu.currentUser,[e,t]=ee.useState([]),[r,i]=ee.useState(!1),[s,l]=ee.useState(null),[c,h]=ee.useState(!1),[d,g]=ee.useState(""),[b,w]=ee.useState(""),x=ee.useMemo(()=>js(Cr,"factorPlazos"),[]),C=ee.useCallback(()=>{g(""),w("")},[]);ee.useEffect(()=>{if(d||b){const N=setTimeout(C,4e3);return()=>clearTimeout(N)}},[d,b,C]),ee.useEffect(()=>{h(!0);const N=cs(x,cl("cantidadMes","asc")),M=eu(N,H=>{t(H.docs.map(re=>({...re.data(),id:re.id}))),h(!1)},H=>{console.error("Error cargando factores:",H),g("No se pudieron cargar los factores de plazo."),h(!1)});return()=>M()},[x]);const k=async N=>{C(),h(!0);const M=cs(x,np("cantidadMes","==",N.cantidadMes)),H=await Tg(M);if(!H.empty&&(!s||H.docs[0].id!==s.id)){g(`Ya existe un factor para ${N.cantidadMes} mes(es).`),h(!1);return}try{s?(await wp(ds(Cr,"factorPlazos",s.id),{...N,updatedAt:lu()}),w("Factor Plazo actualizado.")):(await b0(x,{...N,createdAt:lu(),userId:n.uid}),w("Factor Plazo agregado.")),i(!1),l(null)}catch(re){console.error("Error guardando factor:",re),g("Error al guardar el Factor Plazo.")}finally{h(!1)}},I=async(N,M)=>{if(C(),window.confirm(`Eliminar factor para ${M} mes(es)?`)){h(!0);try{await y0(ds(Cr,"factorPlazos",N)),w("Factor Plazo eliminado.")}catch(H){console.error("Error eliminando factor:",H),g("Error al eliminar el Factor Plazo.")}finally{h(!1)}}};return A.jsxs("div",{className:"animate-fade-in",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(a2,{className:"text-accent"})," Gestin de Factor Plazo"]}),A.jsxs("button",{onClick:()=>{l(null),i(!r),C()},className:"mt-3 sm:mt-0 flex items-center gap-1.5 px-4 py-2 text-sm bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-secondary dark:focus:ring-offset-background-dark transition-all shadow hover:shadow-md",children:[r&&!s?A.jsx(dh,{}):A.jsx(Rd,{}),r&&!s?"Cerrar Formulario":"Nuevo Factor"]})]}),d&&A.jsxs("div",{className:"my-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-md flex items-center gap-2 text-sm text-red-700 dark:text-red-300",children:[A.jsx(Id,{})," ",A.jsx("span",{children:d})]}),b&&A.jsxs("div",{className:"my-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-md flex items-center gap-2 text-sm text-green-700 dark:text-green-300",children:[A.jsx(cu,{})," ",A.jsx("span",{children:b})]}),r&&!s&&A.jsx(l_,{onSubmit:k,isLoading:c,onCancel:()=>i(!1)}),s&&A.jsx(l_,{onSubmit:k,initialData:s,isLoading:c,onCancel:()=>{l(null),i(!1)}}),A.jsxs("div",{className:"bg-form-bg-light dark:bg-form-bg-dark p-4 sm:p-6 rounded-xl shadow-lg border border-ui-border-light dark:border-ui-border-dark mt-6",children:[c&&e.length===0&&A.jsx("div",{className:"text-center py-4",children:A.jsx(Fa,{className:"animate-spin text-2xl text-secondary mx-auto"})}),!c&&e.length===0&&A.jsxs("div",{className:"text-center py-6 text-text-muted-light dark:text-text-muted-dark",children:[A.jsx(a2,{size:36,className:"mx-auto mb-2 opacity-50"}),A.jsx("p",{children:"No hay factores de plazo registrados."})]}),e.length>0&&A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full min-w-[600px] text-sm text-left",children:[A.jsx("thead",{className:"text-xs uppercase bg-neutral-100 dark:bg-primary-light/20 text-text-muted-light dark:text-text-muted-dark",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Meses"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Factor Plazo"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Factor Tasa"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"ltima Cuota Gratis"})," ",A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Acciones"})]})}),A.jsx("tbody",{className:"text-text-dark dark:text-text-light",children:e.map(N=>A.jsxs("tr",{className:"border-b border-ui-border-light dark:border-ui-border-dark hover:bg-neutral-50 dark:hover:bg-primary-light/5 transition-colors",children:[A.jsx("td",{className:"px-4 py-3 font-medium text-center",children:N.cantidadMes}),A.jsx("td",{className:"px-4 py-3 text-right",children:(typeof N.factorPlazo=="number"?N.factorPlazo:0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:5})}),A.jsx("td",{className:"px-4 py-3 text-right",children:(typeof N.factorTasa=="number"?N.factorTasa:0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:5})}),A.jsxs("td",{className:"px-4 py-3 text-center",children:[" ",N.ultimaCuotaGratis?A.jsx(OA,{className:"text-green-500 mx-auto",title:"S"}):A.jsx("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:"-"})]}),A.jsxs("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:[A.jsx("button",{onClick:()=>{l(N),i(!0),C(),window.scrollTo({top:0,behavior:"smooth"})},className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-md mr-1.5 transition-colors",title:"Editar Factor",disabled:c,children:A.jsx(By,{size:16})}),A.jsx("button",{onClick:()=>I(N.id,N.cantidadMes),className:"p-1.5 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-md transition-colors",title:"Eliminar Factor",disabled:c,children:A.jsx(_p,{size:16})})]})]},N.id))})]})})]})]})};function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(n)}function fD(n,e){if(zn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(zn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jA(n){var e=fD(n,"string");return zn(e)=="symbol"?e:e+""}function Of(n,e,t){return(e=jA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(t),!0).forEach(function(r){Of(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pD(n){if(Array.isArray(n))return n}function mD(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,l,c=[],h=!0,d=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(r=s.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(g){d=!0,i=g}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function l2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function FA(n,e){if(n){if(typeof n=="string")return l2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l2(n,e):void 0}}function gD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tu(n,e){return pD(n)||mD(n,e)||FA(n,e)||gD()}function vD(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function pu(n,e){if(n==null)return{};var t,r,i=vD(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var yD=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bD(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,s=n.defaultValue,l=s===void 0?null:s,c=n.inputValue,h=n.menuIsOpen,d=n.onChange,g=n.onInputChange,b=n.onMenuClose,w=n.onMenuOpen,x=n.value,C=pu(n,yD),k=ee.useState(c!==void 0?c:t),I=tu(k,2),N=I[0],M=I[1],H=ee.useState(h!==void 0?h:i),re=tu(H,2),K=re[0],ge=re[1],V=ee.useState(x!==void 0?x:l),P=tu(V,2),U=P[0],Q=P[1],O=ee.useCallback(function(fe,Le){typeof d=="function"&&d(fe,Le),Q(fe)},[d]),D=ee.useCallback(function(fe,Le){var J;typeof g=="function"&&(J=g(fe,Le)),M(J!==void 0?J:fe)},[g]),B=ee.useCallback(function(){typeof w=="function"&&w(),ge(!0)},[w]),he=ee.useCallback(function(){typeof b=="function"&&b(),ge(!1)},[b]),be=c!==void 0?c:N,ie=h!==void 0?h:K,pe=x!==void 0?x:U;return Gt(Gt({},C),{},{inputValue:be,menuIsOpen:ie,onChange:O,onInputChange:D,onMenuClose:he,onMenuOpen:B,value:pe})}function Qt(){return Qt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qt.apply(null,arguments)}function xD(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function c_(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jA(r.key),r)}}function wD(n,e,t){return e&&c_(n.prototype,e),t&&c_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function u2(n,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},u2(n,e)}function _D(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&u2(n,e)}function Ig(n){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ig(n)}function VA(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VA=function(){return!!n})()}function SD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function AD(n,e){if(e&&(zn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SD(n)}function ED(n){var e=VA();return function(){var t,r=Ig(n);if(e){var i=Ig(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return AD(this,t)}}function TD(n){if(Array.isArray(n))return l2(n)}function ND(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function CD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uy(n){return TD(n)||ND(n)||FA(n)||CD()}function kD(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function ID(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RD=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ID(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kD(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),sa="-ms-",Rg="-moz-",Xn="-webkit-",BA="comm",zy="rule",qy="decl",PD="@import",UA="@keyframes",LD="@layer",OD=Math.abs,_0=String.fromCharCode,DD=Object.assign;function MD(n,e){return Ui(n,0)^45?(((e<<2^Ui(n,0))<<2^Ui(n,1))<<2^Ui(n,2))<<2^Ui(n,3):0}function zA(n){return n.trim()}function jD(n,e){return(n=e.exec(n))?n[0]:n}function Qn(n,e,t){return n.replace(e,t)}function c2(n,e){return n.indexOf(e)}function Ui(n,e){return n.charCodeAt(e)|0}function rp(n,e,t){return n.slice(e,t)}function rl(n){return n.length}function Hy(n){return n.length}function Cm(n,e){return e.push(n),n}function FD(n,e){return n.map(e).join("")}var S0=1,bd=1,qA=0,Va=0,hi=0,Pd="";function A0(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:S0,column:bd,length:l,return:""}}function _f(n,e){return DD(A0("",null,null,"",null,null,0),n,{length:-n.length},e)}function VD(){return hi}function BD(){return hi=Va>0?Ui(Pd,--Va):0,bd--,hi===10&&(bd=1,S0--),hi}function hs(){return hi=Va<qA?Ui(Pd,Va++):0,bd++,hi===10&&(bd=1,S0++),hi}function hl(){return Ui(Pd,Va)}function Xm(){return Va}function Sp(n,e){return rp(Pd,n,e)}function ip(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HA(n){return S0=bd=1,qA=rl(Pd=n),Va=0,[]}function $A(n){return Pd="",n}function Qm(n){return zA(Sp(Va-1,h2(n===91?n+2:n===40?n+1:n)))}function UD(n){for(;(hi=hl())&&hi<33;)hs();return ip(n)>2||ip(hi)>3?"":" "}function zD(n,e){for(;--e&&hs()&&!(hi<48||hi>102||hi>57&&hi<65||hi>70&&hi<97););return Sp(n,Xm()+(e<6&&hl()==32&&hs()==32))}function h2(n){for(;hs();)switch(hi){case n:return Va;case 34:case 39:n!==34&&n!==39&&h2(hi);break;case 40:n===41&&h2(n);break;case 92:hs();break}return Va}function qD(n,e){for(;hs()&&n+hi!==57;)if(n+hi===84&&hl()===47)break;return"/*"+Sp(e,Va-1)+"*"+_0(n===47?n:hs())}function HD(n){for(;!ip(hl());)hs();return Sp(n,Va)}function $D(n){return $A(Jm("",null,null,null,[""],n=HA(n),0,[0],n))}function Jm(n,e,t,r,i,s,l,c,h){for(var d=0,g=0,b=l,w=0,x=0,C=0,k=1,I=1,N=1,M=0,H="",re=i,K=s,ge=r,V=H;I;)switch(C=M,M=hs()){case 40:if(C!=108&&Ui(V,b-1)==58){c2(V+=Qn(Qm(M),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:V+=Qm(M);break;case 9:case 10:case 13:case 32:V+=UD(C);break;case 92:V+=zD(Xm()-1,7);continue;case 47:switch(hl()){case 42:case 47:Cm(GD(qD(hs(),Xm()),e,t),h);break;default:V+="/"}break;case 123*k:c[d++]=rl(V)*N;case 125*k:case 59:case 0:switch(M){case 0:case 125:I=0;case 59+g:N==-1&&(V=Qn(V,/\f/g,"")),x>0&&rl(V)-b&&Cm(x>32?d_(V+";",r,t,b-1):d_(Qn(V," ","")+";",r,t,b-2),h);break;case 59:V+=";";default:if(Cm(ge=h_(V,e,t,d,g,i,c,H,re=[],K=[],b),s),M===123)if(g===0)Jm(V,e,ge,ge,re,s,b,c,K);else switch(w===99&&Ui(V,3)===110?100:w){case 100:case 108:case 109:case 115:Jm(n,ge,ge,r&&Cm(h_(n,ge,ge,0,0,i,c,H,i,re=[],b),K),i,K,b,c,r?re:K);break;default:Jm(V,ge,ge,ge,[""],K,0,c,K)}}d=g=x=0,k=N=1,H=V="",b=l;break;case 58:b=1+rl(V),x=C;default:if(k<1){if(M==123)--k;else if(M==125&&k++==0&&BD()==125)continue}switch(V+=_0(M),M*k){case 38:N=g>0?1:(V+="\f",-1);break;case 44:c[d++]=(rl(V)-1)*N,N=1;break;case 64:hl()===45&&(V+=Qm(hs())),w=hl(),g=b=rl(H=V+=HD(Xm())),M++;break;case 45:C===45&&rl(V)==2&&(k=0)}}return s}function h_(n,e,t,r,i,s,l,c,h,d,g){for(var b=i-1,w=i===0?s:[""],x=Hy(w),C=0,k=0,I=0;C<r;++C)for(var N=0,M=rp(n,b+1,b=OD(k=l[C])),H=n;N<x;++N)(H=zA(k>0?w[N]+" "+M:Qn(M,/&\f/g,w[N])))&&(h[I++]=H);return A0(n,e,t,i===0?zy:c,h,d,g)}function GD(n,e,t){return A0(n,e,t,BA,_0(VD()),rp(n,2,-2),0)}function d_(n,e,t,r){return A0(n,e,t,qy,rp(n,0,r),rp(n,r+1,-1),r)}function id(n,e){for(var t="",r=Hy(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function WD(n,e,t,r){switch(n.type){case LD:if(n.children.length)break;case PD:case qy:return n.return=n.return||n.value;case BA:return"";case UA:return n.return=n.value+"{"+id(n.children,r)+"}";case zy:n.value=n.props.join(",")}return rl(t=id(n.children,r))?n.return=n.value+"{"+t+"}":""}function YD(n){var e=Hy(n);return function(t,r,i,s){for(var l="",c=0;c<e;c++)l+=n[c](t,r,i,s)||"";return l}}function KD(n){return function(e){e.root||(e=e.return)&&n(e)}}function XD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var QD=function(e,t,r){for(var i=0,s=0;i=s,s=hl(),i===38&&s===12&&(t[r]=1),!ip(s);)hs();return Sp(e,Va)},JD=function(e,t){var r=-1,i=44;do switch(ip(i)){case 0:i===38&&hl()===12&&(t[r]=1),e[r]+=QD(Va-1,t,r);break;case 2:e[r]+=Qm(i);break;case 4:if(i===44){e[++r]=hl()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=_0(i)}while(i=hs());return e},ZD=function(e,t){return $A(JD(HA(e),t))},f_=new WeakMap,eM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!f_.get(r))&&!i){f_.set(e,!0);for(var s=[],l=ZD(t,s),c=r.props,h=0,d=0;h<l.length;h++)for(var g=0;g<c.length;g++,d++)e.props[d]=s[h]?l[h].replace(/&\f/g,c[g]):c[g]+" "+l[h]}}},tM=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function GA(n,e){switch(MD(n,e)){case 5103:return Xn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xn+n+Rg+n+sa+n+n;case 6828:case 4268:return Xn+n+sa+n+n;case 6165:return Xn+n+sa+"flex-"+n+n;case 5187:return Xn+n+Qn(n,/(\w+).+(:[^]+)/,Xn+"box-$1$2"+sa+"flex-$1$2")+n;case 5443:return Xn+n+sa+"flex-item-"+Qn(n,/flex-|-self/,"")+n;case 4675:return Xn+n+sa+"flex-line-pack"+Qn(n,/align-content|flex-|-self/,"")+n;case 5548:return Xn+n+sa+Qn(n,"shrink","negative")+n;case 5292:return Xn+n+sa+Qn(n,"basis","preferred-size")+n;case 6060:return Xn+"box-"+Qn(n,"-grow","")+Xn+n+sa+Qn(n,"grow","positive")+n;case 4554:return Xn+Qn(n,/([^-])(transform)/g,"$1"+Xn+"$2")+n;case 6187:return Qn(Qn(Qn(n,/(zoom-|grab)/,Xn+"$1"),/(image-set)/,Xn+"$1"),n,"")+n;case 5495:case 3959:return Qn(n,/(image-set\([^]*)/,Xn+"$1$`$1");case 4968:return Qn(Qn(n,/(.+:)(flex-)?(.*)/,Xn+"box-pack:$3"+sa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xn+n+n;case 4095:case 3583:case 4068:case 2532:return Qn(n,/(.+)-inline(.+)/,Xn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rl(n)-1-e>6)switch(Ui(n,e+1)){case 109:if(Ui(n,e+4)!==45)break;case 102:return Qn(n,/(.+:)(.+)-([^]+)/,"$1"+Xn+"$2-$3$1"+Rg+(Ui(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~c2(n,"stretch")?GA(Qn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ui(n,e+1)!==115)break;case 6444:switch(Ui(n,rl(n)-3-(~c2(n,"!important")&&10))){case 107:return Qn(n,":",":"+Xn)+n;case 101:return Qn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xn+(Ui(n,14)===45?"inline-":"")+"box$3$1"+Xn+"$2$3$1"+sa+"$2box$3")+n}break;case 5936:switch(Ui(n,e+11)){case 114:return Xn+n+sa+Qn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xn+n+sa+Qn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xn+n+sa+Qn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Xn+n+sa+n+n}return n}var nM=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case qy:e.return=GA(e.value,e.length);break;case UA:return id([_f(e,{value:Qn(e.value,"@","@"+Xn)})],i);case zy:if(e.length)return FD(e.props,function(s){switch(jD(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return id([_f(e,{props:[Qn(s,/:(read-\w+)/,":"+Rg+"$1")]})],i);case"::placeholder":return id([_f(e,{props:[Qn(s,/:(plac\w+)/,":"+Xn+"input-$1")]}),_f(e,{props:[Qn(s,/:(plac\w+)/,":"+Rg+"$1")]}),_f(e,{props:[Qn(s,/:(plac\w+)/,sa+"input-$1")]})],i)}return""})}},rM=[nM],iM=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var I=k.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=e.stylisPlugins||rM,s={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(k){for(var I=k.getAttribute("data-emotion").split(" "),N=1;N<I.length;N++)s[I[N]]=!0;c.push(k)});var h,d=[eM,tM];{var g,b=[WD,KD(function(k){g.insert(k)})],w=YD(d.concat(i,b)),x=function(I){return id($D(I),w)};h=function(I,N,M,H){g=M,x(I?I+"{"+N.styles+"}":N.styles),H&&(C.inserted[N.name]=!0)}}var C={key:t,sheet:new RD({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:h};return C.sheet.hydrate(c),C},av={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function aM(){if(p_)return er;p_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,w=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,C=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,N=n?Symbol.for("react.responder"):60118,M=n?Symbol.for("react.scope"):60119;function H(K){if(typeof K=="object"&&K!==null){var ge=K.$$typeof;switch(ge){case e:switch(K=K.type,K){case h:case d:case r:case s:case i:case b:return K;default:switch(K=K&&K.$$typeof,K){case c:case g:case C:case x:case l:return K;default:return ge}}case t:return ge}}}function re(K){return H(K)===d}return er.AsyncMode=h,er.ConcurrentMode=d,er.ContextConsumer=c,er.ContextProvider=l,er.Element=e,er.ForwardRef=g,er.Fragment=r,er.Lazy=C,er.Memo=x,er.Portal=t,er.Profiler=s,er.StrictMode=i,er.Suspense=b,er.isAsyncMode=function(K){return re(K)||H(K)===h},er.isConcurrentMode=re,er.isContextConsumer=function(K){return H(K)===c},er.isContextProvider=function(K){return H(K)===l},er.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},er.isForwardRef=function(K){return H(K)===g},er.isFragment=function(K){return H(K)===r},er.isLazy=function(K){return H(K)===C},er.isMemo=function(K){return H(K)===x},er.isPortal=function(K){return H(K)===t},er.isProfiler=function(K){return H(K)===s},er.isStrictMode=function(K){return H(K)===i},er.isSuspense=function(K){return H(K)===b},er.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===r||K===d||K===s||K===i||K===b||K===w||typeof K=="object"&&K!==null&&(K.$$typeof===C||K.$$typeof===x||K.$$typeof===l||K.$$typeof===c||K.$$typeof===g||K.$$typeof===I||K.$$typeof===N||K.$$typeof===M||K.$$typeof===k)},er.typeOf=H,er}var m_;function sM(){return m_||(m_=1,av.exports=aM()),av.exports}var sv,g_;function oM(){if(g_)return sv;g_=1;var n=sM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function l(C){return n.isMemo(C)?i:s[C.$$typeof]||e}var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,w=Object.prototype;function x(C,k,I){if(typeof k!="string"){if(w){var N=b(k);N&&N!==w&&x(C,N,I)}var M=h(k);d&&(M=M.concat(d(k)));for(var H=l(C),re=l(k),K=0;K<M.length;++K){var ge=M[K];if(!t[ge]&&!(I&&I[ge])&&!(re&&re[ge])&&!(H&&H[ge])){var V=g(k,ge);try{c(C,ge,V)}catch{}}}}return C}return sv=x,sv}oM();var lM=!0;function uM(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var WA=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||lM===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},cM=function(e,t,r){WA(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function hM(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var dM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fM=/[A-Z]|^ms/g,pM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YA=function(e){return e.charCodeAt(1)===45},v_=function(e){return e!=null&&typeof e!="boolean"},ov=XD(function(n){return YA(n)?n:n.replace(fM,"-$&").toLowerCase()}),y_=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(pM,function(r,i,s){return il={name:i,styles:s,next:il},i})}return dM[e]!==1&&!YA(e)&&typeof t=="number"&&t!==0?t+"px":t};function ap(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return il={name:i.name,styles:i.styles,next:il},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)il={name:l.name,styles:l.styles,next:il},l=l.next;var c=s.styles+";";return c}return mM(n,e,t)}case"function":{if(n!==void 0){var h=il,d=t(n);return il=h,ap(n,e,d)}break}}var g=t;return g}function mM(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ap(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var c=l;v_(c)&&(r+=ov(s)+":"+y_(s,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var h=0;h<l.length;h++)v_(l[h])&&(r+=ov(s)+":"+y_(s,l[h])+";");else{var d=ap(n,e,l);switch(s){case"animation":case"animationName":{r+=ov(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var b_=/label:\s*([^\s;{]+)\s*(;|$)/g,il;function KA(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";il=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=ap(t,e,s);else{var l=s;i+=l[0]}for(var c=1;c<n.length;c++)if(i+=ap(t,e,n[c]),r){var h=s;i+=h[c]}b_.lastIndex=0;for(var d="",g;(g=b_.exec(i))!==null;)d+="-"+g[1];var b=hM(i)+d;return{name:b,styles:i,next:il}}var gM=function(e){return e()},vM=nx.useInsertionEffect?nx.useInsertionEffect:!1,yM=vM||gM,XA=ee.createContext(typeof HTMLElement<"u"?iM({key:"css"}):null);XA.Provider;var bM=function(e){return ee.forwardRef(function(t,r){var i=ee.useContext(XA);return e(t,i,r)})},xM=ee.createContext({}),$y={}.hasOwnProperty,d2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wM=function(e,t){var r={};for(var i in t)$y.call(t,i)&&(r[i]=t[i]);return r[d2]=e,r},_M=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return WA(t,r,i),yM(function(){return cM(t,r,i)}),null},SM=bM(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[d2],s=[r],l="";typeof n.className=="string"?l=uM(e.registered,s,n.className):n.className!=null&&(l=n.className+" ");var c=KA(s,void 0,ee.useContext(xM));l+=e.key+"-"+c.name;var h={};for(var d in n)$y.call(n,d)&&d!=="css"&&d!==d2&&(h[d]=n[d]);return h.className=l,t&&(h.ref=t),ee.createElement(ee.Fragment,null,ee.createElement(_M,{cache:e,serialized:c,isStringTag:typeof i=="string"}),ee.createElement(i,h))}),AM=SM,Ut=function(e,t){var r=arguments;if(t==null||!$y.call(t,"css"))return ee.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=AM,s[1]=wM(e,t);for(var l=2;l<i;l++)s[l]=r[l];return ee.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Ut||(Ut={}));function Gy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return KA(e)}function EM(){var n=Gy.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function TM(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const NM=Math.min,CM=Math.max,Pg=Math.round,km=Math.floor,Lg=n=>({x:n,y:n});function kM(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function E0(){return typeof window<"u"}function QA(n){return ZA(n)?(n.nodeName||"").toLowerCase():"#document"}function hu(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function JA(n){var e;return(e=(ZA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function ZA(n){return E0()?n instanceof Node||n instanceof hu(n).Node:!1}function IM(n){return E0()?n instanceof Element||n instanceof hu(n).Element:!1}function Wy(n){return E0()?n instanceof HTMLElement||n instanceof hu(n).HTMLElement:!1}function x_(n){return!E0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof hu(n).ShadowRoot}function eE(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Yy(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function RM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function PM(n){return["html","body","#document"].includes(QA(n))}function Yy(n){return hu(n).getComputedStyle(n)}function LM(n){if(QA(n)==="html")return n;const e=n.assignedSlot||n.parentNode||x_(n)&&n.host||JA(n);return x_(e)?e.host:e}function tE(n){const e=LM(n);return PM(e)?n.ownerDocument?n.ownerDocument.body:n.body:Wy(e)&&eE(e)?e:tE(e)}function Og(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=tE(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),l=hu(i);if(s){const c=f2(l);return e.concat(l,l.visualViewport||[],eE(i)?i:[],c&&t?Og(c):[])}return e.concat(i,Og(i,[],t))}function f2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function OM(n){const e=Yy(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wy(n),s=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Pg(t)!==s||Pg(r)!==l;return c&&(t=s,r=l),{width:t,height:r,$:c}}function Ky(n){return IM(n)?n:n.contextElement}function w_(n){const e=Ky(n);if(!Wy(e))return Lg(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=OM(e);let l=(s?Pg(t.width):t.width)/r,c=(s?Pg(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const DM=Lg(0);function MM(n){const e=hu(n);return!RM()||!e.visualViewport?DM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jM(n,e,t){return!1}function __(n,e,t,r){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=Ky(n);let l=Lg(1);e&&(l=w_(n));const c=jM()?MM(s):Lg(0);let h=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,g=i.width/l.x,b=i.height/l.y;if(s){const w=hu(s),x=r;let C=w,k=f2(C);for(;k&&r&&x!==C;){const I=w_(k),N=k.getBoundingClientRect(),M=Yy(k),H=N.left+(k.clientLeft+parseFloat(M.paddingLeft))*I.x,re=N.top+(k.clientTop+parseFloat(M.paddingTop))*I.y;h*=I.x,d*=I.y,g*=I.x,b*=I.y,h+=H,d+=re,C=hu(k),k=f2(C)}}return kM({width:g,height:b,x:h,y:d})}function nE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function FM(n,e){let t=null,r;const i=JA(n);function s(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),s();const d=n.getBoundingClientRect(),{left:g,top:b,width:w,height:x}=d;if(c||e(),!w||!x)return;const C=km(b),k=km(i.clientWidth-(g+w)),I=km(i.clientHeight-(b+x)),N=km(g),H={rootMargin:-C+"px "+-k+"px "+-I+"px "+-N+"px",threshold:CM(0,NM(1,h))||1};let re=!0;function K(ge){const V=ge[0].intersectionRatio;if(V!==h){if(!re)return l();V?l(!1,V):r=setTimeout(()=>{l(!1,1e-7)},1e3)}V===1&&!nE(d,n.getBoundingClientRect())&&l(),re=!1}try{t=new IntersectionObserver(K,{...H,root:i.ownerDocument})}catch{t=new IntersectionObserver(K,H)}t.observe(n)}return l(!0),s}function VM(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=Ky(n),g=i||s?[...d?Og(d):[],...Og(e)]:[];g.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),s&&N.addEventListener("resize",t)});const b=d&&c?FM(d,t):null;let w=-1,x=null;l&&(x=new ResizeObserver(N=>{let[M]=N;M&&M.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var H;(H=x)==null||H.observe(e)})),t()}),d&&!h&&x.observe(d),x.observe(e));let C,k=h?__(n):null;h&&I();function I(){const N=__(n);k&&!nE(k,N)&&t(),k=N,C=requestAnimationFrame(I)}return t(),()=>{var N;g.forEach(M=>{i&&M.removeEventListener("scroll",t),s&&M.removeEventListener("resize",t)}),b==null||b(),(N=x)==null||N.disconnect(),x=null,h&&cancelAnimationFrame(C)}}var p2=ee.useLayoutEffect,BM=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Dg=function(){};function UM(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function zM(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&n)for(var l in e)e.hasOwnProperty(l)&&e[l]&&s.push("".concat(UM(n,l)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var S_=function(e){return QM(e)?e.filter(Boolean):zn(e)==="object"&&e!==null?[e]:[]},rE=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=pu(e,BM);return Gt({},t)},$r=function(e,t,r){var i=e.cx,s=e.getStyles,l=e.getClassNames,c=e.className;return{css:s(t,e),className:i(r??{},l(t,e),c)}};function T0(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function qM(n){return T0(n)?window.innerHeight:n.clientHeight}function iE(n){return T0(n)?window.pageYOffset:n.scrollTop}function Mg(n,e){if(T0(n)){window.scrollTo(0,e);return}n.scrollTop=e}function HM(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function $M(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Im(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dg,i=iE(n),s=e-i,l=10,c=0;function h(){c+=l;var d=$M(c,i,s,t);Mg(n,d),c<t?window.requestAnimationFrame(h):r(n)}h()}function A_(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?Mg(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&Mg(n,Math.max(e.offsetTop-i,0))}function GM(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function E_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function WM(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var aE=!1,YM={get passive(){return aE=!0}},Rm=typeof window<"u"?window:{};Rm.addEventListener&&Rm.removeEventListener&&(Rm.addEventListener("p",Dg,YM),Rm.removeEventListener("p",Dg,!1));var KM=aE;function XM(n){return n!=null}function QM(n){return Array.isArray(n)}function Pm(n,e,t){return n?e:t}var JM=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(l){var c=tu(l,1),h=c[0];return!r.includes(h)});return s.reduce(function(l,c){var h=tu(c,2),d=h[0],g=h[1];return l[d]=g,l},{})},ZM=["children","innerProps"],ej=["children","innerProps"];function tj(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,s=n.shouldScroll,l=n.isFixedPosition,c=n.controlHeight,h=HM(t),d={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return d;var g=h.getBoundingClientRect(),b=g.height,w=t.getBoundingClientRect(),x=w.bottom,C=w.height,k=w.top,I=t.offsetParent.getBoundingClientRect(),N=I.top,M=l?window.innerHeight:qM(h),H=iE(h),re=parseInt(getComputedStyle(t).marginBottom,10),K=parseInt(getComputedStyle(t).marginTop,10),ge=N-K,V=M-k,P=ge+H,U=b-H-k,Q=x-M+H+re,O=H+k-K,D=160;switch(i){case"auto":case"bottom":if(V>=C)return{placement:"bottom",maxHeight:e};if(U>=C&&!l)return s&&Im(h,Q,D),{placement:"bottom",maxHeight:e};if(!l&&U>=r||l&&V>=r){s&&Im(h,Q,D);var B=l?V-re:U-re;return{placement:"bottom",maxHeight:B}}if(i==="auto"||l){var he=e,be=l?ge:P;return be>=r&&(he=Math.min(be-re-c,e)),{placement:"top",maxHeight:he}}if(i==="bottom")return s&&Mg(h,Q),{placement:"bottom",maxHeight:e};break;case"top":if(ge>=C)return{placement:"top",maxHeight:e};if(P>=C&&!l)return s&&Im(h,O,D),{placement:"top",maxHeight:e};if(!l&&P>=r||l&&ge>=r){var ie=e;return(!l&&P>=r||l&&ge>=r)&&(ie=l?ge-K:P-K),s&&Im(h,O,D),{placement:"top",maxHeight:ie}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function nj(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var sE=function(e){return e==="auto"?"bottom":e},rj=function(e,t){var r,i=e.placement,s=e.theme,l=s.borderRadius,c=s.spacing,h=s.colors;return Gt((r={label:"menu"},Of(r,nj(i),"100%"),Of(r,"position","absolute"),Of(r,"width","100%"),Of(r,"zIndex",1),r),t?{}:{backgroundColor:h.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},oE=ee.createContext(null),ij=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,h=e.theme,d=ee.useContext(oE)||{},g=d.setPortalPlacement,b=ee.useRef(null),w=ee.useState(i),x=tu(w,2),C=x[0],k=x[1],I=ee.useState(null),N=tu(I,2),M=N[0],H=N[1],re=h.spacing.controlHeight;return p2(function(){var K=b.current;if(K){var ge=l==="fixed",V=c&&!ge,P=tj({maxHeight:i,menuEl:K,minHeight:r,placement:s,shouldScroll:V,isFixedPosition:ge,controlHeight:re});k(P.maxHeight),H(P.placement),g==null||g(P.placement)}},[i,s,l,c,r,g,re]),t({ref:b,placerProps:Gt(Gt({},e),{},{placement:M||sE(s),maxHeight:C})})},aj=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return Ut("div",Qt({},$r(e,"menu",{menu:!0}),{ref:r},i),t)},sj=aj,oj=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Gt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},lj=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Ut("div",Qt({},$r(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),t)},lE=function(e,t){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Gt({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},uj=lE,cj=lE,hj=function(e){var t=e.children,r=t===void 0?"No options":t,i=e.innerProps,s=pu(e,ZM);return Ut("div",Qt({},$r(Gt(Gt({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},dj=function(e){var t=e.children,r=t===void 0?"Loading...":t,i=e.innerProps,s=pu(e,ej);return Ut("div",Qt({},$r(Gt(Gt({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},fj=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},pj=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,l=e.menuPlacement,c=e.menuPosition,h=ee.useRef(null),d=ee.useRef(null),g=ee.useState(sE(l)),b=tu(g,2),w=b[0],x=b[1],C=ee.useMemo(function(){return{setPortalPlacement:x}},[]),k=ee.useState(null),I=tu(k,2),N=I[0],M=I[1],H=ee.useCallback(function(){if(i){var V=GM(i),P=c==="fixed"?0:window.pageYOffset,U=V[w]+P;(U!==(N==null?void 0:N.offset)||V.left!==(N==null?void 0:N.rect.left)||V.width!==(N==null?void 0:N.rect.width))&&M({offset:U,rect:V})}},[i,c,w,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);p2(function(){H()},[H]);var re=ee.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&h.current&&(d.current=VM(i,h.current,H,{elementResize:"ResizeObserver"in window}))},[i,H]);p2(function(){re()},[re]);var K=ee.useCallback(function(V){h.current=V,re()},[re]);if(!t&&c!=="fixed"||!N)return null;var ge=Ut("div",Qt({ref:K},$r(Gt(Gt({},e),{},{offset:N.offset,position:c,rect:N.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Ut(oE.Provider,{value:C},t?GC.createPortal(ge,t):ge)},mj=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},gj=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Ut("div",Qt({},$r(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),t)},vj=function(e,t){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Gt({alignItems:"center",display:i&&s&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},yj=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Ut("div",Qt({},$r(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),t)},bj=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xj=function(e){var t=e.children,r=e.innerProps;return Ut("div",Qt({},$r(e,"indicatorsContainer",{indicators:!0}),r),t)},T_,wj=["size"],_j=["innerProps","isRtl","size"],Sj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},uE=function(e){var t=e.size,r=pu(e,wj);return Ut("svg",Qt({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Sj},r))},Xy=function(e){return Ut(uE,Qt({size:20},e),Ut("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},cE=function(e){return Ut(uE,Qt({size:20},e),Ut("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hE=function(e,t){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return Gt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?l.neutral60:l.neutral20,padding:s*2,":hover":{color:r?l.neutral80:l.neutral40}})},Aj=hE,Ej=function(e){var t=e.children,r=e.innerProps;return Ut("div",Qt({},$r(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Ut(cE,null))},Tj=hE,Nj=function(e){var t=e.children,r=e.innerProps;return Ut("div",Qt({},$r(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Ut(Xy,null))},Cj=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,l=i.colors;return Gt({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:s*2,marginTop:s*2})},kj=function(e){var t=e.innerProps;return Ut("span",Qt({},t,$r(e,"indicatorSeparator",{"indicator-separator":!0})))},Ij=EM(T_||(T_=TM([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Rj=function(e,t){var r=e.isFocused,i=e.size,s=e.theme,l=s.colors,c=s.spacing.baseUnit;return Gt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},lv=function(e){var t=e.delay,r=e.offset;return Ut("span",{css:Gy({animation:"".concat(Ij," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Pj=function(e){var t=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,l=pu(e,_j);return Ut("div",Qt({},$r(Gt(Gt({},l),{},{innerProps:t,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Ut(lv,{delay:0,offset:r}),Ut(lv,{delay:160,offset:!0}),Ut(lv,{delay:320,offset:!r}))},Lj=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.theme,l=s.colors,c=s.borderRadius,h=s.spacing;return Gt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},Oj=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Ut("div",Qt({ref:s},$r(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),t)},Dj=Oj,Mj=["data"],jj=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Fj=function(e){var t=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,l=e.Heading,c=e.headingProps,h=e.innerProps,d=e.label,g=e.theme,b=e.selectProps;return Ut("div",Qt({},$r(e,"group",{group:!0}),h),Ut(l,Qt({},c,{selectProps:b,theme:g,getStyles:i,getClassNames:s,cx:r}),d),Ut("div",null,t))},Vj=function(e,t){var r=e.theme,i=r.colors,s=r.spacing;return Gt({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Bj=function(e){var t=rE(e);t.data;var r=pu(t,Mj);return Ut("div",Qt({},$r(e,"groupHeading",{"group-heading":!0}),r))},Uj=Fj,zj=["innerRef","isDisabled","isHidden","inputClassName"],qj=function(e,t){var r=e.isDisabled,i=e.value,s=e.theme,l=s.spacing,c=s.colors;return Gt(Gt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Hj),t?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},dE={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Hj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Gt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dE)},$j=function(e){return Gt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dE)},Gj=function(e){var t=e.cx,r=e.value,i=rE(e),s=i.innerRef,l=i.isDisabled,c=i.isHidden,h=i.inputClassName,d=pu(i,zj);return Ut("div",Qt({},$r(e,"input",{"input-container":!0}),{"data-value":r||""}),Ut("input",Qt({className:t({input:!0},h),ref:s,style:$j(c),disabled:l},d)))},Wj=Gj,Yj=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors;return Gt({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:l.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Kj=function(e,t){var r=e.theme,i=r.borderRadius,s=r.colors,l=e.cropWithEllipsis;return Gt({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Xj=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,l=r.colors,c=e.isFocused;return Gt({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},fE=function(e){var t=e.children,r=e.innerProps;return Ut("div",r,t)},Qj=fE,Jj=fE;function Zj(n){var e=n.children,t=n.innerProps;return Ut("div",Qt({role:"button"},t),e||Ut(Xy,{size:14}))}var e9=function(e){var t=e.children,r=e.components,i=e.data,s=e.innerProps,l=e.isDisabled,c=e.removeProps,h=e.selectProps,d=r.Container,g=r.Label,b=r.Remove;return Ut(d,{data:i,innerProps:Gt(Gt({},$r(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),s),selectProps:h},Ut(g,{data:i,innerProps:Gt({},$r(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),Ut(b,{data:i,innerProps:Gt(Gt({},$r(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},c),selectProps:h}))},t9=e9,n9=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.theme,c=l.spacing,h=l.colors;return Gt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?h.primary:i?h.primary25:"transparent",color:r?h.neutral20:s?h.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?h.primary:h.primary50}})},r9=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return Ut("div",Qt({},$r(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:l,"aria-disabled":r},c),t)},i9=r9,a9=function(e,t){var r=e.theme,i=r.spacing,s=r.colors;return Gt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},s9=function(e){var t=e.children,r=e.innerProps;return Ut("div",Qt({},$r(e,"placeholder",{placeholder:!0}),r),t)},o9=s9,l9=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing,l=i.colors;return Gt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?l.neutral40:l.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},u9=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return Ut("div",Qt({},$r(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},c9=u9,h9={ClearIndicator:Nj,Control:Dj,DropdownIndicator:Ej,DownChevron:cE,CrossIcon:Xy,Group:Uj,GroupHeading:Bj,IndicatorsContainer:xj,IndicatorSeparator:kj,Input:Wj,LoadingIndicator:Pj,Menu:sj,MenuList:lj,MenuPortal:pj,LoadingMessage:dj,NoOptionsMessage:hj,MultiValue:t9,MultiValueContainer:Qj,MultiValueLabel:Jj,MultiValueRemove:Zj,Option:i9,Placeholder:o9,SelectContainer:gj,SingleValue:c9,ValueContainer:yj},d9=function(e){return Gt(Gt({},h9),e.components)},N_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function f9(n,e){return!!(n===e||N_(n)&&N_(e))}function p9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!f9(n[t],e[t]))return!1;return!0}function m9(n,e){e===void 0&&(e=p9);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var l=n.apply(this,i);return t={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){t=null},r}var g9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},v9=function(e){return Ut("span",Qt({css:g9},e))},C_=v9,y9={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,l=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,l=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,s=e.label,l=s===void 0?"":s,c=e.selectValue,h=e.isDisabled,d=e.isSelected,g=e.isAppleDevice,b=function(k,I){return k&&k.length?"".concat(k.indexOf(I)+1," of ").concat(k.length):""};if(t==="value"&&c)return"value ".concat(l," focused, ").concat(b(c,r),".");if(t==="menu"&&g){var w=h?" disabled":"",x="".concat(d?" selected":"").concat(w);return"".concat(l).concat(x,", ").concat(b(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},b9=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,l=e.isFocused,c=e.selectValue,h=e.selectProps,d=e.id,g=e.isAppleDevice,b=h.ariaLiveMessages,w=h.getOptionLabel,x=h.inputValue,C=h.isMulti,k=h.isOptionDisabled,I=h.isSearchable,N=h.menuIsOpen,M=h.options,H=h.screenReaderStatus,re=h.tabSelectsValue,K=h.isLoading,ge=h["aria-label"],V=h["aria-live"],P=ee.useMemo(function(){return Gt(Gt({},y9),b||{})},[b]),U=ee.useMemo(function(){var be="";if(t&&P.onChange){var ie=t.option,pe=t.options,fe=t.removedValue,Le=t.removedValues,J=t.value,ke=function(_e){return Array.isArray(_e)?null:_e},j=fe||ie||ke(J),G=j?w(j):"",ne=pe||Le||void 0,le=ne?ne.map(w):[],oe=Gt({isDisabled:j&&k(j,c),label:G,labels:le},t);be=P.onChange(oe)}return be},[t,P,k,c,w]),Q=ee.useMemo(function(){var be="",ie=r||i,pe=!!(r&&c&&c.includes(r));if(ie&&P.onFocus){var fe={focused:ie,label:w(ie),isDisabled:k(ie,c),isSelected:pe,options:s,context:ie===r?"menu":"value",selectValue:c,isAppleDevice:g};be=P.onFocus(fe)}return be},[r,i,w,k,P,s,c,g]),O=ee.useMemo(function(){var be="";if(N&&M.length&&!K&&P.onFilter){var ie=H({count:s.length});be=P.onFilter({inputValue:x,resultsMessage:ie})}return be},[s,x,N,P,M,H,K]),D=(t==null?void 0:t.action)==="initial-input-focus",B=ee.useMemo(function(){var be="";if(P.guidance){var ie=i?"value":N?"menu":"input";be=P.guidance({"aria-label":ge,context:ie,isDisabled:r&&k(r,c),isMulti:C,isSearchable:I,tabSelectsValue:re,isInitialFocus:D})}return be},[ge,r,i,C,k,I,N,P,c,re,D]),he=Ut(ee.Fragment,null,Ut("span",{id:"aria-selection"},U),Ut("span",{id:"aria-focused"},Q),Ut("span",{id:"aria-results"},O),Ut("span",{id:"aria-guidance"},B));return Ut(ee.Fragment,null,Ut(C_,{id:d},D&&he),Ut(C_,{"aria-live":V,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!D&&he))},x9=b9,m2=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],w9=new RegExp("["+m2.map(function(n){return n.letters}).join("")+"]","g"),pE={};for(var uv=0;uv<m2.length;uv++)for(var cv=m2[uv],hv=0;hv<cv.letters.length;hv++)pE[cv.letters[hv]]=cv.base;var mE=function(e){return e.replace(w9,function(t){return pE[t]})},_9=m9(mE),k_=function(e){return e.replace(/^\s+|\s+$/g,"")},S9=function(e){return"".concat(e.label," ").concat(e.value)},A9=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=Gt({ignoreCase:!0,ignoreAccents:!0,stringify:S9,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,l=i.ignoreAccents,c=i.stringify,h=i.trim,d=i.matchFrom,g=h?k_(r):r,b=h?k_(c(t)):c(t);return s&&(g=g.toLowerCase(),b=b.toLowerCase()),l&&(g=_9(g),b=mE(b)),d==="start"?b.substr(0,g.length)===g:b.indexOf(g)>-1}},E9=["innerRef"];function T9(n){var e=n.innerRef,t=pu(n,E9),r=JM(t,"onExited","in","enter","exit","appear");return Ut("input",Qt({ref:e},r,{css:Gy({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var N9=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function C9(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,l=ee.useRef(!1),c=ee.useRef(!1),h=ee.useRef(0),d=ee.useRef(null),g=ee.useCallback(function(I,N){if(d.current!==null){var M=d.current,H=M.scrollTop,re=M.scrollHeight,K=M.clientHeight,ge=d.current,V=N>0,P=re-K-H,U=!1;P>N&&l.current&&(r&&r(I),l.current=!1),V&&c.current&&(s&&s(I),c.current=!1),V&&N>P?(t&&!l.current&&t(I),ge.scrollTop=re,U=!0,l.current=!0):!V&&-N>H&&(i&&!c.current&&i(I),ge.scrollTop=0,U=!0,c.current=!0),U&&N9(I)}},[t,r,i,s]),b=ee.useCallback(function(I){g(I,I.deltaY)},[g]),w=ee.useCallback(function(I){h.current=I.changedTouches[0].clientY},[]),x=ee.useCallback(function(I){var N=h.current-I.changedTouches[0].clientY;g(I,N)},[g]),C=ee.useCallback(function(I){if(I){var N=KM?{passive:!1}:!1;I.addEventListener("wheel",b,N),I.addEventListener("touchstart",w,N),I.addEventListener("touchmove",x,N)}},[x,w,b]),k=ee.useCallback(function(I){I&&(I.removeEventListener("wheel",b,!1),I.removeEventListener("touchstart",w,!1),I.removeEventListener("touchmove",x,!1))},[x,w,b]);return ee.useEffect(function(){if(e){var I=d.current;return C(I),function(){k(I)}}},[e,C,k]),function(I){d.current=I}}var I_=["boxSizing","height","overflow","paddingRight","position"],R_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function P_(n){n.cancelable&&n.preventDefault()}function L_(n){n.stopPropagation()}function O_(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function D_(){return"ontouchstart"in window||navigator.maxTouchPoints}var M_=!!(typeof window<"u"&&window.document&&window.document.createElement),Sf=0,qh={capture:!1,passive:!1};function k9(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=ee.useRef({}),s=ee.useRef(null),l=ee.useCallback(function(h){if(M_){var d=document.body,g=d&&d.style;if(r&&I_.forEach(function(C){var k=g&&g[C];i.current[C]=k}),r&&Sf<1){var b=parseInt(i.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,x=window.innerWidth-w+b||0;Object.keys(R_).forEach(function(C){var k=R_[C];g&&(g[C]=k)}),g&&(g.paddingRight="".concat(x,"px"))}d&&D_()&&(d.addEventListener("touchmove",P_,qh),h&&(h.addEventListener("touchstart",O_,qh),h.addEventListener("touchmove",L_,qh))),Sf+=1}},[r]),c=ee.useCallback(function(h){if(M_){var d=document.body,g=d&&d.style;Sf=Math.max(Sf-1,0),r&&Sf<1&&I_.forEach(function(b){var w=i.current[b];g&&(g[b]=w)}),d&&D_()&&(d.removeEventListener("touchmove",P_,qh),h&&(h.removeEventListener("touchstart",O_,qh),h.removeEventListener("touchmove",L_,qh)))}},[r]);return ee.useEffect(function(){if(e){var h=s.current;return l(h),function(){c(h)}}},[e,l,c]),function(h){s.current=h}}var I9=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},R9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function P9(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,s=n.onBottomArrive,l=n.onBottomLeave,c=n.onTopArrive,h=n.onTopLeave,d=C9({isEnabled:i,onBottomArrive:s,onBottomLeave:l,onTopArrive:c,onTopLeave:h}),g=k9({isEnabled:t}),b=function(x){d(x),g(x)};return Ut(ee.Fragment,null,t&&Ut("div",{onClick:I9,css:R9}),e(b))}var L9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},O9=function(e){var t=e.name,r=e.onFocus;return Ut("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:L9,value:"",onChange:function(){}})},D9=O9;function Qy(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function M9(){return Qy(/^iPhone/i)}function gE(){return Qy(/^Mac/i)}function j9(){return Qy(/^iPad/i)||gE()&&navigator.maxTouchPoints>1}function F9(){return M9()||j9()}function V9(){return gE()||F9()}var B9=function(e){return e.label},U9=function(e){return e.label},z9=function(e){return e.value},q9=function(e){return!!e.isDisabled},H9={clearIndicator:Tj,container:mj,control:Lj,dropdownIndicator:Aj,group:jj,groupHeading:Vj,indicatorsContainer:bj,indicatorSeparator:Cj,input:qj,loadingIndicator:Rj,loadingMessage:cj,menu:rj,menuList:oj,menuPortal:fj,multiValue:Yj,multiValueLabel:Kj,multiValueRemove:Xj,noOptionsMessage:uj,option:n9,placeholder:a9,singleValue:l9,valueContainer:vj},$9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},G9=4,vE=4,W9=38,Y9=vE*2,K9={baseUnit:vE,controlHeight:W9,menuGutter:Y9},dv={borderRadius:G9,colors:$9,spacing:K9},X9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:E_(),captureMenuScroll:!E_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:A9(),formatGroupLabel:B9,getOptionLabel:U9,getOptionValue:z9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:q9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!WM(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function j_(n,e,t,r){var i=xE(n,e,t),s=wE(n,e,t),l=bE(n,e),c=jg(n,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:l,value:c,index:r}}function Zm(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(l,c){return j_(n,l,e,c)}).filter(function(l){return V_(n,l)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var s=j_(n,t,e,r);return V_(n,s)?s:void 0}).filter(XM)}function yE(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Uy(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function F_(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Uy(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function Q9(n,e){return yE(Zm(n,e))}function V_(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,s=e.isSelected,l=e.label,c=e.value;return(!SE(n)||!s)&&_E(n,{label:l,value:c,data:i},r)}function J9(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var s=e.indexOf(t);if(s>-1)return t;if(i<e.length)return e[i]}return null}function Z9(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var fv=function(e,t){var r,i=(r=e.find(function(s){return s.data===t}))===null||r===void 0?void 0:r.id;return i||null},bE=function(e,t){return e.getOptionLabel(t)},jg=function(e,t){return e.getOptionValue(t)};function xE(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function wE(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=jg(n,e);return t.some(function(i){return jg(n,i)===r})}function _E(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var SE=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},eF=1,AE=function(n){_D(t,n);var e=ED(t);function t(r){var i;if(xD(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=V9(),i.controlRef=null,i.getControlRef=function(h){i.controlRef=h},i.focusedOptionRef=null,i.getFocusedOptionRef=function(h){i.focusedOptionRef=h},i.menuListRef=null,i.getMenuListRef=function(h){i.menuListRef=h},i.inputRef=null,i.getInputRef=function(h){i.inputRef=h},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(h,d){var g=i.props,b=g.onChange,w=g.name;d.name=w,i.ariaOnChange(h,d),b(h,d)},i.setValue=function(h,d,g){var b=i.props,w=b.closeMenuOnSelect,x=b.isMulti,C=b.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:C}),w&&(i.setState({inputIsHiddenAfterUpdate:!x}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(h,{action:d,option:g})},i.selectOption=function(h){var d=i.props,g=d.blurInputOnSelect,b=d.isMulti,w=d.name,x=i.state.selectValue,C=b&&i.isOptionSelected(h,x),k=i.isOptionDisabled(h,x);if(C){var I=i.getOptionValue(h);i.setValue(x.filter(function(N){return i.getOptionValue(N)!==I}),"deselect-option",h)}else if(!k)b?i.setValue([].concat(Uy(x),[h]),"select-option",h):i.setValue(h,"select-option");else{i.ariaOnChange(h,{action:"select-option",option:h,name:w});return}g&&i.blurInput()},i.removeValue=function(h){var d=i.props.isMulti,g=i.state.selectValue,b=i.getOptionValue(h),w=g.filter(function(C){return i.getOptionValue(C)!==b}),x=Pm(d,w,w[0]||null);i.onChange(x,{action:"remove-value",removedValue:h}),i.focusInput()},i.clearValue=function(){var h=i.state.selectValue;i.onChange(Pm(i.props.isMulti,[],null),{action:"clear",removedValues:h})},i.popValue=function(){var h=i.props.isMulti,d=i.state.selectValue,g=d[d.length-1],b=d.slice(0,d.length-1),w=Pm(h,b,b[0]||null);g&&i.onChange(w,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(h){return fv(i.state.focusableOptionsWithIds,h)},i.getFocusableOptionsWithIds=function(){return F_(Zm(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var h=arguments.length,d=new Array(h),g=0;g<h;g++)d[g]=arguments[g];return zM.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(h){return bE(i.props,h)},i.getOptionValue=function(h){return jg(i.props,h)},i.getStyles=function(h,d){var g=i.props.unstyled,b=H9[h](d,g);b.boxSizing="border-box";var w=i.props.styles[h];return w?w(b,d):b},i.getClassNames=function(h,d){var g,b;return(g=(b=i.props.classNames)[h])===null||g===void 0?void 0:g.call(b,d)},i.getElementId=function(h){return"".concat(i.state.instancePrefix,"-").concat(h)},i.getComponents=function(){return d9(i.props)},i.buildCategorizedOptions=function(){return Zm(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return yE(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(h,d){i.setState({ariaSelection:Gt({value:h},d)})},i.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(h){i.blockOptionHover=!1},i.onControlMouseDown=function(h){if(!h.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},i.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!i.props.isDisabled){var d=i.props,g=d.isMulti,b=d.menuIsOpen;i.focusInput(),b?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),h.preventDefault()}},i.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(i.clearValue(),h.preventDefault(),i.openAfterFocus=!1,h.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(h){typeof i.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&T0(h.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(h)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(h){var d=h.touches,g=d&&d.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(h){var d=h.touches,g=d&&d.item(0);if(g){var b=Math.abs(g.clientX-i.initialTouchX),w=Math.abs(g.clientY-i.initialTouchY),x=5;i.userIsDragging=b>x||w>x}},i.onTouchEnd=function(h){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(h.target)&&i.menuListRef&&!i.menuListRef.contains(h.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(h){i.userIsDragging||i.onControlMouseDown(h)},i.onClearIndicatorTouchEnd=function(h){i.userIsDragging||i.onClearIndicatorMouseDown(h)},i.onDropdownIndicatorTouchEnd=function(h){i.userIsDragging||i.onDropdownIndicatorMouseDown(h)},i.handleInputChange=function(h){var d=i.props.inputValue,g=h.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(h){i.props.onFocus&&i.props.onFocus(h),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(h){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(h),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(h){if(!(i.blockOptionHover||i.state.focusedOption===h)){var d=i.getFocusableOptions(),g=d.indexOf(h);i.setState({focusedOption:h,focusedOptionId:g>-1?i.getFocusedOptionId(h):null})}},i.shouldHideSelectedOptions=function(){return SE(i.props)},i.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),i.focus()},i.onKeyDown=function(h){var d=i.props,g=d.isMulti,b=d.backspaceRemovesValue,w=d.escapeClearsValue,x=d.inputValue,C=d.isClearable,k=d.isDisabled,I=d.menuIsOpen,N=d.onKeyDown,M=d.tabSelectsValue,H=d.openMenuOnFocus,re=i.state,K=re.focusedOption,ge=re.focusedValue,V=re.selectValue;if(!k&&!(typeof N=="function"&&(N(h),h.defaultPrevented))){switch(i.blockOptionHover=!0,h.key){case"ArrowLeft":if(!g||x)return;i.focusValue("previous");break;case"ArrowRight":if(!g||x)return;i.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(ge)i.removeValue(ge);else{if(!b)return;g?i.popValue():C&&i.clearValue()}break;case"Tab":if(i.isComposing||h.shiftKey||!I||!M||!K||H&&i.isOptionSelected(K,V))return;i.selectOption(K);break;case"Enter":if(h.keyCode===229)break;if(I){if(!K||i.isComposing)return;i.selectOption(K);break}return;case"Escape":I?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:x}),i.onMenuClose()):C&&w&&i.clearValue();break;case" ":if(x)return;if(!I){i.openMenu("first");break}if(!K)return;i.selectOption(K);break;case"ArrowUp":I?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":I?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!I)return;i.focusOption("pageup");break;case"PageDown":if(!I)return;i.focusOption("pagedown");break;case"Home":if(!I)return;i.focusOption("first");break;case"End":if(!I)return;i.focusOption("last");break;default:return}h.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++eF),i.state.selectValue=S_(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),c=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=l[c],i.state.focusedOptionId=fv(s,l[c])}return i}return wD(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&A_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isDisabled,c=s.menuIsOpen,h=this.state.isFocused;(h&&!l&&i.isDisabled||h&&c&&!i.menuIsOpen)&&this.focusInput(),h&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(A_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,l=this.state,c=l.selectValue,h=l.isFocused,d=this.buildFocusableOptions(),g=i==="first"?0:d.length-1;if(!this.props.isMulti){var b=d.indexOf(c[0]);b>-1&&(g=b)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[g],focusedOptionId:this.getFocusedOptionId(d[g])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,l=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=l.indexOf(c);c||(h=-1);var d=l.length-1,g=-1;if(l.length){switch(i){case"previous":h===0?g=0:h===-1?g=d:g=h-1;break;case"next":h>-1&&h<d&&(g=h+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:l[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var h=0,d=c.indexOf(l);l||(d=-1),i==="up"?h=d>0?d-1:c.length-1:i==="down"?h=(d+1)%c.length:i==="pageup"?(h=d-s,h<0&&(h=0)):i==="pagedown"?(h=d+s,h>c.length-1&&(h=c.length-1)):i==="last"&&(h=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(dv):Gt(Gt({},dv),this.props.theme):dv}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,l=this.getStyles,c=this.getClassNames,h=this.getValue,d=this.selectOption,g=this.setValue,b=this.props,w=b.isMulti,x=b.isRtl,C=b.options,k=this.hasValue();return{clearValue:i,cx:s,getStyles:l,getClassNames:c,getValue:h,hasValue:k,isMulti:w,isRtl:x,options:C,selectOption:d,selectProps:b,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,l=i.isMulti;return s===void 0?l:s}},{key:"isOptionDisabled",value:function(i,s){return xE(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return wE(this.props,i,s)}},{key:"filterOption",value:function(i,s){return _E(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:l,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,l=i.isSearchable,c=i.inputId,h=i.inputValue,d=i.tabIndex,g=i.form,b=i.menuIsOpen,w=i.required,x=this.getComponents(),C=x.Input,k=this.state,I=k.inputIsHidden,N=k.ariaSelection,M=this.commonProps,H=c||this.getElementId("input"),re=Gt(Gt(Gt({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?ee.createElement(C,Qt({},M,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:s,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:g,type:"text",value:h},re)):ee.createElement(T9,Qt({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Dg,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:g,value:""},re))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),l=s.MultiValue,c=s.MultiValueContainer,h=s.MultiValueLabel,d=s.MultiValueRemove,g=s.SingleValue,b=s.Placeholder,w=this.commonProps,x=this.props,C=x.controlShouldRenderValue,k=x.isDisabled,I=x.isMulti,N=x.inputValue,M=x.placeholder,H=this.state,re=H.selectValue,K=H.focusedValue,ge=H.isFocused;if(!this.hasValue()||!C)return N?null:ee.createElement(b,Qt({},w,{key:"placeholder",isDisabled:k,isFocused:ge,innerProps:{id:this.getElementId("placeholder")}}),M);if(I)return re.map(function(P,U){var Q=P===K,O="".concat(i.getOptionLabel(P),"-").concat(i.getOptionValue(P));return ee.createElement(l,Qt({},w,{components:{Container:c,Label:h,Remove:d},isFocused:Q,isDisabled:k,key:O,index:U,removeProps:{onClick:function(){return i.removeValue(P)},onTouchEnd:function(){return i.removeValue(P)},onMouseDown:function(B){B.preventDefault()}},data:P}),i.formatOptionLabel(P,"value"))});if(N)return null;var V=re[0];return ee.createElement(g,Qt({},w,{data:V,isDisabled:k}),this.formatOptionLabel(V,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,l=this.commonProps,c=this.props,h=c.isDisabled,d=c.isLoading,g=this.state.isFocused;if(!this.isClearable()||!s||h||!this.hasValue()||d)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ee.createElement(s,Qt({},l,{innerProps:b,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,l=this.commonProps,c=this.props,h=c.isDisabled,d=c.isLoading,g=this.state.isFocused;if(!s||!d)return null;var b={"aria-hidden":"true"};return ee.createElement(s,Qt({},l,{innerProps:b,isDisabled:h,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,l=i.IndicatorSeparator;if(!s||!l)return null;var c=this.commonProps,h=this.props.isDisabled,d=this.state.isFocused;return ee.createElement(l,Qt({},c,{isDisabled:h,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var l=this.commonProps,c=this.props.isDisabled,h=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ee.createElement(s,Qt({},l,{innerProps:d,isDisabled:c,isFocused:h}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),l=s.Group,c=s.GroupHeading,h=s.Menu,d=s.MenuList,g=s.MenuPortal,b=s.LoadingMessage,w=s.NoOptionsMessage,x=s.Option,C=this.commonProps,k=this.state.focusedOption,I=this.props,N=I.captureMenuScroll,M=I.inputValue,H=I.isLoading,re=I.loadingMessage,K=I.minMenuHeight,ge=I.maxMenuHeight,V=I.menuIsOpen,P=I.menuPlacement,U=I.menuPosition,Q=I.menuPortalTarget,O=I.menuShouldBlockScroll,D=I.menuShouldScrollIntoView,B=I.noOptionsMessage,he=I.onMenuScrollToTop,be=I.onMenuScrollToBottom;if(!V)return null;var ie=function(G,ne){var le=G.type,oe=G.data,Ne=G.isDisabled,_e=G.isSelected,Oe=G.label,lt=G.value,rt=k===oe,ht=Ne?void 0:function(){return i.onOptionHover(oe)},ft=Ne?void 0:function(){return i.selectOption(oe)},Pt="".concat(i.getElementId("option"),"-").concat(ne),qe={id:Pt,onClick:ft,onMouseMove:ht,onMouseOver:ht,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:_e};return ee.createElement(x,Qt({},C,{innerProps:qe,data:oe,isDisabled:Ne,isSelected:_e,key:Pt,label:Oe,type:le,value:lt,isFocused:rt,innerRef:rt?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(G.data,"menu"))},pe;if(this.hasOptions())pe=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var G=j.data,ne=j.options,le=j.index,oe="".concat(i.getElementId("group"),"-").concat(le),Ne="".concat(oe,"-heading");return ee.createElement(l,Qt({},C,{key:oe,data:G,options:ne,Heading:c,headingProps:{id:Ne,data:j.data},label:i.formatGroupLabel(j.data)}),j.options.map(function(_e){return ie(_e,"".concat(le,"-").concat(_e.index))}))}else if(j.type==="option")return ie(j,"".concat(j.index))});else if(H){var fe=re({inputValue:M});if(fe===null)return null;pe=ee.createElement(b,C,fe)}else{var Le=B({inputValue:M});if(Le===null)return null;pe=ee.createElement(w,C,Le)}var J={minMenuHeight:K,maxMenuHeight:ge,menuPlacement:P,menuPosition:U,menuShouldScrollIntoView:D},ke=ee.createElement(ij,Qt({},C,J),function(j){var G=j.ref,ne=j.placerProps,le=ne.placement,oe=ne.maxHeight;return ee.createElement(h,Qt({},C,J,{innerRef:G,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:H,placement:le}),ee.createElement(P9,{captureEnabled:N,onTopArrive:he,onBottomArrive:be,lockEnabled:O},function(Ne){return ee.createElement(d,Qt({},C,{innerRef:function(Oe){i.getMenuListRef(Oe),Ne(Oe)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:i.getElementId("listbox")},isLoading:H,maxHeight:oe,focusedOption:k}),pe)}))});return Q||U==="fixed"?ee.createElement(g,Qt({},C,{appendTo:Q,controlElement:this.controlRef,menuPlacement:P,menuPosition:U}),ke):ke}},{key:"renderFormField",value:function(){var i=this,s=this.props,l=s.delimiter,c=s.isDisabled,h=s.isMulti,d=s.name,g=s.required,b=this.state.selectValue;if(g&&!this.hasValue()&&!c)return ee.createElement(D9,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(h)if(l){var w=b.map(function(k){return i.getOptionValue(k)}).join(l);return ee.createElement("input",{name:d,type:"hidden",value:w})}else{var x=b.length>0?b.map(function(k,I){return ee.createElement("input",{key:"i-".concat(I),name:d,type:"hidden",value:i.getOptionValue(k)})}):ee.createElement("input",{name:d,type:"hidden",value:""});return ee.createElement("div",null,x)}else{var C=b[0]?this.getOptionValue(b[0]):"";return ee.createElement("input",{name:d,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,l=s.ariaSelection,c=s.focusedOption,h=s.focusedValue,d=s.isFocused,g=s.selectValue,b=this.getFocusableOptions();return ee.createElement(x9,Qt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:h,isFocused:d,selectValue:g,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,l=i.IndicatorsContainer,c=i.SelectContainer,h=i.ValueContainer,d=this.props,g=d.className,b=d.id,w=d.isDisabled,x=d.menuIsOpen,C=this.state.isFocused,k=this.commonProps=this.getCommonProps();return ee.createElement(c,Qt({},k,{className:g,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:C}),this.renderLiveRegion(),ee.createElement(s,Qt({},k,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:C,menuIsOpen:x}),ee.createElement(h,Qt({},k,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),ee.createElement(l,Qt({},k,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var l=s.prevProps,c=s.clearFocusValueOnUpdate,h=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,g=s.isFocused,b=s.prevWasFocused,w=s.instancePrefix,x=i.options,C=i.value,k=i.menuIsOpen,I=i.inputValue,N=i.isMulti,M=S_(C),H={};if(l&&(C!==l.value||x!==l.options||k!==l.menuIsOpen||I!==l.inputValue)){var re=k?Q9(i,M):[],K=k?F_(Zm(i,M),"".concat(w,"-option")):[],ge=c?J9(s,M):null,V=Z9(s,re),P=fv(K,V);H={selectValue:M,focusedOption:V,focusedOptionId:P,focusableOptionsWithIds:K,focusedValue:ge,clearFocusValueOnUpdate:!1}}var U=h!=null&&i!==l?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},Q=d,O=g&&b;return g&&!O&&(Q={value:Pm(N,M,M[0]||null),options:M,action:"initial-input-focus"},O=!b),(d==null?void 0:d.action)==="initial-input-focus"&&(Q=null),Gt(Gt(Gt({},H),U),{},{prevProps:i,ariaSelection:Q,prevWasFocused:O})}}]),t}(ee.Component);AE.defaultProps=X9;var tF=ee.forwardRef(function(n,e){var t=bD(n);return ee.createElement(AE,Qt({ref:e},t))}),Jy=tF;const nF="modulepreload",rF=function(n){return"/"+n},B_={},g2=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(t.map(d=>{if(d=rF(d),d in B_)return;B_[d]=!0;const g=d.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":nF,g||(w.as="script"),w.crossOrigin="",w.href=d,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((x,C)=>{w.addEventListener("load",x),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var ua=Uint8Array,os=Uint16Array,Zy=Int32Array,N0=new ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C0=new ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v2=new ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EE=function(n,e){for(var t=new os(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Zy(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},TE=EE(N0,2),NE=TE.b,y2=TE.r;NE[28]=258,y2[258]=28;var CE=EE(C0,0),iF=CE.b,U_=CE.r,b2=new os(32768);for(var wr=0;wr<32768;++wr){var Ju=(wr&43690)>>1|(wr&21845)<<1;Ju=(Ju&52428)>>2|(Ju&13107)<<2,Ju=(Ju&61680)>>4|(Ju&3855)<<4,b2[wr]=((Ju&65280)>>8|(Ju&255)<<8)>>1}var dl=function(n,e,t){for(var r=n.length,i=0,s=new os(e);i<r;++i)n[i]&&++s[n[i]-1];var l=new os(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var c;if(t){c=new os(1<<e);var h=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],g=e-n[i],b=l[n[i]-1]++<<g,w=b|(1<<g)-1;b<=w;++b)c[b2[b]>>h]=d}else for(c=new os(r),i=0;i<r;++i)n[i]&&(c[i]=b2[l[n[i]-1]++]>>15-n[i]);return c},bc=new ua(288);for(var wr=0;wr<144;++wr)bc[wr]=8;for(var wr=144;wr<256;++wr)bc[wr]=9;for(var wr=256;wr<280;++wr)bc[wr]=7;for(var wr=280;wr<288;++wr)bc[wr]=8;var sp=new ua(32);for(var wr=0;wr<32;++wr)sp[wr]=5;var aF=dl(bc,9,0),sF=dl(bc,9,1),oF=dl(sp,5,0),lF=dl(sp,5,1),pv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},uo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},mv=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},eb=function(n){return(n+7)/8|0},kE=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ua(n.subarray(e,t))},uF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ho=function(n,e,t){var r=new Error(e||uF[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ho),!t)throw r;return r},cF=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new ua(0);var l=!t,c=l||e.i!=2,h=e.i;l&&(t=new ua(i*3));var d=function(rt){var ht=t.length;if(rt>ht){var ft=new ua(Math.max(ht*2,rt));ft.set(t),t=ft}},g=e.f||0,b=e.p||0,w=e.b||0,x=e.l,C=e.d,k=e.m,I=e.n,N=i*8;do{if(!x){g=uo(n,b,1);var M=uo(n,b+1,3);if(b+=3,M)if(M==1)x=sF,C=lF,k=9,I=5;else if(M==2){var ge=uo(n,b,31)+257,V=uo(n,b+10,15)+4,P=ge+uo(n,b+5,31)+1;b+=14;for(var U=new ua(P),Q=new ua(19),O=0;O<V;++O)Q[v2[O]]=uo(n,b+O*3,7);b+=V*3;for(var D=pv(Q),B=(1<<D)-1,he=dl(Q,D,1),O=0;O<P;){var be=he[uo(n,b,B)];b+=be&15;var H=be>>4;if(H<16)U[O++]=H;else{var ie=0,pe=0;for(H==16?(pe=3+uo(n,b,3),b+=2,ie=U[O-1]):H==17?(pe=3+uo(n,b,7),b+=3):H==18&&(pe=11+uo(n,b,127),b+=7);pe--;)U[O++]=ie}}var fe=U.subarray(0,ge),Le=U.subarray(ge);k=pv(fe),I=pv(Le),x=dl(fe,k,1),C=dl(Le,I,1)}else ho(1);else{var H=eb(b)+4,re=n[H-4]|n[H-3]<<8,K=H+re;if(K>i){h&&ho(0);break}c&&d(w+re),t.set(n.subarray(H,K),w),e.b=w+=re,e.p=b=K*8,e.f=g;continue}if(b>N){h&&ho(0);break}}c&&d(w+131072);for(var J=(1<<k)-1,ke=(1<<I)-1,j=b;;j=b){var ie=x[mv(n,b)&J],G=ie>>4;if(b+=ie&15,b>N){h&&ho(0);break}if(ie||ho(2),G<256)t[w++]=G;else if(G==256){j=b,x=null;break}else{var ne=G-254;if(G>264){var O=G-257,le=N0[O];ne=uo(n,b,(1<<le)-1)+NE[O],b+=le}var oe=C[mv(n,b)&ke],Ne=oe>>4;oe||ho(3),b+=oe&15;var Le=iF[Ne];if(Ne>3){var le=C0[Ne];Le+=mv(n,b)&(1<<le)-1,b+=le}if(b>N){h&&ho(0);break}c&&d(w+131072);var _e=w+ne;if(w<Le){var Oe=s-Le,lt=Math.min(Le,_e);for(Oe+w<0&&ho(3);w<lt;++w)t[w]=r[Oe+w]}for(;w<_e;++w)t[w]=t[w-Le]}}e.l=x,e.p=j,e.b=w,e.f=g,x&&(g=1,e.m=k,e.d=C,e.n=I)}while(!g);return w!=t.length&&l?kE(t,0,w):t.subarray(0,w)},Wl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Af=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},gv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:RE,l:0};if(i==1){var l=new ua(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(K,ge){return K.f-ge.f}),t.push({s:-1,f:25001});var c=t[0],h=t[1],d=0,g=1,b=2;for(t[0]={s:-1,f:c.f+h.f,l:c,r:h};g!=i-1;)c=t[t[d].f<t[b].f?d++:b++],h=t[d!=g&&t[d].f<t[b].f?d++:b++],t[g++]={s:-1,f:c.f+h.f,l:c,r:h};for(var w=s[0].s,r=1;r<i;++r)s[r].s>w&&(w=s[r].s);var x=new os(w+1),C=x2(t[g-1],x,0);if(C>e){var r=0,k=0,I=C-e,N=1<<I;for(s.sort(function(ge,V){return x[V.s]-x[ge.s]||ge.f-V.f});r<i;++r){var M=s[r].s;if(x[M]>e)k+=N-(1<<C-x[M]),x[M]=e;else break}for(k>>=I;k>0;){var H=s[r].s;x[H]<e?k-=1<<e-x[H]++-1:++r}for(;r>=0&&k;--r){var re=s[r].s;x[re]==e&&(--x[re],++k)}C=e}return{t:new ua(x),l:C}},x2=function(n,e,t){return n.s==-1?Math.max(x2(n.l,e,t+1),x2(n.r,e,t+1)):e[n.s]=t},z_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new os(++e),r=0,i=n[0],s=1,l=function(h){t[r++]=h},c=1;c<=e;++c)if(n[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=n[c]}return{c:t.subarray(0,r),n:e}},Ef=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},IE=function(n,e,t){var r=t.length,i=eb(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},q_=function(n,e,t,r,i,s,l,c,h,d,g){Wl(e,g++,t),++i[256];for(var b=gv(i,15),w=b.t,x=b.l,C=gv(s,15),k=C.t,I=C.l,N=z_(w),M=N.c,H=N.n,re=z_(k),K=re.c,ge=re.n,V=new os(19),P=0;P<M.length;++P)++V[M[P]&31];for(var P=0;P<K.length;++P)++V[K[P]&31];for(var U=gv(V,7),Q=U.t,O=U.l,D=19;D>4&&!Q[v2[D-1]];--D);var B=d+5<<3,he=Ef(i,bc)+Ef(s,sp)+l,be=Ef(i,w)+Ef(s,k)+l+14+3*D+Ef(V,Q)+2*V[16]+3*V[17]+7*V[18];if(h>=0&&B<=he&&B<=be)return IE(e,g,n.subarray(h,h+d));var ie,pe,fe,Le;if(Wl(e,g,1+(be<he)),g+=2,be<he){ie=dl(w,x,0),pe=w,fe=dl(k,I,0),Le=k;var J=dl(Q,O,0);Wl(e,g,H-257),Wl(e,g+5,ge-1),Wl(e,g+10,D-4),g+=14;for(var P=0;P<D;++P)Wl(e,g+3*P,Q[v2[P]]);g+=3*D;for(var ke=[M,K],j=0;j<2;++j)for(var G=ke[j],P=0;P<G.length;++P){var ne=G[P]&31;Wl(e,g,J[ne]),g+=Q[ne],ne>15&&(Wl(e,g,G[P]>>5&127),g+=G[P]>>12)}}else ie=aF,pe=bc,fe=oF,Le=sp;for(var P=0;P<c;++P){var le=r[P];if(le>255){var ne=le>>18&31;Af(e,g,ie[ne+257]),g+=pe[ne+257],ne>7&&(Wl(e,g,le>>23&31),g+=N0[ne]);var oe=le&31;Af(e,g,fe[oe]),g+=Le[oe],oe>3&&(Af(e,g,le>>5&8191),g+=C0[oe])}else Af(e,g,ie[le]),g+=pe[le]}return Af(e,g,ie[256]),g+pe[256]},hF=new Zy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RE=new ua(0),dF=function(n,e,t,r,i,s){var l=s.z||n.length,c=new ua(r+l+5*(1+Math.ceil(l/7e3))+i),h=c.subarray(r,c.length-i),d=s.l,g=(s.r||0)&7;if(e){g&&(h[0]=s.r>>3);for(var b=hF[e-1],w=b>>13,x=b&8191,C=(1<<t)-1,k=s.p||new os(32768),I=s.h||new os(C+1),N=Math.ceil(t/3),M=2*N,H=function(Pt){return(n[Pt]^n[Pt+1]<<N^n[Pt+2]<<M)&C},re=new Zy(25e3),K=new os(288),ge=new os(32),V=0,P=0,U=s.i||0,Q=0,O=s.w||0,D=0;U+2<l;++U){var B=H(U),he=U&32767,be=I[B];if(k[he]=be,I[B]=he,O<=U){var ie=l-U;if((V>7e3||Q>24576)&&(ie>423||!d)){g=q_(n,h,0,re,K,ge,P,Q,D,U-D,g),Q=V=P=0,D=U;for(var pe=0;pe<286;++pe)K[pe]=0;for(var pe=0;pe<30;++pe)ge[pe]=0}var fe=2,Le=0,J=x,ke=he-be&32767;if(ie>2&&B==H(U-ke))for(var j=Math.min(w,ie)-1,G=Math.min(32767,U),ne=Math.min(258,ie);ke<=G&&--J&&he!=be;){if(n[U+fe]==n[U+fe-ke]){for(var le=0;le<ne&&n[U+le]==n[U+le-ke];++le);if(le>fe){if(fe=le,Le=ke,le>j)break;for(var oe=Math.min(ke,le-2),Ne=0,pe=0;pe<oe;++pe){var _e=U-ke+pe&32767,Oe=k[_e],lt=_e-Oe&32767;lt>Ne&&(Ne=lt,be=_e)}}}he=be,be=k[he],ke+=he-be&32767}if(Le){re[Q++]=268435456|y2[fe]<<18|U_[Le];var rt=y2[fe]&31,ht=U_[Le]&31;P+=N0[rt]+C0[ht],++K[257+rt],++ge[ht],O=U+fe,++V}else re[Q++]=n[U],++K[n[U]]}}for(U=Math.max(U,O);U<l;++U)re[Q++]=n[U],++K[n[U]];g=q_(n,h,d,re,K,ge,P,Q,D,U-D,g),d||(s.r=g&7|h[g/8|0]<<3,g-=7,s.h=I,s.p=k,s.i=U,s.w=O)}else{for(var U=s.w||0;U<l+d;U+=65535){var ft=U+65535;ft>=l&&(h[g/8|0]=d,ft=l),g=IE(h,g+1,n.subarray(U,ft))}s.i=l}return kE(c,0,r+eb(g)+i)},PE=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,l=0;l!=s;){for(var c=Math.min(l+2655,s);l<c;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},fF=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new ua(s.length+n.length);l.set(s),l.set(n,s.length),n=l,i.w=s.length}return dF(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},LE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},pF=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=PE();i.p(e.dictionary),LE(n,2,i.d())}},mF=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ho(6,"invalid zlib data"),(n[1]>>5&1)==1&&ho(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function w2(n,e){e||(e={});var t=PE();t.p(n);var r=fF(n,e,e.dictionary?6:2,4);return pF(r,e),LE(r,r.length-4,t.d()),r}function gF(n,e){return cF(n.subarray(mF(n),-4),{i:2},e,e)}var vF=typeof TextDecoder<"u"&&new TextDecoder,yF=0;try{vF.decode(RE,{stream:!0}),yF=1}catch{}var Zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vv(){Zt.console&&typeof Zt.console.log=="function"&&Zt.console.log.apply(Zt.console,arguments)}var mr={log:vv,warn:function(n){Zt.console&&(typeof Zt.console.warn=="function"?Zt.console.warn.apply(Zt.console,arguments):vv.call(null,arguments))},error:function(n){Zt.console&&(typeof Zt.console.error=="function"?Zt.console.error.apply(Zt.console,arguments):vv(n))}};function yv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Qc(r.response,e,t)},r.onerror=function(){mr.error("could not download file")},r.send()}function H_(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var zf,_2,Qc=Zt.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Zt.URL||Zt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?H_(i.href)?yv(n,e,t):Lm(i,i.target="_blank"):Lm(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(H_(n))yv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Lm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zn(s)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return yv(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Zt.HTMLElement)||Zt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var h=Zt.URL||Zt.webkitURL,d=h.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,l=i.exec(n);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+c+h+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bv(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=na(t,r,i,s,e[0],7,-680876936),s=na(s,t,r,i,e[1],12,-389564586),i=na(i,s,t,r,e[2],17,606105819),r=na(r,i,s,t,e[3],22,-1044525330),t=na(t,r,i,s,e[4],7,-176418897),s=na(s,t,r,i,e[5],12,1200080426),i=na(i,s,t,r,e[6],17,-1473231341),r=na(r,i,s,t,e[7],22,-45705983),t=na(t,r,i,s,e[8],7,1770035416),s=na(s,t,r,i,e[9],12,-1958414417),i=na(i,s,t,r,e[10],17,-42063),r=na(r,i,s,t,e[11],22,-1990404162),t=na(t,r,i,s,e[12],7,1804603682),s=na(s,t,r,i,e[13],12,-40341101),i=na(i,s,t,r,e[14],17,-1502002290),t=ra(t,r=na(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ra(s,t,r,i,e[6],9,-1069501632),i=ra(i,s,t,r,e[11],14,643717713),r=ra(r,i,s,t,e[0],20,-373897302),t=ra(t,r,i,s,e[5],5,-701558691),s=ra(s,t,r,i,e[10],9,38016083),i=ra(i,s,t,r,e[15],14,-660478335),r=ra(r,i,s,t,e[4],20,-405537848),t=ra(t,r,i,s,e[9],5,568446438),s=ra(s,t,r,i,e[14],9,-1019803690),i=ra(i,s,t,r,e[3],14,-187363961),r=ra(r,i,s,t,e[8],20,1163531501),t=ra(t,r,i,s,e[13],5,-1444681467),s=ra(s,t,r,i,e[2],9,-51403784),i=ra(i,s,t,r,e[7],14,1735328473),t=ia(t,r=ra(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ia(s,t,r,i,e[8],11,-2022574463),i=ia(i,s,t,r,e[11],16,1839030562),r=ia(r,i,s,t,e[14],23,-35309556),t=ia(t,r,i,s,e[1],4,-1530992060),s=ia(s,t,r,i,e[4],11,1272893353),i=ia(i,s,t,r,e[7],16,-155497632),r=ia(r,i,s,t,e[10],23,-1094730640),t=ia(t,r,i,s,e[13],4,681279174),s=ia(s,t,r,i,e[0],11,-358537222),i=ia(i,s,t,r,e[3],16,-722521979),r=ia(r,i,s,t,e[6],23,76029189),t=ia(t,r,i,s,e[9],4,-640364487),s=ia(s,t,r,i,e[12],11,-421815835),i=ia(i,s,t,r,e[15],16,530742520),t=aa(t,r=ia(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=aa(s,t,r,i,e[7],10,1126891415),i=aa(i,s,t,r,e[14],15,-1416354905),r=aa(r,i,s,t,e[5],21,-57434055),t=aa(t,r,i,s,e[12],6,1700485571),s=aa(s,t,r,i,e[3],10,-1894986606),i=aa(i,s,t,r,e[10],15,-1051523),r=aa(r,i,s,t,e[1],21,-2054922799),t=aa(t,r,i,s,e[8],6,1873313359),s=aa(s,t,r,i,e[15],10,-30611744),i=aa(i,s,t,r,e[6],15,-1560198380),r=aa(r,i,s,t,e[13],21,1309151649),t=aa(t,r,i,s,e[4],6,-145523070),s=aa(s,t,r,i,e[11],10,-1120210379),i=aa(i,s,t,r,e[2],15,718787259),r=aa(r,i,s,t,e[9],21,-343485551),n[0]=ac(t,n[0]),n[1]=ac(r,n[1]),n[2]=ac(i,n[2]),n[3]=ac(s,n[3])}function k0(n,e,t,r,i,s){return e=ac(ac(e,n),ac(r,s)),ac(e<<i|e>>>32-i,t)}function na(n,e,t,r,i,s,l){return k0(e&t|~e&r,n,e,i,s,l)}function ra(n,e,t,r,i,s,l){return k0(e&r|t&~r,n,e,i,s,l)}function ia(n,e,t,r,i,s,l){return k0(e^t^r,n,e,i,s,l)}function aa(n,e,t,r,i,s,l){return k0(t^(e|~r),n,e,i,s,l)}function DE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)bv(r,bF(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(bv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,bv(r,i),r}function bF(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}zf=Zt.atob.bind(Zt),_2=Zt.btoa.bind(Zt);var $_="0123456789abcdef".split("");function xF(n){for(var e="",t=0;t<4;t++)e+=$_[n>>8*t+4&15]+$_[n>>8*t&15];return e}function wF(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function S2(n){return DE(n).map(wF).join("")}var _F=function(n){for(var e=0;e<n.length;e++)n[e]=xF(n[e]);return n.join("")}(DE("hello"))!="5d41402abc4b2a76b9719d911017c592";function ac(n,e){if(_F){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function A2(n,e){var t,r,i,s;if(n!==t){for(var l=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),c=[],h=0;h<256;h++)c[h]=h;var d=0;for(h=0;h<256;h++){var g=c[h];d=(d+g+l.charCodeAt(h))%256,c[h]=c[d],c[d]=g}t=n,r=c}else c=r;var b=e.length,w=0,x=0,C="";for(h=0;h<b;h++)x=(x+(g=c[w=(w+1)%256]))%256,c[w]=c[x],c[x]=g,l=c[(c[w]+c[x])%256],C+=String.fromCharCode(e.charCodeAt(h)^l);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G_={print:4,modify:8,copy:16,"annot-forms":32};function Xh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(G_.perm!==void 0)throw new Error("Invalid permission: "+c);i+=G_[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=S2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=A2(this.encryptionKey,this.padding)}function Qh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function W_(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var l=e[t][s];try{l[0].apply(n,r)}catch(c){Zt.console&&mr.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fg(n){if(!(this instanceof Fg))return new Fg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function ME(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Jc(n,e,t,r,i){if(!(this instanceof Jc))return new Jc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,ME.call(this,r,i)}function Zh(n,e,t,r,i){if(!(this instanceof Zh))return new Zh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ME.call(this,r,i)}function $t(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],c=1,h=16,d="S",g=null;zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),d=n.defaultPathOperation||"S"),l=n.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,w={},x={internal:{},__private__:{}};x.__private__.PubSub=W_;var C="1.3",k=x.__private__.getPdfVersion=function(){return C};x.__private__.setPdfVersion=function(S){C=S};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return I};var N=x.__private__.getPageFormat=function(S){return I[S]};i=i||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},H=M.COMPAT;function re(){this.saveGraphicsState(),ce(new At(pt,0,0,-pt,0,Ei()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),d="n",H=M.ADVANCED}function K(){this.restoreGraphicsState(),d="S",H=M.COMPAT}var ge=x.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};x.advancedAPI=function(S){var q=H===M.COMPAT;return q&&re.call(this),typeof S!="function"||(S(this),q&&K.call(this)),this},x.compatAPI=function(S){var q=H===M.ADVANCED;return q&&K.call(this),typeof S!="function"||(S(this),q&&re.call(this)),this},x.isAdvancedAPI=function(){return H===M.ADVANCED};var V,P=function(S){if(H!==M.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=x.roundToPrecision=x.__private__.roundToPrecision=function(S,q){var se=e||q;if(isNaN(S)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(se).replace(/0+$/,"")};V=x.hpf=x.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,16)};var Q=x.f2=x.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return U(S,2)},O=x.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return U(S,3)},D=x.scale=x.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return H===M.COMPAT?S*pt:H===M.ADVANCED?S:void 0},B=function(S){return H===M.COMPAT?Ei()-S:H===M.ADVANCED?S:void 0},he=function(S){return D(B(S))};x.__private__.setPrecision=x.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var be,ie="00000000000000000000000000000000",pe=x.__private__.getFileId=function(){return ie},fe=x.__private__.setFileId=function(S){return ie=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ir=new Xh(g.userPermissions,g.userPassword,g.ownerPassword,ie)),ie};x.setFileId=function(S){return fe(S),this},x.getFileId=function(){return pe()};var Le=x.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),se=q<0?"+":"-",ve=Math.floor(Math.abs(q/60)),Ie=Math.abs(q%60),$e=[se,ne(ve),"'",ne(Ie),"'"].join("");return["D:",S.getFullYear(),ne(S.getMonth()+1),ne(S.getDate()),ne(S.getHours()),ne(S.getMinutes()),ne(S.getSeconds()),$e].join("")},J=x.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),se=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),Ie=parseInt(S.substr(10,2),10),$e=parseInt(S.substr(12,2),10),ut=parseInt(S.substr(14,2),10);return new Date(q,se,ve,Ie,$e,ut,0)},ke=x.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=Le(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return be=q},j=x.__private__.getCreationDate=function(S){var q=be;return S==="jsDate"&&(q=J(be)),q};x.setCreationDate=function(S){return ke(S),this},x.getCreationDate=function(S){return j(S)};var G,ne=x.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=x.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},oe=0,Ne=[],_e=[],Oe=0,lt=[],rt=[],ht=!1,ft=_e,Pt=function(){oe=0,Oe=0,_e=[],Ne=[],lt=[],ii=Dn(),yr=Dn()};x.__private__.setCustomOutputDestination=function(S){ht=!0,ft=S};var qe=function(S){ht||(ft=S)};x.__private__.resetCustomOutputDestination=function(){ht=!1,ft=_e};var ce=x.__private__.out=function(S){return S=S.toString(),Oe+=S.length+1,ft.push(S),ft},kt=x.__private__.write=function(S){return ce(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Nt=x.__private__.getArrayBuffer=function(S){for(var q=S.length,se=new ArrayBuffer(q),ve=new Uint8Array(se);q--;)ve[q]=S.charCodeAt(q);return se},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Je};var dt=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(S){return dt=H===M.ADVANCED?S/pt:S,this};var yt,bt=x.__private__.getFontSize=x.getFontSize=function(){return H===M.COMPAT?dt:dt*pt},He=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(S){return He=S,this},x.__private__.getR2L=x.getR2L=function(){return He};var Ke,Xe=x.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))yt=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');yt=S}else yt=parseInt(S,10)};x.__private__.getZoomMode=function(){return yt};var Ze,gt=x.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ke=S};x.__private__.getPageMode=function(){return Ke};var Mt=x.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ze=S};x.__private__.getLayoutMode=function(){return Ze},x.__private__.setDisplayMode=x.setDisplayMode=function(S,q,se){return Xe(S),Mt(q),gt(se),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(S){if(Object.keys(St).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[S]},x.__private__.getDocumentProperties=function(){return St},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(S){for(var q in St)St.hasOwnProperty(q)&&S[q]&&(St[q]=S[q]);return this},x.__private__.setDocumentProperty=function(S,q){if(Object.keys(St).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[S]=q};var Bt,pt,mn,ue,me,ye={},Ge={},at=[],Ce={},Et={},Ee={},mt={},jt=null,It=0,vt=[],Lt=new W_(x),hn=n.hotfixes||[],Ht={},nr={},Ir=[],At=function S(q,se,ve,Ie,$e,ut){if(!(this instanceof S))return new S(q,se,ve,Ie,$e,ut);isNaN(q)&&(q=1),isNaN(se)&&(se=0),isNaN(ve)&&(ve=0),isNaN(Ie)&&(Ie=1),isNaN($e)&&($e=0),isNaN(ut)&&(ut=0),this._matrix=[q,se,ve,Ie,$e,ut]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(S)},At.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,se=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,Ie=S.shx*this.shy+S.sy*this.sy,$e=S.tx*this.sx+S.ty*this.shx+this.tx,ut=S.tx*this.shy+S.ty*this.sy+this.ty;return new At(q,se,ve,Ie,$e,ut)},At.prototype.decompose=function(){var S=this.sx,q=this.shy,se=this.shx,ve=this.sy,Ie=this.tx,$e=this.ty,ut=Math.sqrt(S*S+q*q),wt=(S/=ut)*se+(q/=ut)*ve;se-=S*wt,ve-=q*wt;var m=Math.sqrt(se*se+ve*ve);return wt/=m,S*(ve/=m)<q*(se/=m)&&(S=-S,q=-q,wt=-wt,ut=-ut),{scale:new At(ut,0,0,m,0,0),translate:new At(1,0,0,1,Ie,$e),rotate:new At(S,q,-q,S,0,0),skew:new At(1,0,wt,1,0,0)}},At.prototype.toString=function(S){return this.join(" ")},At.prototype.inversed=function(){var S=this.sx,q=this.shy,se=this.shx,ve=this.sy,Ie=this.tx,$e=this.ty,ut=1/(S*ve-q*se),wt=ve*ut,m=-q*ut,T=-se*ut,L=S*ut;return new At(wt,m,T,L,-wt*Ie-T*$e,-m*Ie-L*$e)},At.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,se=S.x*this.shy+S.y*this.sy+this.ty;return new Hs(q,se)},At.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),se=this.applyToPoint(new Hs(S.x+S.w,S.y+S.h));return new Io(q.x,q.y,se.x-q.x,se.y-q.y)},At.prototype.clone=function(){var S=this.sx,q=this.shy,se=this.shx,ve=this.sy,Ie=this.tx,$e=this.ty;return new At(S,q,se,ve,Ie,$e)},x.Matrix=At;var dn=x.matrixMult=function(S,q){return q.multiply(S)},gn=new At(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=gn;var yn=function(S,q){if(!Et[S]){var se=(q instanceof Jc?"Sh":"P")+(Object.keys(Ce).length+1).toString(10);q.id=se,Et[S]=se,Ce[se]=q,Lt.publish("addPattern",q)}};x.ShadingPattern=Jc,x.TilingPattern=Zh,x.addShadingPattern=function(S,q){return P("addShadingPattern()"),yn(S,q),this},x.beginTilingPattern=function(S){P("beginTilingPattern()"),_s(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},x.endTilingPattern=function(S,q){P("endTilingPattern()"),q.stream=rt[G].join(`
`),yn(S,q),Lt.publish("endTilingPattern",q),Ir.pop().restore()};var On=x.__private__.newObject=function(){var S=Dn();return Tn(S,!0),S},Dn=x.__private__.newObjectDeferred=function(){return oe++,Ne[oe]=function(){return Oe},oe},Tn=function(S,q){return q=typeof q=="boolean"&&q,Ne[S]=Oe,q&&ce(S+" 0 obj"),S},fi=x.__private__.newAdditionalObject=function(){var S={objId:Dn(),content:""};return lt.push(S),S},ii=Dn(),yr=Dn(),_r=x.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var se=parseFloat(q[0]);q=[se,se,se,"r"]}for(var ve="#",Ie=0;Ie<3;Ie++)ve+=("0"+Math.floor(255*parseFloat(q[Ie])).toString(16)).slice(-2);return ve},rr=x.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var se=S.ch1,ve=S.ch2,Ie=S.ch3,$e=S.ch4,ut=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var wt=new OE(se);if(wt.ok)se=wt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var m=parseInt(se.substr(1),16);se=m>>16&255,ve=m>>8&255,Ie=255&m}if(ve===void 0||$e===void 0&&se===ve&&ve===Ie)if(typeof se=="string")q=se+" "+ut[0];else switch(S.precision){case 2:q=Q(se/255)+" "+ut[0];break;case 3:default:q=O(se/255)+" "+ut[0]}else if($e===void 0||zn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return q=["1.","1.","1.",ut[1]].join(" ");if(typeof se=="string")q=[se,ve,Ie,ut[1]].join(" ");else switch(S.precision){case 2:q=[Q(se/255),Q(ve/255),Q(Ie/255),ut[1]].join(" ");break;default:case 3:q=[O(se/255),O(ve/255),O(Ie/255),ut[1]].join(" ")}}else if(typeof se=="string")q=[se,ve,Ie,$e,ut[2]].join(" ");else switch(S.precision){case 2:q=[Q(se),Q(ve),Q(Ie),Q($e),ut[2]].join(" ");break;case 3:default:q=[O(se),O(ve),O(Ie),O($e),ut[2]].join(" ")}return q},fr=x.__private__.getFilters=function(){return l},Mn=x.__private__.putStream=function(S){var q=(S=S||{}).data||"",se=S.filters||fr(),ve=S.alreadyAppliedFilters||[],Ie=S.addLength1||!1,$e=q.length,ut=S.objectId,wt=function(Yt){return Yt};if(g!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(wt=ir.encryptor(ut,0));var m={};se===!0&&(se=["FlateEncode"]);var T=S.additionalKeyValues||[],L=(m=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(q,se):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(m.data.length!==0&&(T.push({key:"Length",value:m.data.length}),Ie===!0&&T.push({key:"Length1",value:$e})),L.length!=0)if(L.split("/").length-1==1)T.push({key:"Filter",value:L});else{T.push({key:"Filter",value:"["+L+"]"});for(var X=0;X<T.length;X+=1)if(T[X].key==="DecodeParms"){for(var Te=[],Fe=0;Fe<m.reverseChain.split("/").length-1;Fe+=1)Te.push("null");Te.push(T[X].value),T[X].value="["+Te.join(" ")+"]"}}ce("<<");for(var ct=0;ct<T.length;ct++)ce("/"+T[ct].key+" "+T[ct].value);ce(">>"),m.data.length!==0&&(ce("stream"),ce(wt(m.data)),ce("endstream"))},bn=x.__private__.putPage=function(S){var q=S.number,se=S.data,ve=S.objId,Ie=S.contentsObjId;Tn(ve,!0),ce("<</Type /Page"),ce("/Parent "+S.rootDictionaryObjId+" 0 R"),ce("/Resources "+S.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(V(S.mediaBox.bottomLeftX))+" "+parseFloat(V(S.mediaBox.bottomLeftY))+" "+V(S.mediaBox.topRightX)+" "+V(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ce("/CropBox ["+V(S.cropBox.bottomLeftX)+" "+V(S.cropBox.bottomLeftY)+" "+V(S.cropBox.topRightX)+" "+V(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ce("/BleedBox ["+V(S.bleedBox.bottomLeftX)+" "+V(S.bleedBox.bottomLeftY)+" "+V(S.bleedBox.topRightX)+" "+V(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ce("/TrimBox ["+V(S.trimBox.bottomLeftX)+" "+V(S.trimBox.bottomLeftY)+" "+V(S.trimBox.topRightX)+" "+V(S.trimBox.topRightY)+"]"),S.artBox!==null&&ce("/ArtBox ["+V(S.artBox.bottomLeftX)+" "+V(S.artBox.bottomLeftY)+" "+V(S.artBox.topRightX)+" "+V(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ce("/UserUnit "+S.userUnit),Lt.publish("putPage",{objId:ve,pageContext:vt[q],pageNumber:q,page:se}),ce("/Contents "+Ie+" 0 R"),ce(">>"),ce("endobj");var $e=se.join(`
`);return H===M.ADVANCED&&($e+=`
Q`),Tn(Ie,!0),Mn({data:$e,filters:fr(),objectId:Ie}),ce("endobj"),ve},pi=x.__private__.putPages=function(){var S,q,se=[];for(S=1;S<=It;S++)vt[S].objId=Dn(),vt[S].contentsObjId=Dn();for(S=1;S<=It;S++)se.push(bn({number:S,data:rt[S],objId:vt[S].objId,contentsObjId:vt[S].contentsObjId,mediaBox:vt[S].mediaBox,cropBox:vt[S].cropBox,bleedBox:vt[S].bleedBox,trimBox:vt[S].trimBox,artBox:vt[S].artBox,userUnit:vt[S].userUnit,rootDictionaryObjId:ii,resourceDictionaryObjId:yr}));Tn(ii,!0),ce("<</Type /Pages");var ve="/Kids [";for(q=0;q<It;q++)ve+=se[q]+" 0 R ";ce(ve+"]"),ce("/Count "+It),ce(">>"),ce("endobj"),Lt.publish("postPutPages")},jn=function(S){Lt.publish("putFont",{font:S,out:ce,newObject:On,putStream:Mn}),S.isAlreadyPutted!==!0&&(S.objectNumber=On(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+Qh(S.postScriptName)),ce("/Subtype /Type1"),typeof S.encoding=="string"&&ce("/Encoding /"+S.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Sr=function(){for(var S in ye)ye.hasOwnProperty(S)&&(b===!1||b===!0&&w.hasOwnProperty(S))&&jn(ye[S])},lr=function(S){S.objectNumber=On();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[V(S.x),V(S.y),V(S.x+S.width),V(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var se=S.pages[1].join(`
`);Mn({data:se,additionalKeyValues:q,objectId:S.objectNumber}),ce("endobj")},Gr=function(){for(var S in Ht)Ht.hasOwnProperty(S)&&lr(Ht[S])},gl=function(S,q){var se,ve=[],Ie=1/(q-1);for(se=0;se<1;se+=Ie)ve.push(se);if(ve.push(1),S[0].offset!=0){var $e={offset:0,color:S[0].color};S.unshift($e)}if(S[S.length-1].offset!=1){var ut={offset:1,color:S[S.length-1].color};S.push(ut)}for(var wt="",m=0,T=0;T<ve.length;T++){for(se=ve[T];se>S[m+1].offset;)m++;var L=S[m].offset,X=(se-L)/(S[m+1].offset-L),Te=S[m].color,Fe=S[m+1].color;wt+=le(Math.round((1-X)*Te[0]+X*Fe[0]).toString(16))+le(Math.round((1-X)*Te[1]+X*Fe[1]).toString(16))+le(Math.round((1-X)*Te[2]+X*Fe[2]).toString(16))}return wt.trim()},Vs=function(S,q){q||(q=21);var se=On(),ve=gl(S.colors,q),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+q+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mn({data:ve,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ce("endobj"),S.objectNumber=On(),ce("<< /ShadingType "+S.type),ce("/ColorSpace /DeviceRGB");var $e="/Coords ["+V(parseFloat(S.coords[0]))+" "+V(parseFloat(S.coords[1]))+" ";S.type===2?$e+=V(parseFloat(S.coords[2]))+" "+V(parseFloat(S.coords[3])):$e+=V(parseFloat(S.coords[2]))+" "+V(parseFloat(S.coords[3]))+" "+V(parseFloat(S.coords[4]))+" "+V(parseFloat(S.coords[5])),ce($e+="]"),S.matrix&&ce("/Matrix ["+S.matrix.toString()+"]"),ce("/Function "+se+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},mu=function(S,q){var se=Dn(),ve=On();q.push({resourcesOid:se,objectOid:ve}),S.objectNumber=ve;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+S.boundingBox.map(V).join(" ")+"]"}),Ie.push({key:"XStep",value:V(S.xStep)}),Ie.push({key:"YStep",value:V(S.yStep)}),Ie.push({key:"Resources",value:se+" 0 R"}),S.matrix&&Ie.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Mn({data:S.stream,additionalKeyValues:Ie,objectId:S.objectNumber}),ce("endobj")},ha=function(S){var q;for(q in Ce)Ce.hasOwnProperty(q)&&(Ce[q]instanceof Jc?Vs(Ce[q]):Ce[q]instanceof Zh&&mu(Ce[q],S))},da=function(S){for(var q in S.objectNumber=On(),ce("<<"),S)switch(q){case"opacity":ce("/ca "+Q(S[q]));break;case"stroke-opacity":ce("/CA "+Q(S[q]))}ce(">>"),ce("endobj")},Wr=function(){var S;for(S in Ee)Ee.hasOwnProperty(S)&&da(Ee[S])},Ua=function(){for(var S in ce("/XObject <<"),Ht)Ht.hasOwnProperty(S)&&Ht[S].objectNumber>=0&&ce("/"+S+" "+Ht[S].objectNumber+" 0 R");Lt.publish("putXobjectDict"),ce(">>")},gu=function(){ir.oid=On(),ce("<<"),ce("/Filter /Standard"),ce("/V "+ir.v),ce("/R "+ir.r),ce("/U <"+ir.toHexString(ir.U)+">"),ce("/O <"+ir.toHexString(ir.O)+">"),ce("/P "+ir.P),ce(">>"),ce("endobj")},ya=function(){for(var S in ce("/Font <<"),ye)ye.hasOwnProperty(S)&&(b===!1||b===!0&&w.hasOwnProperty(S))&&ce("/"+S+" "+ye[S].objectNumber+" 0 R");ce(">>")},Ao=function(){if(Object.keys(Ce).length>0){for(var S in ce("/Shading <<"),Ce)Ce.hasOwnProperty(S)&&Ce[S]instanceof Jc&&Ce[S].objectNumber>=0&&ce("/"+S+" "+Ce[S].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),ce(">>")}},za=function(S){if(Object.keys(Ce).length>0){for(var q in ce("/Pattern <<"),Ce)Ce.hasOwnProperty(q)&&Ce[q]instanceof x.TilingPattern&&Ce[q].objectNumber>=0&&Ce[q].objectNumber<S&&ce("/"+q+" "+Ce[q].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),ce(">>")}},vl=function(){if(Object.keys(Ee).length>0){var S;for(S in ce("/ExtGState <<"),Ee)Ee.hasOwnProperty(S)&&Ee[S].objectNumber>=0&&ce("/"+S+" "+Ee[S].objectNumber+" 0 R");Lt.publish("putGStateDict"),ce(">>")}},ur=function(S){Tn(S.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ya(),Ao(),za(S.objectOid),vl(),Ua(),ce(">>"),ce("endobj")},ai=function(){var S=[];Sr(),Wr(),Gr(),ha(S),Lt.publish("putResources"),S.forEach(ur),ur({resourcesOid:yr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},Eo=function(){Lt.publish("putAdditionalObjects");for(var S=0;S<lt.length;S++){var q=lt[S];Tn(q.objId,!0),ce(q.content),ce("endobj")}Lt.publish("postPutAdditionalObjects")},vu=function(S){Ge[S.fontName]=Ge[S.fontName]||{},Ge[S.fontName][S.fontStyle]=S.id},fs=function(S,q,se,ve,Ie){var $e={id:"F"+(Object.keys(ye).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:se,encoding:ve,isStandardFont:Ie||!1,metadata:{}};return Lt.publish("addFont",{font:$e,instance:this}),ye[$e.id]=$e,vu($e),$e.id},yl=function(S){for(var q=0,se=Je.length;q<se;q++){var ve=fs.call(this,S[q][0],S[q][1],S[q][2],Je[q][3],!0);b===!1&&(w[ve]=!0);var Ie=S[q][0].split("-");vu({id:ve,fontName:Ie[0],fontStyle:Ie[1]||""})}Lt.publish("addFonts",{fonts:ye,dictionary:Ge})},mi=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ve){var q=ve.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var se="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Zt.console)throw new Error(se);Zt.console.error(se,ve),Zt.alert&&alert(se)}},S.foo.bar=S,S.foo},To=function(S,q){var se,ve,Ie,$e,ut,wt,m,T,L;if(Ie=(q=q||{}).sourceEncoding||"Unicode",ut=q.outputEncoding,(q.autoencode||ut)&&ye[Bt].metadata&&ye[Bt].metadata[Ie]&&ye[Bt].metadata[Ie].encoding&&($e=ye[Bt].metadata[Ie].encoding,!ut&&ye[Bt].encoding&&(ut=ye[Bt].encoding),!ut&&$e.codePages&&(ut=$e.codePages[0]),typeof ut=="string"&&(ut=$e[ut]),ut)){for(m=!1,wt=[],se=0,ve=S.length;se<ve;se++)(T=ut[S.charCodeAt(se)])?wt.push(String.fromCharCode(T)):wt.push(S[se]),wt[se].charCodeAt(0)>>8&&(m=!0);S=wt.join("")}for(se=S.length;m===void 0&&se!==0;)S.charCodeAt(se-1)>>8&&(m=!0),se--;if(!m)return S;for(wt=q.noBOM?[]:[254,255],se=0,ve=S.length;se<ve;se++){if((L=(T=S.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(L),wt.push(T-(L<<8))}return String.fromCharCode.apply(void 0,wt)},Rn=x.__private__.pdfEscape=x.pdfEscape=function(S,q){return To(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gi=x.__private__.beginPage=function(S){rt[++It]=[],vt[It]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ba(It),qe(rt[G])},ps=function(S,q){var se,ve,Ie;switch(t=q||t,typeof S=="string"&&(se=N(S.toLowerCase()),Array.isArray(se)&&(ve=se[0],Ie=se[1])),Array.isArray(S)&&(ve=S[0]*pt,Ie=S[1]*pt),isNaN(ve)&&(ve=i[0],Ie=i[1]),(ve>14400||Ie>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ie=Math.min(14400,Ie)),i=[ve,Ie],t.substr(0,1)){case"l":Ie>ve&&(i=[Ie,ve]);break;case"p":ve>Ie&&(i=[Ie,ve])}gi(i),_l(ys),ce(vi),Sl!==0&&ce(Sl+" J"),qs!==0&&ce(qs+" j"),Lt.publish("addPage",{pageNumber:It})},ms=function(S){S>0&&S<=It&&(rt.splice(S,1),vt.splice(S,1),It--,G>It&&(G=It),this.setPage(G))},ba=function(S){S>0&&S<=It&&(G=S)},Hn=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return rt.length-1},gs=function(S,q,se){var ve,Ie=void 0;return se=se||{},S=S!==void 0?S:ye[Bt].fontName,q=q!==void 0?q:ye[Bt].fontStyle,ve=S.toLowerCase(),Ge[ve]!==void 0&&Ge[ve][q]!==void 0?Ie=Ge[ve][q]:Ge[S]!==void 0&&Ge[S][q]!==void 0?Ie=Ge[S][q]:se.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),Ie||se.noFallback||(Ie=Ge.times[q])==null&&(Ie=Ge.times.normal),Ie},Hi=x.__private__.putInfo=function(){var S=On(),q=function(ve){return ve};for(var se in g!==null&&(q=ir.encryptor(S,0)),ce("<<"),ce("/Producer ("+Rn(q("jsPDF "+$t.version))+")"),St)St.hasOwnProperty(se)&&St[se]&&ce("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Rn(q(St[se]))+")");ce("/CreationDate ("+Rn(q(be))+")"),ce(">>"),ce("endobj")},qa=x.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||ii;switch(On(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+q+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+yt;se.substr(se.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+Q(yt)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Ke&&ce("/PageMode /"+Ke),Lt.publish("putCatalog"),ce(">>"),ce("endobj")},yu=x.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(oe+1)),ce("/Root "+oe+" 0 R"),ce("/Info "+(oe-1)+" 0 R"),g!==null&&ce("/Encrypt "+ir.oid+" 0 R"),ce("/ID [ <"+ie+"> <"+ie+"> ]"),ce(">>")},bl=x.__private__.putHeader=function(){ce("%PDF-"+C),ce("%")},xl=x.__private__.putXRef=function(){var S="0000000000";ce("xref"),ce("0 "+(oe+1)),ce("0000000000 65535 f ");for(var q=1;q<=oe;q++)typeof Ne[q]=="function"?ce((S+Ne[q]()).slice(-10)+" 00000 n "):Ne[q]!==void 0?ce((S+Ne[q]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Ha=x.__private__.buildDocument=function(){Pt(),qe(_e),Lt.publish("buildDocument"),bl(),pi(),Eo(),ai(),g!==null&&gu(),Hi(),qa();var S=Oe;return xl(),yu(),ce("startxref"),ce(""+S),ce("%%EOF"),qe(rt[G]),_e.join(`
`)},No=x.__private__.getBlob=function(S){return new Blob([Nt(S)],{type:"application/pdf"})},$a=x.output=x.__private__.output=mi(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return Ha();case"save":x.save(q.filename);break;case"arraybuffer":return Nt(Ha());case"blob":return No(Ha());case"bloburi":case"bloburl":if(Zt.URL!==void 0&&typeof Zt.URL.createObjectURL=="function")return Zt.URL&&Zt.URL.createObjectURL(No(Ha()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ve=Ha();try{se=_2(ve)}catch{se=_2(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+q.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ie=q.pdfObjectUrl,$e="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",wt=Zt.open();return wt!==null&&wt.document.write(ut),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',T=Zt.open();if(T!==null){T.document.write(m);var L=this;T.document.documentElement.querySelector("#pdfViewer").onload=function(){T.document.title=q.filename,T.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(L.output("bloburl"))}}return T}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Te=Zt.open();if(Te!==null&&(Te.document.write(X),Te.document.title=q.filename),Te||typeof safari>"u")return Te;break;case"datauri":case"dataurl":return Zt.document.location.href=this.output("datauristring",q);default:return null}}),xa=function(S){return Array.isArray(hn)===!0&&hn.indexOf(S)>-1};switch(r){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);pt=r}var ir=null;ke(),fe();var Ga=function(S){return g!==null?ir.encryptor(S,0):function(q){return q}},wa=x.__private__.getPageInfo=x.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[S].objId,pageNumber:S,pageContext:vt[S]}},Wt=x.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in vt)if(vt[q].objId===S)break;return wa(q)},_a=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:vt[G].objId,pageNumber:G,pageContext:vt[G]}};x.addPage=function(){return ps.apply(this,arguments),this},x.setPage=function(){return ba.apply(this,arguments),qe.call(this,rt[G]),this},x.insertPage=function(S){return this.addPage(),this.movePage(G,S),this},x.movePage=function(S,q){var se,ve;if(S>q){se=rt[S],ve=vt[S];for(var Ie=S;Ie>q;Ie--)rt[Ie]=rt[Ie-1],vt[Ie]=vt[Ie-1];rt[q]=se,vt[q]=ve,this.setPage(q)}else if(S<q){se=rt[S],ve=vt[S];for(var $e=S;$e<q;$e++)rt[$e]=rt[$e+1],vt[$e]=vt[$e+1];rt[q]=se,vt[q]=ve,this.setPage(q)}return this},x.deletePage=function(){return ms.apply(this,arguments),this},x.__private__.text=x.text=function(S,q,se,ve,Ie){var $e,ut,wt,m,T,L,X,Te,Fe,ct=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof se=="string"||Array.isArray(se))){var Yt=se;se=q,q=S,S=Yt}if(arguments[3]instanceof At?(P("The transform parameter of text() with a Matrix value"),Fe=Ie):(wt=arguments[4],m=arguments[5],zn(X=arguments[3])==="object"&&X!==null||(typeof wt=="string"&&(m=wt,wt=null),typeof X=="string"&&(m=X,X=null),typeof X=="number"&&(wt=X,X=null),ve={flags:X,angle:wt,align:m})),isNaN(q)||isNaN(se)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return ct;var An="",an=!1,$n=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Sn,Jn=ct.internal.scaleFactor;function Ta(xn){return xn=xn.split("	").join(Array(ve.TabLen||9).join(" ")),Rn(xn,X)}function Rr(xn){for(var wn,cr=xn.concat(),Pr=[],Ca=cr.length;Ca--;)typeof(wn=cr.shift())=="string"?Pr.push(wn):Array.isArray(xn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?Pr.push(wn[0]):Pr.push([wn[0],wn[1],wn[2]]);return Pr}function Yi(xn,wn){var cr;if(typeof xn=="string")cr=wn(xn)[0];else if(Array.isArray(xn)){for(var Pr,Ca,Uo=xn.concat(),zo=[],Ks=Uo.length;Ks--;)typeof(Pr=Uo.shift())=="string"?zo.push(wn(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(Ca=wn(Pr[0],Pr[1],Pr[2]),zo.push([Ca[0],Ca[1],Ca[2]]));cr=zo}return cr}var As=!1,Po=!0;if(typeof S=="string")As=!0;else if(Array.isArray(S)){var _u=S.concat();ut=[];for(var Al,Yr=_u.length;Yr--;)(typeof(Al=_u.shift())!="string"||Array.isArray(Al)&&typeof Al[0]!="string")&&(Po=!1);As=Po}if(As===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Lo=dt/ct.internal.scaleFactor,El=Lo*($n-1);switch(ve.baseline){case"bottom":se-=El;break;case"top":se+=Lo-El;break;case"hanging":se+=Lo-2*El;break;case"middle":se+=Lo/2-El}if((L=ve.maxWidth||0)>0&&(typeof S=="string"?S=ct.splitTextToSize(S,L):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(xn,wn){return xn.concat(ct.splitTextToSize(wn,L))},[]))),$e={text:S,x:q,y:se,options:ve,mutex:{pdfEscape:Rn,activeFontKey:Bt,fonts:ye,activeFontSize:dt}},Lt.publish("preProcessText",$e),S=$e.text,wt=(ve=$e.options).angle,!(Fe instanceof At)&&wt&&typeof wt=="number"){wt*=Math.PI/180,ve.rotationDirection===0&&(wt=-wt),H===M.ADVANCED&&(wt=-wt);var Tl=Math.cos(wt),Su=Math.sin(wt);Fe=new At(Tl,Su,-Su,Tl,0,0)}else wt&&wt instanceof At&&(Fe=wt);H!==M.ADVANCED||Fe||(Fe=gn),(T=ve.charSpace||zs)!==void 0&&(An+=V(D(T))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Te=ve.horizontalScale)!==void 0&&(An+=V(100*Te)+` Tz
`),ve.lang;var Ki=-1,Ld=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Tc=ct.internal.getCurrentPageInfo().pageContext;switch(Ld){case 0:case!1:case"fill":Ki=0;break;case 1:case!0:case"stroke":Ki=1;break;case 2:case"fillThenStroke":Ki=2;break;case 3:case"invisible":Ki=3;break;case 4:case"fillAndAddForClipping":Ki=4;break;case 5:case"strokeAndAddPathForClipping":Ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ki=6;break;case 7:case"addToPathForClipping":Ki=7}var ph=Tc.usedRenderingMode!==void 0?Tc.usedRenderingMode:-1;Ki!==-1?An+=Ki+` Tr
`:ph!==-1&&(An+=`0 Tr
`),Ki!==-1&&(Tc.usedRenderingMode=Ki),m=ve.align||"left";var Na,si=dt*$n,Oo=ct.internal.pageSize.getWidth(),Nc=ye[Bt];T=ve.charSpace||zs,L=ve.maxWidth||0,X=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ws=[],Do=function(xn){return ct.getStringUnitWidth(xn,{font:Nc,charSpace:T,fontSize:dt,doKerning:!1})*dt/Jn};if(Object.prototype.toString.call(S)==="[object Array]"){var Li;ut=Rr(S),m!=="left"&&(Na=ut.map(Do));var yi,Mo=0;if(m==="right"){q-=Na[0],S=[],Yr=ut.length;for(var Xi=0;Xi<Yr;Xi++)Xi===0?(yi=Ai(q),Li=Vr(se)):(yi=D(Mo-Na[Xi]),Li=-si),S.push([ut[Xi],yi,Li]),Mo=Na[Xi]}else if(m==="center"){q-=Na[0]/2,S=[],Yr=ut.length;for(var Xa=0;Xa<Yr;Xa++)Xa===0?(yi=Ai(q),Li=Vr(se)):(yi=D((Mo-Na[Xa])/2),Li=-si),S.push([ut[Xa],yi,Li]),Mo=Na[Xa]}else if(m==="left"){S=[],Yr=ut.length;for(var Es=0;Es<Yr;Es++)S.push(ut[Es])}else if(m==="justify"&&Nc.encoding==="Identity-H"){S=[],Yr=ut.length,L=L!==0?L:Oo;for(var Qa=0,Ar=0;Ar<Yr;Ar++)if(Li=Ar===0?Vr(se):-si,yi=Ar===0?Ai(q):Qa,Ar<Yr-1){var Ja=D((L-Na[Ar])/(ut[Ar].split(" ").length-1)),Br=ut[Ar].split(" ");S.push([Br[0]+" ",yi,Li]),Qa=0;for(var Qi=1;Qi<Br.length;Qi++){var Nl=(Do(Br[Qi-1]+" "+Br[Qi])-Do(Br[Qi]))*Jn+Ja;Qi==Br.length-1?S.push([Br[Qi],Nl,0]):S.push([Br[Qi]+" ",Nl,0]),Qa-=Nl}}else S.push([ut[Ar],yi,Li]);S.push(["",Qa,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Yr=ut.length,L=L!==0?L:Oo,Ar=0;Ar<Yr;Ar++)Li=Ar===0?Vr(se):-si,yi=Ar===0?Ai(q):0,Ar<Yr-1?Ws.push(V(D((L-Na[Ar])/(ut[Ar].split(" ").length-1)))):Ws.push(0),S.push([ut[Ar],yi,Li])}}var Ts=typeof ve.R2L=="boolean"?ve.R2L:He;Ts===!0&&(S=Yi(S,function(xn,wn,cr){return[xn.split("").reverse().join(""),wn,cr]})),$e={text:S,x:q,y:se,options:ve,mutex:{pdfEscape:Rn,activeFontKey:Bt,fonts:ye,activeFontSize:dt}},Lt.publish("postProcessText",$e),S=$e.text,an=$e.mutex.isHex||!1;var Au=ye[Bt].encoding;Au!=="WinAnsiEncoding"&&Au!=="StandardEncoding"||(S=Yi(S,function(xn,wn,cr){return[Ta(xn),wn,cr]})),ut=Rr(S),S=[];for(var jo,Fo,Vo,Cl=0,Eu=1,Bo=Array.isArray(ut[0])?Eu:Cl,Ys="",kl=function(xn,wn,cr){var Pr="";return cr instanceof At?(cr=typeof ve.angle=="number"?dn(cr,new At(1,0,0,1,xn,wn)):dn(new At(1,0,0,1,xn,wn),cr),H===M.ADVANCED&&(cr=dn(new At(1,0,0,-1,0,0),cr)),Pr=cr.join(" ")+` Tm
`):Pr=V(xn)+" "+V(wn)+` Td
`,Pr},Er=0;Er<ut.length;Er++){switch(Ys="",Bo){case Eu:Vo=(an?"<":"(")+ut[Er][0]+(an?">":")"),jo=parseFloat(ut[Er][1]),Fo=parseFloat(ut[Er][2]);break;case Cl:Vo=(an?"<":"(")+ut[Er]+(an?">":")"),jo=Ai(q),Fo=Vr(se)}Ws!==void 0&&Ws[Er]!==void 0&&(Ys=Ws[Er]+` Tw
`),Er===0?S.push(Ys+kl(jo,Fo,Fe)+Vo):Bo===Cl?S.push(Ys+Vo):Bo===Eu&&S.push(Ys+kl(jo,Fo,Fe)+Vo)}S=Bo===Cl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var pa=`BT
/`;return pa+=Bt+" "+dt+` Tf
`,pa+=V(dt*$n)+` TL
`,pa+=Ya+`
`,pa+=An,pa+=S,ce(pa+="ET"),w[Bt]=!0,ct};var bu=x.__private__.clip=x.clip=function(S){return ce(S==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return bu("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ce("n"),this};var _i=x.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(S){return _i(S)&&(d=S),this};var $i=x.__private__.getStyle=x.getStyle=function(S){var q=d;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},Pi=x.close=function(){return ce("h"),this};x.stroke=function(){return ce("S"),this},x.fill=function(S){return Sa("f",S),this},x.fillEvenOdd=function(S){return Sa("f*",S),this},x.fillStroke=function(S){return Sa("B",S),this},x.fillStrokeEvenOdd=function(S){return Sa("B*",S),this};var Sa=function(S,q){zn(q)==="object"?Wa(q,S):ce(S)},Gi=function(S){S===null||H===M.ADVANCED&&S===void 0||(S=$i(S),ce(S))};function vs(S,q,se,ve,Ie){var $e=new Zh(q||this.boundingBox,se||this.xStep,ve||this.yStep,this.gState,Ie||this.matrix);$e.stream=this.stream;var ut=S+"$$"+this.cloneIndex+++"$$";return yn(ut,$e),$e}var Wa=function(S,q){var se=Et[S.key],ve=Ce[se];if(ve instanceof Jc)ce("q"),ce(wl(q)),ve.gState&&x.setGState(ve.gState),ce(S.matrix.toString()+" cm"),ce("/"+se+" sh"),ce("Q");else if(ve instanceof Zh){var Ie=new At(1,0,0,-1,0,Ei());S.matrix&&(Ie=Ie.multiply(S.matrix||gn),se=vs.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,Ie).id),ce("q"),ce("/Pattern cs"),ce("/"+se+" scn"),ve.gState&&x.setGState(ve.gState),ce(q),ce("Q")}},wl=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wi=x.moveTo=function(S,q){return ce(V(D(S))+" "+V(he(q))+" m"),this},Si=x.lineTo=function(S,q){return ce(V(D(S))+" "+V(he(q))+" l"),this},Aa=x.curveTo=function(S,q,se,ve,Ie,$e){return ce([V(D(S)),V(he(q)),V(D(se)),V(he(ve)),V(D(Ie)),V(he($e)),"c"].join(" ")),this};x.__private__.line=x.line=function(S,q,se,ve,Ie){if(isNaN(S)||isNaN(q)||isNaN(se)||isNaN(ve)||!_i(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return H===M.COMPAT?this.lines([[se-S,ve-q]],S,q,[1,1],Ie||"S"):this.lines([[se-S,ve-q]],S,q,[1,1]).stroke()},x.__private__.lines=x.lines=function(S,q,se,ve,Ie,$e){var ut,wt,m,T,L,X,Te,Fe,ct,Yt,An,an;if(typeof S=="number"&&(an=se,se=q,q=S,S=an),ve=ve||[1,1],$e=$e||!1,isNaN(q)||isNaN(se)||!Array.isArray(S)||!Array.isArray(ve)||!_i(Ie)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wi(q,se),ut=ve[0],wt=ve[1],T=S.length,Yt=q,An=se,m=0;m<T;m++)(L=S[m]).length===2?(Yt=L[0]*ut+Yt,An=L[1]*wt+An,Si(Yt,An)):(X=L[0]*ut+Yt,Te=L[1]*wt+An,Fe=L[2]*ut+Yt,ct=L[3]*wt+An,Yt=L[4]*ut+Yt,An=L[5]*wt+An,Aa(X,Te,Fe,ct,Yt,An));return $e&&Pi(),Gi(Ie),this},x.path=function(S){for(var q=0;q<S.length;q++){var se=S[q],ve=se.c;switch(se.op){case"m":Wi(ve[0],ve[1]);break;case"l":Si(ve[0],ve[1]);break;case"c":Aa.apply(this,ve);break;case"h":Pi()}}return this},x.__private__.rect=x.rect=function(S,q,se,ve,Ie){if(isNaN(S)||isNaN(q)||isNaN(se)||isNaN(ve)||!_i(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return H===M.COMPAT&&(ve=-ve),ce([V(D(S)),V(he(q)),V(D(se)),V(D(ve)),"re"].join(" ")),Gi(Ie),this},x.__private__.triangle=x.triangle=function(S,q,se,ve,Ie,$e,ut){if(isNaN(S)||isNaN(q)||isNaN(se)||isNaN(ve)||isNaN(Ie)||isNaN($e)||!_i(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-S,ve-q],[Ie-se,$e-ve],[S-Ie,q-$e]],S,q,[1,1],ut,!0),this},x.__private__.roundedRect=x.roundedRect=function(S,q,se,ve,Ie,$e,ut){if(isNaN(S)||isNaN(q)||isNaN(se)||isNaN(ve)||isNaN(Ie)||isNaN($e)||!_i(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*se),$e=Math.min($e,.5*ve),this.lines([[se-2*Ie,0],[Ie*wt,0,Ie,$e-$e*wt,Ie,$e],[0,ve-2*$e],[0,$e*wt,-Ie*wt,$e,-Ie,$e],[2*Ie-se,0],[-Ie*wt,0,-Ie,-$e*wt,-Ie,-$e],[0,2*$e-ve],[0,-$e*wt,Ie*wt,-$e,Ie,-$e]],S+Ie,q,[1,1],ut,!0),this},x.__private__.ellipse=x.ellipse=function(S,q,se,ve,Ie){if(isNaN(S)||isNaN(q)||isNaN(se)||isNaN(ve)||!_i(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*se,ut=4/3*(Math.SQRT2-1)*ve;return Wi(S+se,q),Aa(S+se,q-ut,S+$e,q-ve,S,q-ve),Aa(S-$e,q-ve,S-se,q-ut,S-se,q),Aa(S-se,q+ut,S-$e,q+ve,S,q+ve),Aa(S+$e,q+ve,S+se,q+ut,S+se,q),Gi(Ie),this},x.__private__.circle=x.circle=function(S,q,se,ve){if(isNaN(S)||isNaN(q)||isNaN(se)||!_i(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,se,se,ve)},x.setFont=function(S,q,se){return se&&(q=ge(q,se)),Bt=gs(S,q,{disableWarning:!1}),this};var Fr=x.__private__.getFont=x.getFont=function(){return ye[gs.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var S,q,se={};for(S in Ge)if(Ge.hasOwnProperty(S))for(q in se[S]=[],Ge[S])Ge[S].hasOwnProperty(q)&&se[S].push(q);return se},x.addFont=function(S,q,se,ve,Ie){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(se=ge(se,ve)),Ie=Ie||"Identity-H",fs.call(this,S,q,se,Ie)};var Sn,ys=n.lineWidth||.200025,Ea=x.__private__.getLineWidth=x.getLineWidth=function(){return ys},_l=x.__private__.setLineWidth=x.setLineWidth=function(S){return ys=S,ce(V(D(S))+" w"),this};x.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(se){return V(D(se))}).join(" "),q=V(D(q)),ce("["+S+"] "+q+" d"),this};var Bs=x.__private__.getLineHeight=x.getLineHeight=function(){return dt*Sn};x.__private__.getLineHeight=x.getLineHeight=function(){return dt*Sn};var Us=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Sn=S),this},fa=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Sn};Us(n.lineHeight);var Ai=x.__private__.getHorizontalCoordinate=function(S){return D(S)},Vr=x.__private__.getVerticalCoordinate=function(S){return H===M.ADVANCED?S:vt[G].mediaBox.topRightY-vt[G].mediaBox.bottomLeftY-D(S)},xu=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(S){return V(Ai(S))},bs=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(S){return V(Vr(S))},vi=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return _r(vi)},x.__private__.setStrokeColor=x.setDrawColor=function(S,q,se,ve){return vi=rr({ch1:S,ch2:q,ch3:se,ch4:ve,pdfColorType:"draw",precision:2}),ce(vi),this};var xs=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return _r(xs)},x.__private__.setFillColor=x.setFillColor=function(S,q,se,ve){return xs=rr({ch1:S,ch2:q,ch3:se,ch4:ve,pdfColorType:"fill",precision:2}),ce(xs),this};var Ya=n.textColor||"0 g",Co=x.__private__.getTextColor=x.getTextColor=function(){return _r(Ya)};x.__private__.setTextColor=x.setTextColor=function(S,q,se,ve){return Ya=rr({ch1:S,ch2:q,ch3:se,ch4:ve,pdfColorType:"text",precision:3}),this};var zs=n.charSpace,ko=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(zs||0)};x.__private__.setCharSpace=x.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zs=S,this};var Sl=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(S){var q=x.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=q,ce(q+" J"),this};var qs=0;x.__private__.setLineJoin=x.setLineJoin=function(S){var q=x.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=q,ce(q+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(V(D(S))+" M"),this},x.GState=Fg,x.setGState=function(S){(S=typeof S=="string"?Ee[mt[S]]:ws(null,S)).equals(jt)||(ce("/"+S.id+" gs"),jt=S)};var ws=function(S,q){if(!S||!mt[S]){var se=!1;for(var ve in Ee)if(Ee.hasOwnProperty(ve)&&Ee[ve].equals(q)){se=!0;break}if(se)q=Ee[ve];else{var Ie="GS"+(Object.keys(Ee).length+1).toString(10);Ee[Ie]=q,q.id=Ie}return S&&(mt[S]=q.id),Lt.publish("addGState",q),q}};x.addGState=function(S,q){return ws(S,q),this},x.saveGraphicsState=function(){return ce("q"),at.push({key:Bt,size:dt,color:Ya}),this},x.restoreGraphicsState=function(){ce("Q");var S=at.pop();return Bt=S.key,dt=S.size,Ya=S.color,jt=null,this},x.setCurrentTransformationMatrix=function(S){return ce(S.toString()+" cm"),this},x.comment=function(S){return ce("#"+S),this};var Hs=function(S,q){var se=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function($e){isNaN($e)||(se=parseFloat($e))}});var ve=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function($e){isNaN($e)||(ve=parseFloat($e))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function($e){Ie=$e.toString()}}),this},Io=function(S,q,se,ve){Hs.call(this,S,q),this.type="rect";var Ie=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(ut){isNaN(ut)||(Ie=parseFloat(ut))}});var $e=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(ut){isNaN(ut)||($e=parseFloat(ut))}}),this},$s=function(){this.page=It,this.currentPage=G,this.pages=rt.slice(0),this.pagesContext=vt.slice(0),this.x=mn,this.y=ue,this.matrix=me,this.width=Ss(G),this.height=Ei(G),this.outputDestination=ft,this.id="",this.objectNumber=-1};$s.prototype.restore=function(){It=this.page,G=this.currentPage,vt=this.pagesContext,rt=this.pages,mn=this.x,ue=this.y,me=this.matrix,Gs(G,this.width),Ro(G,this.height),ft=this.outputDestination};var _s=function(S,q,se,ve,Ie){Ir.push(new $s),It=G=0,rt=[],mn=S,ue=q,me=Ie,gi([se,ve])},wu=function(S){if(nr[S])Ir.pop().restore();else{var q=new $s,se="Xo"+(Object.keys(Ht).length+1).toString(10);q.id=se,nr[S]=se,Ht[se]=q,Lt.publish("addFormObject",q),Ir.pop().restore()}};for(var Ka in x.beginFormObject=function(S,q,se,ve,Ie){return _s(S,q,se,ve,Ie),this},x.endFormObject=function(S){return wu(S),this},x.doFormObject=function(S,q){var se=Ht[nr[S]];return ce("q"),ce(q.toString()+" cm"),ce("/"+se.id+" Do"),ce("Q"),this},x.getFormObject=function(S){var q=Ht[nr[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},x.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Qc(No(Ha()),S),typeof Qc.unload=="function"&&Zt.setTimeout&&setTimeout(Qc.unload,911),this):new Promise(function(se,ve){try{var Ie=Qc(No(Ha()),S);typeof Qc.unload=="function"&&Zt.setTimeout&&setTimeout(Qc.unload,911),se(Ie)}catch($e){ve($e.message)}})},$t.API)$t.API.hasOwnProperty(Ka)&&(Ka==="events"&&$t.API.events.length?function(S,q){var se,ve,Ie;for(Ie=q.length-1;Ie!==-1;Ie--)se=q[Ie][0],ve=q[Ie][1],S.subscribe.apply(S,[se].concat(typeof ve=="function"?[ve]:ve))}(Lt,$t.API.events):x[Ka]=$t.API[Ka]);var Ss=x.getPageWidth=function(S){return(vt[S=S||G].mediaBox.topRightX-vt[S].mediaBox.bottomLeftX)/pt},Gs=x.setPageWidth=function(S,q){vt[S].mediaBox.topRightX=q*pt+vt[S].mediaBox.bottomLeftX},Ei=x.getPageHeight=function(S){return(vt[S=S||G].mediaBox.topRightY-vt[S].mediaBox.bottomLeftY)/pt},Ro=x.setPageHeight=function(S,q){vt[S].mediaBox.topRightY=q*pt+vt[S].mediaBox.bottomLeftY};return x.internal={pdfEscape:Rn,getStyle:$i,getFont:Fr,getFontSize:bt,getCharSpace:ko,getTextColor:Co,getLineHeight:Bs,getLineHeightFactor:fa,getLineWidth:Ea,write:kt,getHorizontalCoordinate:Ai,getVerticalCoordinate:Vr,getCoordinateString:xu,getVerticalCoordinateString:bs,collections:{},newObject:On,newAdditionalObject:fi,newObjectDeferred:Dn,newObjectDeferredBegin:Tn,getFilters:fr,putStream:Mn,events:Lt,scaleFactor:pt,pageSize:{getWidth:function(){return Ss(G)},setWidth:function(S){Gs(G,S)},getHeight:function(){return Ei(G)},setHeight:function(S){Ro(G,S)}},encryptionOptions:g,encryption:ir,getEncryptor:Ga,output:$a,getNumberOfPages:Hn,pages:rt,out:ce,f2:Q,f3:O,getPageInfo:wa,getPageInfoByObjId:Wt,getCurrentPageInfo:_a,getPDFVersion:k,Point:Hs,Rectangle:Io,Matrix:At,hasHotfix:xa},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Ss(G)},set:function(S){Gs(G,S)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ei(G)},set:function(S){Ro(G,S)},enumerable:!0,configurable:!0}),yl.call(x,Je),Bt="F1",ps(i,t),Lt.publish("initialized"),x}Xh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Xh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Xh.prototype.processOwnerPassword=function(n,e){return A2(S2(e).substr(0,5),n)},Xh.prototype.encryptor=function(n,e){var t=S2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return A2(t,r)}},Fg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},$t.API={events:[]},$t.version="3.0.1";var Hr=$t.API,tb=1,fh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(n){return n.toFixed(2)},Zu=function(n){return n.toFixed(5)};Hr.__acroform__={};var Ba=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Y_=function(n){return n*tb},tl=function(n){var e=new FE,t=Dt.internal.getHeight(n)||0,r=Dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(un(r)),Number(un(t))],e},SF=Hr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},AF=Hr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},EF=Hr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ti=Hr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EF(n,e-1)},ni=Hr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return SF(n,e-1)},ri=Hr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AF(n,e-1)},TF=Hr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],l=n[2],c=n[3],h={};return h.lowerLeft_X=t(i)||0,h.lowerLeft_Y=r(s+c)||0,h.upperRight_X=t(i+l)||0,h.upperRight_Y=r(s)||0,[Number(un(h.lowerLeft_X)),Number(un(h.lowerLeft_Y)),Number(un(h.upperRight_X)),Number(un(h.upperRight_Y))]},NF=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=E2(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=tl(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},E2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=t,l=Dt.internal.getHeight(n)||0;l=l<0?-l:l;var c=Dt.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(O,D,B){if(O+1<i.length){var he=D+" "+i[O+1][0];return Om(he,n,B).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,g,b=Om("3",n,s).height,w=n.multiline?l-s:(l-b)/2,x=w+=2,C=0,k=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Om(e,n,s=12).width+", FieldWidth:"+c+`
`;break}for(var N="",M=0,H=0;H<i.length;H++)if(i.hasOwnProperty(H)){var re=!1;if(i[H].length!==1&&I!==i[H].length-1){if((b+2)*(M+2)+2>l)continue e;N+=i[H][I],re=!0,k=H,H--}else{N=(N+=i[H][I]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var K=parseInt(H),ge=h(K,N,s),V=H>=i.length-1;if(ge&&!V){N+=" ",I=0;continue}if(ge||V){if(V)k=K;else if(n.multiline&&(b+2)*(M+2)+2>l)continue e}else{if(!n.multiline||(b+2)*(M+2)+2>l)continue e;k=K}}for(var P="",U=C;U<=k;U++){var Q=i[U];if(n.multiline){if(U===k){P+=Q[I]+" ",I=(I+1)%Q.length;continue}if(U===C){P+=Q[Q.length-1]+" ";continue}}P+=Q[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,g=Om(P,n,s).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;case"left":default:d=2}e+=un(d)+" "+un(x)+` Td
`,e+="("+fh(P)+`) Tj
`,e+=-un(d)+` 0 Td
`,x=-(s+2),g=0,C=re?k:k+1,M++,N=""}break}return r.text=e,r.fontSize=s,r},Om=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},CF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kF=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},IF=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),zn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},RF=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(_o.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(CF)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new VE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&kF(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],d=c.Rect;if(c.Rect&&(c.Rect=TF(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Dt.createDefaultAppearanceStream(c),zn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=NF(c);h.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var b="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var x=c.appearanceStreamContent[w];if(b+="/"+w+" ",b+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var C=x[l];typeof C=="function"&&(C=C.call(i,c)),b+="/"+l+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=x)=="function"&&(C=C.call(i,c)),b+="/"+l+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:c.objId}),i.internal.out("endobj")}s&&IF(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},jE=Hr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),zn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+fh(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+fh(r(n))+")"},al=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};al.prototype.toString=function(){return this.objId+" 0 R"},al.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},al.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:jE(i,this.objId,this.scope)}):i instanceof al?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var FE=function(){al.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ba(FE,al);var VE=function(){al.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fh(t(n))+")"}},set:function(t){n=t}})};Ba(VE,al);var _o=function n(){al.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(N){N?this.F=ni(e,3):this.F=ri(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Vg)return;s="FieldObject"+n.FieldNum++}var N=function(M){return M};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+fh(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/tb:d},set:function(N){d=N}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(N){g=N}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Vg||this instanceof th))return xv(b,this.objId,this.scope)},set:function(N){N=N.toString(),b=N}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ri?w:xv(w,this.objId,this.scope)},set:function(N){N=N.toString(),w=this instanceof Ri?N:N.substr(0,1)==="("?Hh(N.substr(1,N.length-2)):Hh(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri?Hh(w.substr(1,w.length-1)):w},set:function(N){N=N.toString(),w=this instanceof Ri?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ri?x:xv(x,this.objId,this.scope)},set:function(N){N=N.toString(),x=this instanceof Ri?N:N.substr(0,1)==="("?Hh(N.substr(1,N.length-2)):Hh(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri?Hh(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof Ri?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(N){N=!!N,k=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(N){C=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(N){N?this.Ff=ni(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(N){N?this.Ff=ni(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(N){N?this.Ff=ni(this.Ff,3):this.Ff=ri(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');I=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(I){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Ba(_o,al);var ad=function(){_o.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,l,c){c||(c=1);for(var h,d=[];h=l.exec(s);)d.push(h[c]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(t){t?this.Ff=ni(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ni(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(t){t?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(t){t?this.Ff=ni(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(t){t?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(t){t?this.Ff=ni(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};Ba(ad,_o);var sd=function(){ad.call(this),this.fontName="helvetica",this.combo=!1};Ba(sd,ad);var od=function(){sd.call(this),this.combo=!0};Ba(od,sd);var eg=function(){od.call(this),this.edit=!0};Ba(eg,od);var Ri=function(){_o.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(t){t?this.Ff=ni(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(t){t?this.Ff=ni(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(t){t?this.Ff=ni(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(t){t?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+fh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ba(Ri,_o);var tg=function(){Ri.call(this),this.pushButton=!0};Ba(tg,Ri);var ld=function(){Ri.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ba(ld,Ri);var Vg=function(){var n,e;_o.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+fh(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ba(Vg,_o),ld.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ld.prototype.createOption=function(n){var e=new Vg;return e.Parent=this,e.optionName=n,this.Kids.push(e),PF.call(this.scope,e),e};var ng=function(){Ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Ba(ng,Ri);var th=function(){_o.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ba(th,_o);var rg=function(){th.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(n){n?this.Ff=ni(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};Ba(rg,th);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=E2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+un(Dt.internal.getWidth(n))+" "+un(Dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+un(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Dt.internal.getHeight(n),l=Dt.internal.getWidth(n),c=E2(n,n.caption);return i.push("1 g"),i.push("0 0 "+un(l)+" "+un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+un(l-1)+" "+un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+un(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Dt.internal.getWidth(n))+" "+un(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Circle.YesNormal,e.D[n]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Dt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Zu(Dt.internal.getWidth(n)/2)+" "+Zu(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5)),l=Number((r*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Zu(Dt.internal.getWidth(n)/2)+" "+Zu(Dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Zu(Dt.internal.getWidth(n)/2)+" "+Zu(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Zu(Dt.internal.getWidth(n)/2)+" "+Zu(Dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Cross.YesNormal,e.D[n]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=Dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+un(Dt.internal.getWidth(n)-2)+" "+un(Dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),t.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),t.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),t.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=Dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+un(Dt.internal.getWidth(n))+" "+un(Dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+un(Dt.internal.getWidth(n)-2)+" "+un(Dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(un(t.x1.x)+" "+un(t.x1.y)+" m"),r.push(un(t.x2.x)+" "+un(t.x2.y)+" l"),r.push(un(t.x4.x)+" "+un(t.x4.y)+" m"),r.push(un(t.x3.x)+" "+un(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Dt.internal.getWidth(n))+" "+un(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Dt.internal.getWidth(n),t=Dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Dt.internal.getWidth=function(n){var e=0;return zn(n)==="object"&&(e=Y_(n.Rect[2])),e},Dt.internal.getHeight=function(n){var e=0;return zn(n)==="object"&&(e=Y_(n.Rect[3])),e};var PF=Hr.addField=function(n){if(RF(this,n),!(n instanceof _o))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=ad,Hr.AcroFormListBox=sd,Hr.AcroFormComboBox=od,Hr.AcroFormEditBox=eg,Hr.AcroFormButton=Ri,Hr.AcroFormPushButton=tg,Hr.AcroFormRadioButton=ld,Hr.AcroFormCheckBox=ng,Hr.AcroFormTextField=th,Hr.AcroFormPasswordField=rg,Hr.AcroFormAppearance=Dt,Hr.AcroForm={ChoiceField:ad,ListBox:sd,ComboBox:od,EditBox:eg,Button:Ri,PushButton:tg,RadioButton:ld,CheckBox:ng,TextField:th,PasswordField:rg,Appearance:Dt},$t.AcroForm={ChoiceField:ad,ListBox:sd,ComboBox:od,EditBox:eg,Button:Ri,PushButton:tg,RadioButton:ld,CheckBox:ng,TextField:th,PasswordField:rg,Appearance:Dt};$t.AcroForm;function BE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(O,D){var B,he,be,ie,pe,fe=e;if((D=D||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ge(O))for(pe in t)for(be=t[pe],B=0;B<be.length;B+=1){for(ie=!0,he=0;he<be[B].length;he+=1)if(be[B][he]!==void 0&&be[B][he]!==O[he]){ie=!1;break}if(ie===!0){fe=pe;break}}else for(pe in t)for(be=t[pe],B=0;B<be.length;B+=1){for(ie=!0,he=0;he<be[B].length;he+=1)if(be[B][he]!==void 0&&be[B][he]!==O.charCodeAt(he)){ie=!1;break}if(ie===!0){fe=pe;break}}return fe===e&&D!==e&&(fe=D),fe},i=function O(D){for(var B=this.internal.write,he=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:D.width}),ie.push({key:"Height",value:D.height}),D.colorSpace===I.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===I.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var pe="",fe=0,Le=D.transparency.length;fe<Le;fe++)pe+=D.transparency[fe]+" "+D.transparency[fe]+" ";ie.push({key:"Mask",value:"["+pe+"]"})}D.sMask!==void 0&&ie.push({key:"SMask",value:D.objectId+1+" 0 R"});var J=D.filter!==void 0?["/"+D.filter]:void 0;if(he({data:D.data,additionalKeyValues:ie,alreadyAppliedFilters:J,objectId:D.objectId}),B("endobj"),"sMask"in D&&D.sMask!==void 0){var ke="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,j={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:ke,data:D.sMask};"filter"in D&&(j.filter=D.filter),O.call(this,j)}if(D.colorSpace===I.INDEXED){var G=this.internal.newObject();he({data:P(new Uint8Array(D.palette)),objectId:G}),B("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var D in O)i.call(this,O[D])},l=function(){var O,D=this.internal.collections.addImage_images,B=this.internal.write;for(var he in D)B("/I"+(O=D[he]).index,O.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var O=this.internal.collections.addImage_images;return c.call(this),O},d=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(O){return typeof n["process"+O.toUpperCase()]=="function"},b=function(O){return zn(O)==="object"&&O.nodeType===1},w=function(O,D){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var B=""+O.getAttribute("src");if(B.indexOf("data:image/")===0)return zf(unescape(B).split("base64,").pop());var he=n.loadFile(B,!0);if(he!==void 0)return he}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var be;switch(D){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;case"JPEG":case"JPG":default:be="image/jpeg"}return zf(O.toDataURL(be,1).split("base64,").pop())}},x=function(O){var D=this.internal.collections.addImage_images;if(D){for(var B in D)if(O===D[B].alias)return D[B]}},C=function(O,D,B){return O||D||(O=-96,D=-96),O<0&&(O=-1*B.width*72/O/this.internal.scaleFactor),D<0&&(D=-1*B.height*72/D/this.internal.scaleFactor),O===0&&(O=D*B.width/B.height),D===0&&(D=O*B.height/B.width),[O,D]},k=function(O,D,B,he,be,ie){var pe=C.call(this,B,he,be),fe=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,J=h.call(this);if(B=pe[0],he=pe[1],J[be.index]=be,ie){ie*=Math.PI/180;var ke=Math.cos(ie),j=Math.sin(ie),G=function(le){return le.toFixed(4)},ne=[G(ke),G(j),G(-1*j),G(ke),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,fe(O),Le(D+he),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([fe(B),"0","0",fe(he),"0","0","cm"].join(" "))):this.internal.write([fe(B),"0","0",fe(he),fe(O),Le(D+he),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},I=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(O){var D,B,he=0;if(typeof O=="string")for(B=O.length,D=0;D<B;D++)he=(he<<5)-he+O.charCodeAt(D),he|=0;else if(ge(O))for(B=O.byteLength/2,D=0;D<B;D++)he=(he<<5)-he+O[D],he|=0;return he},H=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var D=!0;return O.length===0&&(D=!1),O.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(D=!1),D},re=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var D=O.indexOf(",");return D<0?null:O.substring(0,D).trim().endsWith("base64")?O.substring(D+1):null},K=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(O){return K()&&O instanceof ArrayBuffer};var ge=n.__addimage__.isArrayBufferView=function(O){return K()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},V=n.__addimage__.binaryStringToUint8Array=function(O){for(var D=O.length,B=new Uint8Array(D),he=0;he<D;he++)B[he]=O.charCodeAt(he);return B},P=n.__addimage__.arrayBufferToBinaryString=function(O){for(var D="",B=ge(O)?O:new Uint8Array(O),he=0;he<B.length;he+=8192)D+=String.fromCharCode.apply(null,B.subarray(he,he+8192));return D};n.addImage=function(){var O,D,B,he,be,ie,pe,fe,Le;if(typeof arguments[1]=="number"?(D=e,B=arguments[1],he=arguments[2],be=arguments[3],ie=arguments[4],pe=arguments[5],fe=arguments[6],Le=arguments[7]):(D=arguments[1],B=arguments[2],he=arguments[3],be=arguments[4],ie=arguments[5],pe=arguments[6],fe=arguments[7],Le=arguments[8]),zn(O=arguments[0])==="object"&&!b(O)&&"imageData"in O){var J=O;O=J.imageData,D=J.format||D||e,B=J.x||B||0,he=J.y||he||0,be=J.w||J.width||be,ie=J.h||J.height||ie,pe=J.alias||pe,fe=J.compression||fe,Le=J.rotation||J.angle||Le}var ke=this.internal.getFilters();if(fe===void 0&&ke.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(B)||isNaN(he))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var j=U.call(this,O,D,pe,fe);return k.call(this,B,he,be,ie,j,Le),this};var U=function(O,D,B,he){var be,ie,pe;if(typeof O=="string"&&r(O)===e){O=unescape(O);var fe=Q(O,!1);(fe!==""||(fe=n.loadFile(O,!0))!==void 0)&&(O=fe)}if(b(O)&&(O=w(O,D)),D=r(O,D),!g(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((pe=B)==null||pe.length===0)&&(B=function(Le){return typeof Le=="string"||ge(Le)?M(Le):ge(Le.data)?M(Le.data):null}(O)),(be=x.call(this,B))||(K()&&(O instanceof Uint8Array||D==="RGBA"||(ie=O,O=V(O))),be=this["process"+D.toUpperCase()](O,d.call(this),B,function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in n.image_compression?Le:N.NONE}(he),ie)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},Q=n.__addimage__.convertBase64ToBinaryString=function(O,D){D=typeof D!="boolean"||D;var B,he="";if(typeof O=="string"){var be;B=(be=re(O))!==null&&be!==void 0?be:O;try{he=zf(B)}catch(ie){if(D)throw H(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};n.getImageProperties=function(O){var D,B,he="";if(b(O)&&(O=w(O)),typeof O=="string"&&r(O)===e&&((he=Q(O,!1))===""&&(he=n.loadFile(O)||""),O=he),B=r(O),!g(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!K()||O instanceof Uint8Array||(O=V(O)),!(D=this["process"+B.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=B,D}})($t.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};$t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,b=0;b<d.length&&!g;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var x=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(k.objId),M=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+x(N(r.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+x(N(M))+") >>",k.content=s;var H=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+H,r.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(k.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var re=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+re+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var K=this.annotations._nameMap[r.options.name];r.options.pageNumber=K.page,r.options.top=K.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ge=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ge+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(t),y:d(r),w:h(t+i),h:d(r+s)},options:l,type:"link"})},n.textWithLink=function(t,r,i,s){var l,c,h=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var g=this.splitTextToSize(t,c).length;l=Math.ceil(d*g)}else c=h,l=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=h/2),s.align==="right"&&(r-=h),this.link(r,i-d,c,l,s),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}($t.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},c=n.__arabicParser__.isArabicEndLetter=function(k){return l(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(k){return l(k)&&i.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return l(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return l(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return l(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return l(k)&&s(k)&&e[k.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(k){var I=0,N=t,M="",H=0;for(I=0;I<k.length;I+=1)N[k.charCodeAt(I)]!==void 0?(H++,typeof(N=N[k.charCodeAt(I)])=="number"&&(M+=String.fromCharCode(N),N=t,H=0),I===k.length-1&&(N=t,M+=k.charAt(I-(H-1)),I-=H-1,H=0)):(N=t,M+=k.charAt(I-H),I-=H,H=0);return M};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(k,I,N){return l(k)?s(k)===!1?-1:!d(k)||!l(I)&&!l(N)||!l(N)&&c(I)||c(k)&&!l(I)||c(k)&&h(I)||c(k)&&c(I)?0:g(k)&&l(I)&&!c(I)&&l(N)&&d(N)?3:c(k)||!l(N)?1:2:-1},x=function(k){var I=0,N=0,M=0,H="",re="",K="",ge=(k=k||"").split("\\s+"),V=[];for(I=0;I<ge.length;I+=1){for(V.push(""),N=0;N<ge[I].length;N+=1)H=ge[I][N],re=ge[I][N-1],K=ge[I][N+1],l(H)?(M=w(H,re,K),V[I]+=M!==-1?String.fromCharCode(e[H.charCodeAt(0)][M]):H):V[I]+=H;V[I]=b(V[I])}return V.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var k,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(I)){var M=0;for(N=[],M=0;M<I.length;M+=1)Array.isArray(I[M])?N.push([x(I[M][0]),I[M][1],I[M][2]]):N.push([x(I[M])]);k=N}else k=x(I);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",C])}($t.API),$t.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($t.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(k){C=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,x=0,C=0,k=0,I=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var N=d.maxWidth;N>0?typeof h=="string"?h=this.splitTextToSize(h,N):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(H,re){return H.concat(I.splitTextToSize(re,N))},[])):h=Array.isArray(h)?h:[h];for(var M=0;M<h.length;M++)x<(k=this.getStringUnitWidth(h[M],{font:b})*g)&&(x=k);return x!==0&&(C=h.length),{w:x/=w,h:Math.max((C*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,x&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,d,g,b,w){if(r.call(this),!g)throw new Error("No data for PDF table.");var x,C,k,I,N=[],M=[],H=[],re={},K={},ge=[],V=[],P=(w=w||{}).autoSize||!1,U=w.printHeaders!==!1,Q=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,O=w.margins||Object.assign({width:this.getPageWidth()},e),D=typeof w.padding=="number"?w.padding:3,B=w.headerBackgroundColor||"#c8c8c8",he=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=he,this.setFontSize(Q),b==null)M=N=Object.keys(g[0]),H=N.map(function(){return"left"});else if(Array.isArray(b)&&zn(b[0])==="object")for(N=b.map(function(J){return J.name}),M=b.map(function(J){return J.prompt||J.name||""}),H=b.map(function(J){return J.align||"left"}),x=0;x<b.length;x+=1)K[b[x].name]=b[x].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(M=N=b,H=N.map(function(){return"left"}));if(P||Array.isArray(b)&&typeof b[0]=="string")for(x=0;x<N.length;x+=1){for(re[I=N[x]]=g.map(function(J){return J[I]}),this.setFont(void 0,"bold"),ge.push(this.getTextDimensions(M[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=re[I],this.setFont(void 0,"normal"),k=0;k<C.length;k+=1)ge.push(this.getTextDimensions(C[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[I]=Math.max.apply(null,ge)+D+D,ge=[]}if(U){var be={};for(x=0;x<N.length;x+=1)be[N[x]]={},be[N[x]].text=M[x],be[N[x]].align=H[x];var ie=c.call(this,be,K);V=N.map(function(J){return new s(h,d,K[J],ie,be[J].text,void 0,be[J].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var pe=b.reduce(function(J,ke){return J[ke.name]=ke.align,J},{});for(x=0;x<g.length;x+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:x,data:g[x]},this);var fe=c.call(this,g[x],K);for(k=0;k<N.length;k+=1){var Le=g[x][N[k]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:x,col:k,data:Le},this),l.call(this,new s(h,d,K[N[k]],fe,Le,x+2,pe[N[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var c=function(h,d){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(x){var C=h[x];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,d[x]-g-g)},this).map(function(x){return this.getLineHeightFactor()*x.length*b/w+g+g},this).reduce(function(x,C){return Math.max(x,C)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){g=this.internal.__cell__.tableHeaderRow[x].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=h;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(C)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}}($t.API);var UE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T2=BE(zE),qE=[100,200,300,400,500,600,700,800,900],LF=BE(qE);function N2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return UE[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof T2[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function K_(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var OF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},X_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function DF(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},OF,t.genericFontFamilies||{}),s=null,l=null,c=0;c<e.length;++c)if(i[(s=N2(e[c])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){l=n[s.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+Q_(s)+"' and default family '"+r+"'.");if(l=function(h,d){if(d[h])return d[h];var g=T2[h],b=g<=T2.normal?-1:1,w=K_(d,zE,g,b);if(!w)throw new Error("Could not find a matching font-stretch value for "+h);return w}(s.stretch,l),l=function(h,d){if(d[h])return d[h];for(var g=UE[h],b=0;b<g.length;++b)if(d[g[b]])return d[g[b]];throw new Error("Could not find a matching font-style for "+h)}(s.style,l),!(l=function(h,d){if(d[h])return d[h];if(h===400&&d[500])return d[500];if(h===500&&d[400])return d[400];var g=LF[h],b=K_(d,qE,g,h<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+h);return b}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Q_(s)+"'.");return l}function J_(n){return n.trimLeft()}function MF(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function jF(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Dm,Z_,eS,wv=["times"];(function(n){var e,t,r,i,s,l,c,h,d,g=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new h,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new l,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new l,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,d=new g}]);var b=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=j;Object.defineProperty(this,"pdf",{get:function(){return G}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(qe){ne=!!qe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(qe){le=!!qe}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(qe){isNaN(qe)||(oe=qe)}});var Ne=0;Object.defineProperty(this,"posY",{get:function(){return Ne},set:function(qe){isNaN(qe)||(Ne=qe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(qe){var ce;typeof qe=="number"?ce=[qe,qe,qe,qe]:((ce=new Array(4))[0]=qe[0],ce[1]=qe.length>=2?qe[1]:ce[0],ce[2]=qe.length>=3?qe[2]:ce[0],ce[3]=qe.length>=4?qe[3]:ce[1]),d.margin=ce}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(qe){_e=qe}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(qe){Oe=qe}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(qe){lt=qe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(qe){qe instanceof g&&(d=qe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(qe){d.path=qe}});var rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return rt},set:function(qe){rt=qe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(qe){var ce;ce=w(qe),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(qe){var ce=w(qe);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(qe){["butt","round","square"].indexOf(qe)!==-1&&(this.ctx.lineCap=qe,this.pdf.setLineCap(qe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(qe){isNaN(qe)||(this.ctx.lineWidth=qe,this.pdf.setLineWidth(qe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(qe){["bevel","round","miter"].indexOf(qe)!==-1&&(this.ctx.lineJoin=qe,this.pdf.setLineJoin(qe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(qe){isNaN(qe)||(this.ctx.miterLimit=qe,this.pdf.setMiterLimit(qe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(qe){this.ctx.textBaseline=qe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(qe){["right","end","center","left","start"].indexOf(qe)!==-1&&(this.ctx.textAlign=qe)}});var ht=null;function ft(qe,ce){if(ht===null){var kt=function(Nt){var Je=[];return Object.keys(Nt).forEach(function(dt){Nt[dt].forEach(function(yt){var bt=null;switch(yt){case"bold":bt={family:dt,weight:"bold"};break;case"italic":bt={family:dt,style:"italic"};break;case"bolditalic":bt={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:dt}}bt!==null&&(bt.ref={name:dt,style:yt},Je.push(bt))})}),Je}(qe.getFontList());ht=function(Nt){for(var Je={},dt=0;dt<Nt.length;++dt){var yt=N2(Nt[dt]),bt=yt.family,He=yt.stretch,Ke=yt.style,Xe=yt.weight;Je[bt]=Je[bt]||{},Je[bt][He]=Je[bt][He]||{},Je[bt][He][Ke]=Je[bt][He][Ke]||{},Je[bt][He][Ke][Xe]=yt}return Je}(kt.concat(ce))}return ht}var Pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pt},set:function(qe){ht=null,Pt=qe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(qe){var ce;if(this.ctx.font=qe,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(qe))!==null){var kt=ce[1];ce[2];var Nt=ce[3],Je=ce[4];ce[5];var dt=ce[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(yt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var bt=function(St){var Bt,pt,mn=[],ue=St.trim();if(ue==="")return wv;if(ue in X_)return[X_[ue]];for(;ue!=="";){switch(pt=null,Bt=(ue=J_(ue)).charAt(0)){case'"':case"'":pt=MF(ue.substring(1),Bt);break;default:pt=jF(ue)}if(pt===null||(mn.push(pt[0]),(ue=J_(pt[1]))!==""&&ue.charAt(0)!==","))return wv;ue=ue.replace(/^,/,"")}return mn}(dt);if(this.fontFaces){var He=DF(ft(this.pdf,this.fontFaces),bt.map(function(St){return{family:St,stretch:"normal",weight:Nt,style:kt}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ke="";(Nt==="bold"||parseInt(Nt,10)>=700||kt==="bold")&&(Ke="bold"),kt==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var Xe="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<bt.length;gt++){if(this.pdf.internal.getFont(bt[gt],Ke,{noFallback:!0,disableWarning:!0})!==void 0){Xe=bt[gt];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(bt[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=bt[gt],Ke="bold";else if(this.pdf.internal.getFont(bt[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=bt[gt],Ke="normal";break}}if(Xe===""){for(var Mt=0;Mt<bt.length;Mt++)if(Ze[bt[Mt]]){Xe=Ze[bt[Mt]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(qe){this.ctx.globalCompositeOperation=qe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(qe){this.ctx.globalAlpha=qe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(qe){this.ctx.lineDashOffset=qe,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(qe){this.ctx.lineDash=qe,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(qe){this.ctx.ignoreClearRect=!!qe}})};b.prototype.setLineDash=function(j){this.lineDash=j},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){re.call(this,"fill",!1)},b.prototype.stroke=function(){re.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(j,G){if(isNaN(j)||isNaN(G))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new l(j,G));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(j,G)},b.prototype.closePath=function(){var j=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&zn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){j=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(j.x,j.y)},b.prototype.lineTo=function(j,G){if(isNaN(j)||isNaN(G))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new l(j,G));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),re.call(this,null,!0)},b.prototype.quadraticCurveTo=function(j,G,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(j)||isNaN(G))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new l(ne,le)),Ne=this.ctx.transform.applyToPoint(new l(j,G));this.path.push({type:"qct",x1:Ne.x,y1:Ne.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new l(oe.x,oe.y)},b.prototype.bezierCurveTo=function(j,G,ne,le,oe,Ne){if(isNaN(oe)||isNaN(Ne)||isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new l(oe,Ne)),Oe=this.ctx.transform.applyToPoint(new l(j,G)),lt=this.ctx.transform.applyToPoint(new l(ne,le));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:lt.x,y2:lt.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new l(_e.x,_e.y)},b.prototype.arc=function(j,G,ne,le,oe,Ne){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le)||isNaN(oe))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ne=!!Ne,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new l(j,G));j=_e.x,G=_e.y;var Oe=this.ctx.transform.applyToPoint(new l(0,ne)),lt=this.ctx.transform.applyToPoint(new l(0,0));ne=Math.sqrt(Math.pow(Oe.x-lt.x,2)+Math.pow(Oe.y-lt.y,2))}Math.abs(oe-le)>=2*Math.PI&&(le=0,oe=2*Math.PI),this.path.push({type:"arc",x:j,y:G,radius:ne,startAngle:le,endAngle:oe,counterclockwise:Ne})},b.prototype.arcTo=function(j,G,ne,le,oe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(j,G,ne,le){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,G),this.lineTo(j+ne,G),this.lineTo(j+ne,G+le),this.lineTo(j,G+le),this.lineTo(j,G),this.lineTo(j+ne,G),this.lineTo(j,G)},b.prototype.fillRect=function(j,G,ne,le){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,G,ne,le),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},b.prototype.strokeRect=function(j,G,ne,le){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(j,G,ne,le),this.stroke())},b.prototype.clearRect=function(j,G,ne,le){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,G,ne,le))},b.prototype.save=function(j){j=typeof j!="boolean"||j;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},b.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(G),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(j){var G,ne,le,oe;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))G=0,ne=0,le=0,oe=0;else{var Ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Ne!==null)G=parseInt(Ne[1]),ne=parseInt(Ne[2]),le=parseInt(Ne[3]),oe=1;else if((Ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)G=parseInt(Ne[1]),ne=parseInt(Ne[2]),le=parseInt(Ne[3]),oe=parseFloat(Ne[4]);else{if(oe=1,typeof j=="string"&&j.charAt(0)!=="#"){var _e=new OE(j);j=_e.ok?_e.toHex():"#000000"}j.length===4?(G=j.substring(1,2),G+=G,ne=j.substring(2,3),ne+=ne,le=j.substring(3,4),le+=le):(G=j.substring(1,3),ne=j.substring(3,5),le=j.substring(5,7)),G=parseInt(G,16),ne=parseInt(ne,16),le=parseInt(le,16)}}return{r:G,g:ne,b:le,a:oe,style:j}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(j,G,ne,le){if(isNaN(G)||isNaN(ne)||typeof j!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!x.call(this)){var oe=fe(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;D.call(this,{text:j,x:G,y:ne,scale:Ne,angle:oe,align:this.textAlign,maxWidth:le})}},b.prototype.strokeText=function(j,G,ne,le){if(isNaN(G)||isNaN(ne)||typeof j!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){le=isNaN(le)?void 0:le;var oe=fe(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;D.call(this,{text:j,x:G,y:ne,scale:Ne,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:le})}},b.prototype.measureText=function(j){if(typeof j!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,ne=this.pdf.internal.scaleFactor,le=G.internal.getFontSize(),oe=G.getStringUnitWidth(j)*le/G.internal.scaleFactor,Ne=function(_e){var Oe=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this};return new Ne({width:oe*=Math.round(96*ne/72*1e4)/1e4})},b.prototype.scale=function(j,G){if(isNaN(j)||isNaN(G))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new h(j,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},b.prototype.rotate=function(j){if(isNaN(j))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.translate=function(j,G){if(isNaN(j)||isNaN(G))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new h(1,0,0,1,j,G);this.ctx.transform=this.ctx.transform.multiply(ne)},b.prototype.transform=function(j,G,ne,le,oe,Ne){if(isNaN(j)||isNaN(G)||isNaN(ne)||isNaN(le)||isNaN(oe)||isNaN(Ne))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new h(j,G,ne,le,oe,Ne);this.ctx.transform=this.ctx.transform.multiply(_e)},b.prototype.setTransform=function(j,G,ne,le,oe,Ne){j=isNaN(j)?1:j,G=isNaN(G)?0:G,ne=isNaN(ne)?0:ne,le=isNaN(le)?1:le,oe=isNaN(oe)?0:oe,Ne=isNaN(Ne)?0:Ne,this.ctx.transform=new h(j,G,ne,le,oe,Ne)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(j,G,ne,le,oe,Ne,_e,Oe,lt){var rt=this.pdf.getImageProperties(j),ht=1,ft=1,Pt=1,qe=1;le!==void 0&&Oe!==void 0&&(Pt=Oe/le,qe=lt/oe,ht=rt.width/le*Oe/le,ft=rt.height/oe*lt/oe),Ne===void 0&&(Ne=G,_e=ne,G=0,ne=0),le!==void 0&&Oe===void 0&&(Oe=le,lt=oe),le===void 0&&Oe===void 0&&(Oe=rt.width,lt=rt.height);for(var ce,kt=this.ctx.transform.decompose(),Nt=fe(kt.rotate.shx),Je=new h,dt=(Je=(Je=(Je=Je.multiply(kt.translate)).multiply(kt.skew)).multiply(kt.scale)).applyToRectangle(new c(Ne-G*Pt,_e-ne*qe,le*ht,oe*ft)),yt=I.call(this,dt),bt=[],He=0;He<yt.length;He+=1)bt.indexOf(yt[He])===-1&&bt.push(yt[He]);if(H(bt),this.autoPaging)for(var Ke=bt[0],Xe=bt[bt.length-1],Ze=Ke;Ze<Xe+1;Ze++){this.pdf.setPage(Ze);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=Ze===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Ze===1?0:St+(Ze-2)*Bt;if(this.ctx.clip_path.length!==0){var mn=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ce,this.posX+this.margin[3],-pt+Mt+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=mn}var ue=JSON.parse(JSON.stringify(dt));ue=M([ue],this.posX+this.margin[3],-pt+Mt+this.ctx.prevPageLastElemOffset)[0];var me=(Ze>Ke||Ze<Xe)&&k.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Bt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",ue.x,ue.y,ue.w,ue.h,null,null,Nt),me&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,Nt)};var I=function(j,G,ne){var le=[];G=G||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":le.push(Math.floor((j.y+oe)/ne)+1);break;case"arc":le.push(Math.floor((j.y+oe-j.radius)/ne)+1),le.push(Math.floor((j.y+oe+j.radius)/ne)+1);break;case"qct":var Ne=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);le.push(Math.floor((Ne.y+oe)/ne)+1),le.push(Math.floor((Ne.y+Ne.h+oe)/ne)+1);break;case"bct":var _e=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);le.push(Math.floor((_e.y+oe)/ne)+1),le.push(Math.floor((_e.y+_e.h+oe)/ne)+1);break;case"rect":le.push(Math.floor((j.y+oe)/ne)+1),le.push(Math.floor((j.y+j.h+oe)/ne)+1)}for(var Oe=0;Oe<le.length;Oe+=1)for(;this.pdf.internal.getNumberOfPages()<le[Oe];)N.call(this);return le},N=function(){var j=this.fillStyle,G=this.strokeStyle,ne=this.font,le=this.lineCap,oe=this.lineWidth,Ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=G,this.font=ne,this.lineCap=le,this.lineWidth=oe,this.lineJoin=Ne},M=function(j,G,ne){for(var le=0;le<j.length;le++)switch(j[le].type){case"bct":j[le].x2+=G,j[le].y2+=ne;case"qct":j[le].x1+=G,j[le].y1+=ne;case"mt":case"lt":case"arc":default:j[le].x+=G,j[le].y+=ne}return j},H=function(j){return j.sort(function(G,ne){return G-ne})},re=function(j,G){for(var ne,le,oe=this.fillStyle,Ne=this.strokeStyle,_e=this.lineCap,Oe=this.lineWidth,lt=Math.abs(Oe*this.ctx.transform.scaleX),rt=this.lineJoin,ht=JSON.parse(JSON.stringify(this.path)),ft=JSON.parse(JSON.stringify(this.path)),Pt=[],qe=0;qe<ft.length;qe++)if(ft[qe].x!==void 0)for(var ce=I.call(this,ft[qe]),kt=0;kt<ce.length;kt+=1)Pt.indexOf(ce[kt])===-1&&Pt.push(ce[kt]);for(var Nt=0;Nt<Pt.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<Pt[Nt];)N.call(this);if(H(Pt),this.autoPaging)for(var Je=Pt[0],dt=Pt[Pt.length-1],yt=Je;yt<dt+1;yt++){this.pdf.setPage(yt),this.fillStyle=oe,this.strokeStyle=Ne,this.lineCap=_e,this.lineWidth=lt,this.lineJoin=rt;var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=yt===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=yt===1?0:Ke+(yt-2)*Xe;if(this.ctx.clip_path.length!==0){var gt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ne,this.posX+this.margin[3],-Ze+He+this.ctx.prevPageLastElemOffset),K.call(this,j,!0),this.path=gt}if(le=JSON.parse(JSON.stringify(ht)),this.path=M(le,this.posX+this.margin[3],-Ze+He+this.ctx.prevPageLastElemOffset),G===!1||yt===0){var Mt=(yt>Je||yt<dt)&&k.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Xe,null).clip().discardPath()),K.call(this,j,G),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=Oe}else this.lineWidth=lt,K.call(this,j,G),this.lineWidth=Oe;this.path=ht},K=function(j,G){if((j!=="stroke"||G||!C.call(this))&&(j==="stroke"||G||!x.call(this))){for(var ne,le,oe=[],Ne=this.path,_e=0;_e<Ne.length;_e++){var Oe=Ne[_e];switch(Oe.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Oe,deltas:[],abs:[]});break;case"lt":var lt=oe.length;if(Ne[_e-1]&&!isNaN(Ne[_e-1].x)&&(ne=[Oe.x-Ne[_e-1].x,Oe.y-Ne[_e-1].y],lt>0)){for(;lt>=0;lt--)if(oe[lt-1].close!==!0&&oe[lt-1].begin!==!0){oe[lt-1].deltas.push(ne),oe[lt-1].abs.push(Oe);break}}break;case"bct":ne=[Oe.x1-Ne[_e-1].x,Oe.y1-Ne[_e-1].y,Oe.x2-Ne[_e-1].x,Oe.y2-Ne[_e-1].y,Oe.x-Ne[_e-1].x,Oe.y-Ne[_e-1].y],oe[oe.length-1].deltas.push(ne);break;case"qct":var rt=Ne[_e-1].x+2/3*(Oe.x1-Ne[_e-1].x),ht=Ne[_e-1].y+2/3*(Oe.y1-Ne[_e-1].y),ft=Oe.x+2/3*(Oe.x1-Oe.x),Pt=Oe.y+2/3*(Oe.y1-Oe.y),qe=Oe.x,ce=Oe.y;ne=[rt-Ne[_e-1].x,ht-Ne[_e-1].y,ft-Ne[_e-1].x,Pt-Ne[_e-1].y,qe-Ne[_e-1].x,ce-Ne[_e-1].y],oe[oe.length-1].deltas.push(ne);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Oe)}}le=G?null:j==="stroke"?"stroke":"fill";for(var kt=!1,Nt=0;Nt<oe.length;Nt++)if(oe[Nt].arc)for(var Je=oe[Nt].abs,dt=0;dt<Je.length;dt++){var yt=Je[dt];yt.type==="arc"?P.call(this,yt.x,yt.y,yt.radius,yt.startAngle,yt.endAngle,yt.counterclockwise,void 0,G,!kt):B.call(this,yt.x,yt.y),kt=!0}else if(oe[Nt].close===!0)this.pdf.internal.out("h"),kt=!1;else if(oe[Nt].begin!==!0){var bt=oe[Nt].start.x,He=oe[Nt].start.y;he.call(this,oe[Nt].deltas,bt,He),kt=!0}le&&U.call(this,le),G&&Q.call(this)}},ge=function(j){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-ne;case"top":return j+G-ne;case"hanging":return j+G-2*ne;case"middle":return j+G/2-ne;case"ideographic":return j;case"alphabetic":default:return j}},V=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(G,ne){this.colorStops.push([G,ne])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(j,G,ne,le,oe,Ne,_e,Oe,lt){for(var rt=ie.call(this,ne,le,oe,Ne),ht=0;ht<rt.length;ht++){var ft=rt[ht];ht===0&&(lt?O.call(this,ft.x1+j,ft.y1+G):B.call(this,ft.x1+j,ft.y1+G)),be.call(this,j,G,ft.x2,ft.y2,ft.x3,ft.y3,ft.x4,ft.y4)}Oe?Q.call(this):U.call(this,_e)},U=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(j,G){this.pdf.internal.out(t(j)+" "+r(G)+" m")},D=function(j){var G;switch(j.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var ne=this.pdf.getTextDimensions(j.text),le=ge.call(this,j.y),oe=V.call(this,le)-ne.h,Ne=this.ctx.transform.applyToPoint(new l(j.x,le)),_e=this.ctx.transform.decompose(),Oe=new h;Oe=(Oe=(Oe=Oe.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var lt,rt,ht,ft=this.ctx.transform.applyToRectangle(new c(j.x,le,ne.w,ne.h)),Pt=Oe.applyToRectangle(new c(j.x,oe,ne.w,ne.h)),qe=I.call(this,Pt),ce=[],kt=0;kt<qe.length;kt+=1)ce.indexOf(qe[kt])===-1&&ce.push(qe[kt]);if(H(ce),this.autoPaging)for(var Nt=ce[0],Je=ce[ce.length-1],dt=Nt;dt<Je+1;dt++){this.pdf.setPage(dt);var yt=dt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Ke=He-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],Ze=Xe-this.margin[3],gt=dt===1?0:bt+(dt-2)*Ke;if(this.ctx.clip_path.length!==0){var Mt=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(lt,this.posX+this.margin[3],-1*gt+yt),K.call(this,"fill",!0),this.path=Mt}var St=M([JSON.parse(JSON.stringify(Pt))],this.posX+this.margin[3],-gt+yt+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*j.scale),ht=this.lineWidth,this.lineWidth=ht*j.scale);var Bt=this.autoPaging!=="text";if(Bt||St.y+St.h<=He){if(Bt||St.y>=yt&&St.x<=Xe){var pt=Bt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Xe-St.x)[0],mn=M([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-gt+yt+this.ctx.prevPageLastElemOffset)[0],ue=Bt&&(dt>Nt||dt<Je)&&k.call(this);ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ke,null).clip().discardPath()),this.pdf.text(pt,mn.x,mn.y,{angle:j.angle,align:G,renderingMode:j.renderingMode}),ue&&this.pdf.restoreGraphicsState()}}else St.y<He&&(this.ctx.prevPageLastElemOffset+=He-St.y);j.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=ht)}else j.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*j.scale),ht=this.lineWidth,this.lineWidth=ht*j.scale),this.pdf.text(j.text,Ne.x+this.posX,Ne.y+this.posY,{angle:j.angle,align:G,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=ht)},B=function(j,G,ne,le){ne=ne||0,le=le||0,this.pdf.internal.out(t(j+ne)+" "+r(G+le)+" l")},he=function(j,G,ne){return this.pdf.lines(j,G,ne,null,null)},be=function(j,G,ne,le,oe,Ne,_e,Oe){this.pdf.internal.out([e(i(ne+j)),e(s(le+G)),e(i(oe+j)),e(s(Ne+G)),e(i(_e+j)),e(s(Oe+G)),"c"].join(" "))},ie=function(j,G,ne,le){for(var oe=2*Math.PI,Ne=Math.PI/2;G>ne;)G-=oe;var _e=Math.abs(ne-G);_e<oe&&le&&(_e=oe-_e);for(var Oe=[],lt=le?-1:1,rt=G;_e>1e-5;){var ht=rt+lt*Math.min(_e,Ne);Oe.push(pe.call(this,j,rt,ht)),_e-=Math.abs(ht-rt),rt=ht}return Oe},pe=function(j,G,ne){var le=(ne-G)/2,oe=j*Math.cos(le),Ne=j*Math.sin(le),_e=oe,Oe=-Ne,lt=_e*_e+Oe*Oe,rt=lt+_e*oe+Oe*Ne,ht=4/3*(Math.sqrt(2*lt*rt)-rt)/(_e*Ne-Oe*oe),ft=_e-ht*Oe,Pt=Oe+ht*_e,qe=ft,ce=-Pt,kt=le+G,Nt=Math.cos(kt),Je=Math.sin(kt);return{x1:j*Math.cos(G),y1:j*Math.sin(G),x2:ft*Nt-Pt*Je,y2:ft*Je+Pt*Nt,x3:qe*Nt-ce*Je,y3:qe*Je+ce*Nt,x4:j*Math.cos(ne),y4:j*Math.sin(ne)}},fe=function(j){return 180*j/Math.PI},Le=function(j,G,ne,le,oe,Ne){var _e=j+.5*(ne-j),Oe=G+.5*(le-G),lt=oe+.5*(ne-oe),rt=Ne+.5*(le-Ne),ht=Math.min(j,oe,_e,lt),ft=Math.max(j,oe,_e,lt),Pt=Math.min(G,Ne,Oe,rt),qe=Math.max(G,Ne,Oe,rt);return new c(ht,Pt,ft-ht,qe-Pt)},J=function(j,G,ne,le,oe,Ne,_e,Oe){var lt,rt,ht,ft,Pt,qe,ce,kt,Nt,Je,dt,yt,bt,He,Ke=ne-j,Xe=le-G,Ze=oe-ne,gt=Ne-le,Mt=_e-oe,St=Oe-Ne;for(rt=0;rt<41;rt++)Nt=(ce=(ht=j+(lt=rt/40)*Ke)+lt*((Pt=ne+lt*Ze)-ht))+lt*(Pt+lt*(oe+lt*Mt-Pt)-ce),Je=(kt=(ft=G+lt*Xe)+lt*((qe=le+lt*gt)-ft))+lt*(qe+lt*(Ne+lt*St-qe)-kt),rt==0?(dt=Nt,yt=Je,bt=Nt,He=Je):(dt=Math.min(dt,Nt),yt=Math.min(yt,Je),bt=Math.max(bt,Nt),He=Math.max(He,Je));return new c(Math.round(dt),Math.round(yt),Math.round(bt-dt),Math.round(He-yt))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,G,ne=(j=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:G}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})($t.API),function(n){var e=function(s){var l,c,h,d,g,b,w,x,C,k;for(c=[],h=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>h;h+=4)(g=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(b=(g=((g=((g=((g=(g-(k=g%85))/85)-(C=g%85))/85)-(x=g%85))/85)-(w=g%85))/85)%85,c.push(b+33,w+33,x+33,C+33,k+33)):c.push(122);return function(I,N){for(var M=N;M>0;M--)I.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var l,c,h,d,g,b=String,w="length",x=255,C="charCodeAt",k="slice",I="replace";for(s[k](-2),s=s[k](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),h=[],d=0,g=(s+=l="uuuuu"[k](s[w]%5||5))[w];g>d;d+=5)c=52200625*(s[C](d)-33)+614125*(s[C](d+1)-33)+7225*(s[C](d+2)-33)+85*(s[C](d+3)-33)+(s[C](d+4)-33),h.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(N,M){for(var H=M;H>0;H--)N.pop()}(h,l[w]),b.fromCharCode.apply(b,h)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=w2(l)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};n.processDataByFilters=function(s,l){var c=0,h=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}}($t.API),function(n){n.loadFile=function(e,t,r){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(h,d,g){var b=new XMLHttpRequest,w=0,x=function(C){var k=C.length,I=[],N=String.fromCharCode;for(w=0;w<k;w+=1)I.push(N(255&C.charCodeAt(w)));return I.join("")};if(b.open("GET",h,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?g(x(this.responseText)):g(void 0)}),b.send(null),d&&b.status===200)return x(b.responseText)}(i,s,l)}catch{}return c}(e,t,r)},n.loadImageFile=n.loadFile}($t.API),function(n){function e(){return(Zt.html2canvas?Promise.resolve(Zt.html2canvas):g2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Zt.DOMPurify?Promise.resolve(Zt.DOMPurify):g2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=zn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var h=document.createElement(l);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},s=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),h);return d=(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(d,g){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),w=d.firstChild;w;w=w.nextSibling)g!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||b.appendChild(h(w,g));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var w=0;w<d.length;++w){var x=d[w],C=x.src.find(function(k){return k.format==="truetype"});C&&h.addFont(C.url,x.ref.name,x.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),c(this.prop.container,b)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var h=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(l=l||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,h,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,h,d){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(d,g){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,d),b}).then(d,g).then(function(b){return h.updateProgress(1),b})})},s.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),g=h.call(d,l,c);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,$t.getPageSize=function(l,c,h){if(zn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var g,b=(""+h).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var x,C=0,k=0;if(w.hasOwnProperty(b))C=w[b][1]/g,k=w[b][0]/g;else try{C=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",k>C&&(x=k,k=C,C=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",C>k&&(x=k,k=C,C=x)}return{width:k,height:C,unit:c,k:g,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(N2):null;var h=new s(c);return c.worker?h:h.from(l).doCallback()}}($t.API),$t.API.addJS=function(n){return eS=n,this.internal.events.subscribe("postPutResources",function(){Dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dm!==void 0&&Z_!==void 0&&this.internal.out("/Names <</JavaScript "+Dm+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],c=r.exec(l);if(c!=null){var h=c[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(s=0;s<d;s++){var b=t.internal.newObject();g.push(b);var w=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<g.length;s++)t.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}($t.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,l,c){var h,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=function(b){for(var w,x=256*b.charCodeAt(4)+b.charCodeAt(5),C=b.length,k={width:0,height:0,numcomponents:1},I=4;I<C;I+=2){if(I+=x,e.indexOf(b.charCodeAt(I+1))!==-1){w=256*b.charCodeAt(I+5)+b.charCodeAt(I+6),k={width:256*b.charCodeAt(I+7)+b.charCodeAt(I+8),height:w,numcomponents:b.charCodeAt(I+9)};break}x=256*b.charCodeAt(I+2)+b.charCodeAt(I+3)}return k}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:i}}return g}}($t.API);var $h,Mm,tS,nS,rS,FF=function(){var n,e,t;function r(s){var l,c,h,d,g,b,w,x,C,k,I,N,M,H;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(l=this.readUInt32(),C=(function(){var re,K;for(K=[],re=0;re<4;++re)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),d=this.readUInt16()||100,b.delay=1e3*g/d,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,l-=4),s=(b!=null?b.data:void 0)||this.imgData,N=0;0<=l?N<l:N>l;0<=l?++N:--N)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((k=h-this.transparency.indexed.length)>0)for(M=0;0<=k?M<k:M>k;0<=k?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":w=(I=this.read(l)).indexOf(0),x=String.fromCharCode.apply(String,I.slice(0,w)),this.text[x]=String.fromCharCode.apply(String,I.slice(w+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),h=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function g(b,w,x,C){var k,I,N,M,H,re,K,ge,V,P,U,Q,O,D,B,he,be,ie,pe,fe,Le,J=Math.ceil((d.width-b)/x),ke=Math.ceil((d.height-w)/C),j=d.width==J&&d.height==ke;for(D=l*J,Q=j?c:new Uint8Array(D*ke),re=s.length,O=0,I=0;O<ke&&h<re;){switch(s[h++]){case 0:for(M=be=0;be<D;M=be+=1)Q[I++]=s[h++];break;case 1:for(M=ie=0;ie<D;M=ie+=1)k=s[h++],H=M<l?0:Q[I-l],Q[I++]=(k+H)%256;break;case 2:for(M=pe=0;pe<D;M=pe+=1)k=s[h++],N=(M-M%l)/l,B=O&&Q[(O-1)*D+N*l+M%l],Q[I++]=(B+k)%256;break;case 3:for(M=fe=0;fe<D;M=fe+=1)k=s[h++],N=(M-M%l)/l,H=M<l?0:Q[I-l],B=O&&Q[(O-1)*D+N*l+M%l],Q[I++]=(k+Math.floor((H+B)/2))%256;break;case 4:for(M=Le=0;Le<D;M=Le+=1)k=s[h++],N=(M-M%l)/l,H=M<l?0:Q[I-l],O===0?B=he=0:(B=Q[(O-1)*D+N*l+M%l],he=N&&Q[(O-1)*D+(N-1)*l+M%l]),K=H+B-he,ge=Math.abs(K-H),P=Math.abs(K-B),U=Math.abs(K-he),V=ge<=P&&ge<=U?H:P<=U?B:he,Q[I++]=(k+V)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!j){var G=((w+O*C)*d.width+b)*l,ne=O*D;for(M=0;M<J;M+=1){for(var le=0;le<l;le+=1)c[G++]=Q[ne++];G+=(x-1)*l}}O++}}return s=gF(s),d.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),c},r.prototype.decodePalette=function(){var s,l,c,h,d,g,b,w,x;for(c=this.palette,g=this.transparency.indexed||[],d=new Uint8Array((g.length||0)+c.length),h=0,s=0,l=b=0,w=c.length;b<w;l=b+=3)d[h++]=c[l],d[h++]=c[l+1],d[h++]=c[l+2],d[h++]=(x=g[s++])!=null?x:255;return d},r.prototype.copyToImageData=function(s,l){var c,h,d,g,b,w,x,C,k,I,N;if(h=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),h=4,c=!0),C=(d=s.data||s).length,b=k||l,g=w=0,h===1)for(;g<C;)x=k?4*l[g/4]:w,I=b[x++],d[g++]=I,d[g++]=I,d[g++]=I,d[g++]=c?b[x++]:255,w=x;else for(;g<C;)x=k?4*l[g/4]:w,d[g++]=b[x++],d[g++]=b[x++],d[g++]=b[x++],d[g++]=c?b[x++]:255,w=x},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Zt)==="[object Window]"){try{e=Zt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var l;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,c,h,d,g,b,w,x;if(this.animation){for(x=[],c=g=0,b=(w=this.animation.frames).length;g<b;c=++g)l=w[c],h=s.createImageData(l.width,l.height),d=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,d),l.imageData=h,x.push(l.image=n(h));return x}},r.prototype.renderFrame=function(s,l){var c,h,d;return c=(h=this.animation.frames)[l],d=h[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var l,c,h,d,g,b,w=this;return c=0,b=this.animation,d=b.numFrames,h=b.frames,g=b.numPlays,(l=function(){var x,C;if(x=c++%d,C=h[x],w.renderFrame(s,x),d>1&&c/d<g)return w.animation._timeout=setTimeout(l,C.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VF(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,l=1<<(7&i)+1;n[e++],n[e++];var c=null,h=null;s&&(c=e,h=l,e+=3*l);var d=!0,g=[],b=0,w=null,x=0,C=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[e++];b=n[e++]|n[e++]<<8,w=n[e++],(1&k)==0&&(w=null),x=k>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,N=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,H=n[e++]|n[e++]<<8,re=n[e++],K=re>>6&1,ge=1<<(7&re)+1,V=c,P=h,U=!1;re>>7&&(U=!0,V=e,P=ge,e+=3*ge);var Q=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}g.push({x:I,y:N,width:M,height:H,has_local_palette:U,palette_offset:V,palette_size:P,data_offset:Q,data_length:e-Q,transparent_index:w,interlaced:!!K,delay:b,disposal:x});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return C},this.frameInfo=function(D){if(D<0||D>=g.length)throw new Error("Frame index out of range.");return g[D]},this.decodeAndBlitFrameBGRA=function(D,B){var he=this.frameInfo(D),be=he.width*he.height,ie=new Uint8Array(be);iS(n,he.data_offset,ie,be);var pe=he.palette_offset,fe=he.transparent_index;fe===null&&(fe=256);var Le=he.width,J=t-Le,ke=Le,j=4*(he.y*t+he.x),G=4*((he.y+he.height)*t+he.x),ne=j,le=4*J;he.interlaced===!0&&(le+=4*t*7);for(var oe=8,Ne=0,_e=ie.length;Ne<_e;++Ne){var Oe=ie[Ne];if(ke===0&&(ke=Le,(ne+=le)>=G&&(le=4*J+4*t*(oe-1),ne=j+(Le+J)*(oe<<1),oe>>=1)),Oe===fe)ne+=4;else{var lt=n[pe+3*Oe],rt=n[pe+3*Oe+1],ht=n[pe+3*Oe+2];B[ne++]=ht,B[ne++]=rt,B[ne++]=lt,B[ne++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(D,B){var he=this.frameInfo(D),be=he.width*he.height,ie=new Uint8Array(be);iS(n,he.data_offset,ie,be);var pe=he.palette_offset,fe=he.transparent_index;fe===null&&(fe=256);var Le=he.width,J=t-Le,ke=Le,j=4*(he.y*t+he.x),G=4*((he.y+he.height)*t+he.x),ne=j,le=4*J;he.interlaced===!0&&(le+=4*t*7);for(var oe=8,Ne=0,_e=ie.length;Ne<_e;++Ne){var Oe=ie[Ne];if(ke===0&&(ke=Le,(ne+=le)>=G&&(le=4*J+4*t*(oe-1),ne=j+(Le+J)*(oe<<1),oe>>=1)),Oe===fe)ne+=4;else{var lt=n[pe+3*Oe],rt=n[pe+3*Oe+1],ht=n[pe+3*Oe+2];B[ne++]=lt,B[ne++]=rt,B[ne++]=ht,B[ne++]=255}--ke}}}function iS(n,e,t,r){for(var i=n[e++],s=1<<i,l=s+1,c=l+1,h=i+1,d=(1<<h)-1,g=0,b=0,w=0,x=n[e++],C=new Int32Array(4096),k=null;;){for(;g<16&&x!==0;)b|=n[e++]<<g,g+=8,x===1?x=n[e++]:--x;if(g<h)break;var I=b&d;if(b>>=h,g-=h,I!==s){if(I===l)break;for(var N=I<c?I:k,M=0,H=N;H>s;)H=C[H]>>8,++M;var re=H;if(w+M+(N!==I?1:0)>r)return void mr.log("Warning, gif stream longer than expected.");t[w++]=re;var K=w+=M;for(N!==I&&(t[w++]=re),H=N;M--;)H=C[H],t[--K]=255&H,H>>=8;k!==null&&c<4096&&(C[c++]=k<<8|re,c>=d+1&&h<12&&(++h,d=d<<1|1)),k=I}else c=l+1,d=(1<<(h=i+1))-1,k=null}return w!==r&&mr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _v(n){var e,t,r,i,s,l=Math.floor,c=new Array(64),h=new Array(64),d=new Array(64),g=new Array(64),b=new Array(65535),w=new Array(65535),x=new Array(64),C=new Array(64),k=[],I=0,N=7,M=new Array(64),H=new Array(64),re=new Array(64),K=new Array(256),ge=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(j,G){for(var ne=0,le=0,oe=new Array,Ne=1;Ne<=16;Ne++){for(var _e=1;_e<=j[Ne];_e++)oe[G[le]]=[],oe[G[le]][0]=ne,oe[G[le]][1]=Ne,le++,ne++;ne*=2}return oe}function pe(j){for(var G=j[0],ne=j[1]-1;ne>=0;)G&1<<ne&&(I|=1<<N),ne--,--N<0&&(I==255?(fe(255),fe(0)):fe(I),N=7,I=0)}function fe(j){k.push(j)}function Le(j){fe(j>>8&255),fe(255&j)}function J(j,G,ne,le,oe){for(var Ne,_e=oe[0],Oe=oe[240],lt=function(Je,dt){var yt,bt,He,Ke,Xe,Ze,gt,Mt,St,Bt,pt=0;for(St=0;St<8;++St){yt=Je[pt],bt=Je[pt+1],He=Je[pt+2],Ke=Je[pt+3],Xe=Je[pt+4],Ze=Je[pt+5],gt=Je[pt+6];var mn=yt+(Mt=Je[pt+7]),ue=yt-Mt,me=bt+gt,ye=bt-gt,Ge=He+Ze,at=He-Ze,Ce=Ke+Xe,Et=Ke-Xe,Ee=mn+Ce,mt=mn-Ce,jt=me+Ge,It=me-Ge;Je[pt]=Ee+jt,Je[pt+4]=Ee-jt;var vt=.707106781*(It+mt);Je[pt+2]=mt+vt,Je[pt+6]=mt-vt;var Lt=.382683433*((Ee=Et+at)-(It=ye+ue)),hn=.5411961*Ee+Lt,Ht=1.306562965*It+Lt,nr=.707106781*(jt=at+ye),Ir=ue+nr,At=ue-nr;Je[pt+5]=At+hn,Je[pt+3]=At-hn,Je[pt+1]=Ir+Ht,Je[pt+7]=Ir-Ht,pt+=8}for(pt=0,St=0;St<8;++St){yt=Je[pt],bt=Je[pt+8],He=Je[pt+16],Ke=Je[pt+24],Xe=Je[pt+32],Ze=Je[pt+40],gt=Je[pt+48];var dn=yt+(Mt=Je[pt+56]),gn=yt-Mt,yn=bt+gt,On=bt-gt,Dn=He+Ze,Tn=He-Ze,fi=Ke+Xe,ii=Ke-Xe,yr=dn+fi,_r=dn-fi,rr=yn+Dn,fr=yn-Dn;Je[pt]=yr+rr,Je[pt+32]=yr-rr;var Mn=.707106781*(fr+_r);Je[pt+16]=_r+Mn,Je[pt+48]=_r-Mn;var bn=.382683433*((yr=ii+Tn)-(fr=On+gn)),pi=.5411961*yr+bn,jn=1.306562965*fr+bn,Sr=.707106781*(rr=Tn+On),lr=gn+Sr,Gr=gn-Sr;Je[pt+40]=Gr+pi,Je[pt+24]=Gr-pi,Je[pt+8]=lr+jn,Je[pt+56]=lr-jn,pt++}for(St=0;St<64;++St)Bt=Je[St]*dt[St],x[St]=Bt>0?Bt+.5|0:Bt-.5|0;return x}(j,G),rt=0;rt<64;++rt)C[V[rt]]=lt[rt];var ht=C[0]-ne;ne=C[0],ht==0?pe(le[0]):(pe(le[w[Ne=32767+ht]]),pe(b[Ne]));for(var ft=63;ft>0&&C[ft]==0;)ft--;if(ft==0)return pe(_e),ne;for(var Pt,qe=1;qe<=ft;){for(var ce=qe;C[qe]==0&&qe<=ft;)++qe;var kt=qe-ce;if(kt>=16){Pt=kt>>4;for(var Nt=1;Nt<=Pt;++Nt)pe(Oe);kt&=15}Ne=32767+C[qe],pe(oe[(kt<<4)+w[Ne]]),pe(b[Ne]),qe++}return ft!=63&&pe(_e),ne}function ke(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(G){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var oe=l((ne[le]*G+50)/100);oe=Math.min(Math.max(oe,1),255),c[V[le]]=oe}for(var Ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Oe=l((Ne[_e]*G+50)/100);Oe=Math.min(Math.max(Oe,1),255),h[V[_e]]=Oe}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rt=0,ht=0;ht<8;ht++)for(var ft=0;ft<8;ft++)d[rt]=1/(c[V[rt]]*lt[ht]*lt[ft]*8),g[rt]=1/(h[V[rt]]*lt[ht]*lt[ft]*8),rt++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,G){G&&ke(G),k=new Array,I=0,N=7,Le(65496),Le(65504),Le(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Le(1),Le(1),fe(0),fe(0),function(){Le(65499),Le(132),fe(0);for(var bt=0;bt<64;bt++)fe(c[bt]);fe(1);for(var He=0;He<64;He++)fe(h[He])}(),function(bt,He){Le(65472),Le(17),fe(8),Le(He),Le(bt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(j.width,j.height),function(){Le(65476),Le(418),fe(0);for(var bt=0;bt<16;bt++)fe(P[bt+1]);for(var He=0;He<=11;He++)fe(U[He]);fe(16);for(var Ke=0;Ke<16;Ke++)fe(Q[Ke+1]);for(var Xe=0;Xe<=161;Xe++)fe(O[Xe]);fe(1);for(var Ze=0;Ze<16;Ze++)fe(D[Ze+1]);for(var gt=0;gt<=11;gt++)fe(B[gt]);fe(17);for(var Mt=0;Mt<16;Mt++)fe(he[Mt+1]);for(var St=0;St<=161;St++)fe(be[St])}(),Le(65498),Le(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var ne=0,le=0,oe=0;I=0,N=7,this.encode.displayName="_encode_";for(var Ne,_e,Oe,lt,rt,ht,ft,Pt,qe,ce=j.data,kt=j.width,Nt=j.height,Je=4*kt,dt=0;dt<Nt;){for(Ne=0;Ne<Je;){for(rt=Je*dt+Ne,ft=-1,Pt=0,qe=0;qe<64;qe++)ht=rt+(Pt=qe>>3)*Je+(ft=4*(7&qe)),dt+Pt>=Nt&&(ht-=Je*(dt+1+Pt-Nt)),Ne+ft>=Je&&(ht-=Ne+ft-Je+4),_e=ce[ht++],Oe=ce[ht++],lt=ce[ht++],M[qe]=(ge[_e]+ge[Oe+256>>0]+ge[lt+512>>0]>>16)-128,H[qe]=(ge[_e+768>>0]+ge[Oe+1024>>0]+ge[lt+1280>>0]>>16)-128,re[qe]=(ge[_e+1280>>0]+ge[Oe+1536>>0]+ge[lt+1792>>0]>>16)-128;ne=J(M,d,ne,e,r),le=J(H,g,le,t,i),oe=J(re,g,oe,t,i),Ne+=32}dt+=8}if(N>=0){var yt=[];yt[1]=N+1,yt[0]=(1<<N+1)-1,pe(yt)}return Le(65497),new Uint8Array(k)},n=n||50,function(){for(var j=String.fromCharCode,G=0;G<256;G++)K[G]=j(G)}(),e=ie(P,U),t=ie(D,B),r=ie(Q,O),i=ie(he,be),function(){for(var j=1,G=2,ne=1;ne<=15;ne++){for(var le=j;le<G;le++)w[32767+le]=ne,b[32767+le]=[],b[32767+le][1]=ne,b[32767+le][0]=le;for(var oe=-(G-1);oe<=-j;oe++)w[32767+oe]=ne,b[32767+oe]=[],b[32767+oe][1]=ne,b[32767+oe][0]=G-1+oe;j<<=1,G<<=1}}(),function(){for(var j=0;j<256;j++)ge[j]=19595*j,ge[j+256>>0]=38470*j,ge[j+512>>0]=7471*j+32768,ge[j+768>>0]=-11059*j,ge[j+1024>>0]=-21709*j,ge[j+1280>>0]=32768*j+8421375,ge[j+1536>>0]=-27439*j,ge[j+1792>>0]=-5329*j}(),ke(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function co(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aS(n){function e(P){if(!P)throw Error("assert :P")}function t(P,U,Q){for(var O=0;4>O;O++)if(P[U+O]!=Q.charCodeAt(O))return!0;return!1}function r(P,U,Q,O,D){for(var B=0;B<D;B++)P[U+B]=Q[O+B]}function i(P,U,Q,O){for(var D=0;D<O;D++)P[U+D]=Q}function s(P){return new Int32Array(P)}function l(P,U){for(var Q=[],O=0;O<P;O++)Q.push(new U);return Q}function c(P,U){var Q=[];return function O(D,B,he){for(var be=he[B],ie=0;ie<be&&(D.push(he.length>B+1?[]:new U),!(he.length<B+1));ie++)O(D[ie],B+1,he)}(Q,0,P),Q}var h=function(){var P=this;function U(p,y){for(var E=1<<y-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function Q(p,y,E,R,z){e(!(R%E));do p[y+(R-=E)]=z;while(0<R)}function O(p,y,E,R,z){if(e(2328>=z),512>=z)var $=s(512);else if(($=s(z))==null)return 0;return function(W,Y,te,ae,xe,je){var De,Re,tt=Y,ze=1<<te,we=s(16),Ae=s(16);for(e(xe!=0),e(ae!=null),e(W!=null),e(0<te),Re=0;Re<xe;++Re){if(15<ae[Re])return 0;++we[ae[Re]]}if(we[0]==xe)return 0;for(Ae[1]=0,De=1;15>De;++De){if(we[De]>1<<De)return 0;Ae[De+1]=Ae[De]+we[De]}for(Re=0;Re<xe;++Re)De=ae[Re],0<ae[Re]&&(je[Ae[De]++]=Re);if(Ae[15]==1)return(ae=new D).g=0,ae.value=je[0],Q(W,tt,1,ze,ae),ze;var We,nt=-1,Qe=ze-1,Tt=0,xt=1,Ft=1,_t=1<<te;for(Re=0,De=1,xe=2;De<=te;++De,xe<<=1){if(xt+=Ft<<=1,0>(Ft-=we[De]))return 0;for(;0<we[De];--we[De])(ae=new D).g=De,ae.value=je[Re++],Q(W,tt+Tt,xe,_t,ae),Tt=U(Tt,De)}for(De=te+1,xe=2;15>=De;++De,xe<<=1){if(xt+=Ft<<=1,0>(Ft-=we[De]))return 0;for(;0<we[De];--we[De]){if(ae=new D,(Tt&Qe)!=nt){for(tt+=_t,We=1<<(nt=De)-te;15>nt&&!(0>=(We-=we[nt]));)++nt,We<<=1;ze+=_t=1<<(We=nt-te),W[Y+(nt=Tt&Qe)].g=We+te,W[Y+nt].value=tt-Y-nt}ae.g=De-te,ae.value=je[Re++],Q(W,tt+(Tt>>te),xe,_t,ae),Tt=U(Tt,De)}}return xt!=2*Ae[15]-1?0:ze}(p,y,E,R,z,$)}function D(){this.value=this.g=0}function B(){this.value=this.g=0}function he(){this.G=l(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Yr,B)}function be(p,y,E,R){e(p!=null),e(y!=null),e(2147483648>R),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=E,p.Jd=y,p.Yc=E+R,p.Zc=4<=R?E+R-4+1:E,Ne(p)}function ie(p,y){for(var E=0;0<y--;)E|=Oe(p,128)<<y;return E}function pe(p,y){var E=ie(p,y);return _e(p)?-E:E}function fe(p,y,E,R){var z,$=0;for(e(p!=null),e(y!=null),e(4294967288>R),p.Sb=R,p.Ra=0,p.u=0,p.h=0,4<R&&(R=4),z=0;z<R;++z)$+=y[E+z]<<8*z;p.Ra=$,p.bb=R,p.oa=y,p.pa=E}function Le(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Tl-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function J(p,y){if(e(0<=y),!p.h&&y<=El){var E=G(p)&Lo[y];return p.u+=y,Le(p),E}return p.h=1,p.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(p){return p.Ra>>>(p.u&Tl-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Tl}function le(p,y){p.u=y,p.h=ne(p)}function oe(p){p.u>=Su&&(e(p.u>=Su),Le(p))}function Ne(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return ie(p,1)}function Oe(p,y){var E=p.Ca;0>p.b&&Ne(p);var R=p.b,z=E*y>>>8,$=(p.I>>>R>z)+0;for($?(E-=z,p.I-=z+1<<R>>>0):E=z+1,R=E,z=0;256<=R;)z+=8,R>>=8;return R=7^z+Ki[R],p.b-=R,p.Ca=(E<<R)-1,$}function lt(p,y,E){p[y+0]=E>>24&255,p[y+1]=E>>16&255,p[y+2]=E>>8&255,p[y+3]=E>>0&255}function rt(p,y){return p[y+0]<<0|p[y+1]<<8}function ht(p,y){return rt(p,y)|p[y+2]<<16}function ft(p,y){return rt(p,y)|rt(p,y+2)<<16}function Pt(p,y){var E=1<<y;return e(p!=null),e(0<y),p.X=s(E),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function qe(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function kt(p,y,E,R){e(E!=null),e(R!=null);var z=E[0],$=R[0];return z==0&&(z=(p*$+y/2)/y),$==0&&($=(y*z+p/2)/p),0>=z||0>=$?0:(E[0]=z,R[0]=$,1)}function Nt(p,y){return p+(1<<y)-1>>>y}function Je(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function dt(p,y){P[y]=function(E,R,z,$,W,Y,te){var ae;for(ae=0;ae<W;++ae){var xe=P[p](Y[te+ae-1],z,$+ae);Y[te+ae]=Je(E[R+ae],xe)}}}function yt(){this.ud=this.hd=this.jd=0}function bt(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function He(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ke(p,y){return He(p+(p-y+.5>>1))}function Xe(p,y,E){return Math.abs(y-E)-Math.abs(p-E)}function Ze(p,y,E,R,z,$,W){for(R=$[W-1],E=0;E<z;++E)$[W+E]=R=Je(p[y+E],R)}function gt(p,y,E,R,z){var $;for($=0;$<E;++$){var W=p[y+$],Y=W>>8&255,te=16711935&(te=(te=16711935&W)+((Y<<16)+Y));R[z+$]=(4278255360&W)+te>>>0}}function Mt(p,y){y.jd=p>>0&255,y.hd=p>>8&255,y.ud=p>>16&255}function St(p,y,E,R,z,$){var W;for(W=0;W<R;++W){var Y=y[E+W],te=Y>>>8,ae=Y,xe=255&(xe=(xe=Y>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae=ae+((p.hd<<24>>24)*(te<<24>>24)>>>5))+((p.ud<<24>>24)*(xe<<24>>24)>>>5)),z[$+W]=(4278255360&Y)+(xe<<16)+ae}}function Bt(p,y,E,R,z){P[y]=function($,W,Y,te,ae,xe,je,De,Re){for(te=je;te<De;++te)for(je=0;je<Re;++je)ae[xe++]=z(Y[R($[W++])])},P[p]=function($,W,Y,te,ae,xe,je){var De=8>>$.b,Re=$.Ea,tt=$.K[0],ze=$.w;if(8>De)for($=(1<<$.b)-1,ze=(1<<De)-1;W<Y;++W){var we,Ae=0;for(we=0;we<Re;++we)we&$||(Ae=R(te[ae++])),xe[je++]=z(tt[Ae&ze]),Ae>>=De}else P["VP8LMapColor"+E](te,ae,tt,ze,xe,je,W,Y,Re)}}function pt(p,y,E,R,z){for(E=y+E;y<E;){var $=p[y++];R[z++]=$>>16&255,R[z++]=$>>8&255,R[z++]=$>>0&255}}function mn(p,y,E,R,z){for(E=y+E;y<E;){var $=p[y++];R[z++]=$>>16&255,R[z++]=$>>8&255,R[z++]=$>>0&255,R[z++]=$>>24&255}}function ue(p,y,E,R,z){for(E=y+E;y<E;){var $=(W=p[y++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;R[z++]=$,R[z++]=W}}function me(p,y,E,R,z){for(E=y+E;y<E;){var $=(W=p[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;R[z++]=$,R[z++]=W}}function ye(p,y,E,R,z){for(E=y+E;y<E;){var $=p[y++];R[z++]=$>>0&255,R[z++]=$>>8&255,R[z++]=$>>16&255}}function Ge(p,y,E,R,z,$){if($==0)for(E=y+E;y<E;)lt(R,(($=p[y++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),z+=32;else r(R,z,p,y,E)}function at(p,y){P[y][0]=P[p+"0"],P[y][1]=P[p+"1"],P[y][2]=P[p+"2"],P[y][3]=P[p+"3"],P[y][4]=P[p+"4"],P[y][5]=P[p+"5"],P[y][6]=P[p+"6"],P[y][7]=P[p+"7"],P[y][8]=P[p+"8"],P[y][9]=P[p+"9"],P[y][10]=P[p+"10"],P[y][11]=P[p+"11"],P[y][12]=P[p+"12"],P[y][13]=P[p+"13"],P[y][14]=P[p+"0"],P[y][15]=P[p+"0"]}function Ce(p){return p==kc||p==qo||p==Qs||p==Nu}function Et(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new Ee,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Lt(p,y){var E=p.T,R=y.ba.f.RGBA,z=R.eb,$=R.fb+p.ka*R.A,W=li[y.ba.S],Y=p.y,te=p.O,ae=p.f,xe=p.N,je=p.ea,De=p.W,Re=y.cc,tt=y.dc,ze=y.Mc,we=y.Nc,Ae=p.ka,We=p.ka+p.T,nt=p.U,Qe=nt+1>>1;for(Ae==0?W(Y,te,null,null,ae,xe,je,De,ae,xe,je,De,z,$,null,null,nt):(W(y.ec,y.fc,Y,te,Re,tt,ze,we,ae,xe,je,De,z,$-R.A,z,$,nt),++E);Ae+2<We;Ae+=2)Re=ae,tt=xe,ze=je,we=De,xe+=p.Rc,De+=p.Rc,$+=2*R.A,W(Y,(te+=2*p.fa)-p.fa,Y,te,Re,tt,ze,we,ae,xe,je,De,z,$-R.A,z,$,nt);return te+=p.fa,p.j+We<p.o?(r(y.ec,y.fc,Y,te,nt),r(y.cc,y.dc,ae,xe,Qe),r(y.Mc,y.Nc,je,De,Qe),E--):1&We||W(Y,te,null,null,ae,xe,je,De,ae,xe,je,De,z,$+R.A,null,null,nt),E}function hn(p,y,E){var R=p.F,z=[p.J];if(R!=null){var $=p.U,W=y.ba.S,Y=W==Rl||W==Qs;y=y.ba.f.RGBA;var te=[0],ae=p.ka;te[0]=p.T,p.Kb&&(ae==0?--te[0]:(--ae,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-ae));var xe=y.eb;ae=y.fb+ae*y.A,p=wn(R,z[0],p.width,$,te,xe,ae+(Y?0:3),y.A),e(E==te),p&&Ce(W)&&pa(xe,ae,Y,$,te,y.A)}return 0}function Ht(p){var y=p.ma,E=y.ba.S,R=11>E,z=E==Tu||E==Cc||E==Rl||E==Xs||E==12||Ce(E);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Po(y.Oa,p,z?11:12))return 0;if(z&&Ce(E)&&ut(),p.da)alert("todo:use_scaling");else{if(R){if(y.Ib=vt,p.Kb){if(E=p.U+1>>1,y.memory=s(p.U+2*E),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+E,y.Ib=Lt,ut()}}else alert("todo:EmitYUV");z&&(y.Jb=hn,R&&Ie())}if(R&&!Np){for(p=0;256>p;++p)P0[p]=89858*(p-128)+Xr>>Rs,Pc[p]=-22014*(p-128)+Xr,Dd[p]=-45773*(p-128),Qr[p]=113618*(p-128)+Xr>>Rs;for(p=Go;p<wh;++p)y=76283*(p-16)+Xr>>Rs,Lc[p-Go]=$n(y,255),Md[p-Go]=$n(y+8>>4,15);Np=1}return 1}function nr(p){var y=p.ma,E=p.U,R=p.T;return e(!(1&p.ka)),0>=E||0>=R?0:(E=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,E),y.Dc+=E,1)}function Ir(p){p.ma.memory=null}function At(p,y,E,R){return J(p,8)!=47?0:(y[0]=J(p,14)+1,E[0]=J(p,14)+1,R[0]=J(p,1),J(p,3)!=0?0:!p.h)}function dn(p,y){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+J(y,E)+1}function gn(p,y){return 120<y?y-120:1<=(E=((E=Zs[y-1])>>4)*p+(8-(15&E)))?E:1;var E}function yn(p,y,E){var R=G(E),z=p[y+=255&R].g-8;return 0<z&&(le(E,E.u+8),R=G(E),y+=p[y].value,y+=R&(1<<z)-1),le(E,E.u+p[y].g),p[y].value}function On(p,y,E){return E.g+=p.g,E.value+=p.value<<y>>>0,e(8>=E.g),p.g}function Dn(p,y,E){var R=p.xc;return e((y=R==0?0:p.vc[p.md*(E>>R)+(y>>R)])<p.Wb),p.Ya[y]}function Tn(p,y,E,R){var z=p.ab,$=p.c*y,W=p.C;y=W+y;var Y=E,te=R;for(R=p.Ta,E=p.Ua;0<z--;){var ae=p.gc[z],xe=W,je=y,De=Y,Re=te,tt=(te=R,Y=E,ae.Ea);switch(e(xe<je),e(je<=ae.nc),ae.hc){case 2:ph(De,Re,(je-xe)*tt,te,Y);break;case 0:var ze=xe,we=je,Ae=te,We=Y,nt=(_t=ae).Ea;ze==0&&(Ld(De,Re,null,null,1,Ae,We),Ze(De,Re+1,0,0,nt-1,Ae,We+1),Re+=nt,We+=nt,++ze);for(var Qe=1<<_t.b,Tt=Qe-1,xt=Nt(nt,_t.b),Ft=_t.K,_t=_t.w+(ze>>_t.b)*xt;ze<we;){var Fn=Ft,Gn=_t,vn=1;for(Tc(De,Re,Ae,We-nt,1,Ae,We);vn<nt;){var fn=(vn&~Tt)+Qe;fn>nt&&(fn=nt),(0,Ws[Fn[Gn++]>>8&15])(De,Re+ +vn,Ae,We+vn-nt,fn-vn,Ae,We+vn),vn=fn}Re+=nt,We+=nt,++ze&Tt||(_t+=xt)}je!=ae.nc&&r(te,Y-tt,te,Y+(je-xe-1)*tt,tt);break;case 1:for(tt=De,we=Re,nt=(De=ae.Ea)-(We=De&~(Ae=(Re=1<<ae.b)-1)),ze=Nt(De,ae.b),Qe=ae.K,ae=ae.w+(xe>>ae.b)*ze;xe<je;){for(Tt=Qe,xt=ae,Ft=new yt,_t=we+We,Fn=we+De;we<_t;)Mt(Tt[xt++],Ft),Do(Ft,tt,we,Re,te,Y),we+=Re,Y+=Re;we<Fn&&(Mt(Tt[xt++],Ft),Do(Ft,tt,we,nt,te,Y),we+=nt,Y+=nt),++xe&Ae||(ae+=ze)}break;case 3:if(De==te&&Re==Y&&0<ae.b){for(we=te,De=tt=Y+(je-xe)*tt-(We=(je-xe)*Nt(ae.Ea,ae.b)),Re=te,Ae=Y,ze=[],We=(nt=We)-1;0<=We;--We)ze[We]=Re[Ae+We];for(We=nt-1;0<=We;--We)we[De+We]=ze[We];Na(ae,xe,je,te,tt,te,Y)}else Na(ae,xe,je,De,Re,te,Y)}Y=R,te=E}te!=E&&r(R,E,Y,te,$)}function fi(p,y){var E=p.V,R=p.Ba+p.c*p.C,z=y-p.C;if(e(y<=p.l.o),e(16>=z),0<z){var $=p.l,W=p.Ta,Y=p.Ua,te=$.width;if(Tn(p,z,E,R),z=Y=[Y],e((E=p.C)<(R=y)),e($.v<$.va),R>$.o&&(R=$.o),E<$.j){var ae=$.j-E;E=$.j,z[0]+=ae*te}if(E>=R?E=0:(z[0]+=4*$.v,$.ka=E-$.j,$.U=$.va-$.v,$.T=R-E,E=1),E){if(Y=Y[0],11>(E=p.ca).S){var xe=E.f.RGBA,je=(R=E.S,z=$.U,$=$.T,ae=xe.eb,xe.A),De=$;for(xe=xe.fb+p.Ma*xe.A;0<De--;){var Re=W,tt=Y,ze=z,we=ae,Ae=xe;switch(R){case Ti:Li(Re,tt,ze,we,Ae);break;case Tu:yi(Re,tt,ze,we,Ae);break;case kc:yi(Re,tt,ze,we,Ae),pa(we,Ae,0,ze,1,0);break;case Ns:Xa(Re,tt,ze,we,Ae);break;case Cc:Ge(Re,tt,ze,we,Ae,1);break;case qo:Ge(Re,tt,ze,we,Ae,1),pa(we,Ae,0,ze,1,0);break;case Rl:Ge(Re,tt,ze,we,Ae,0);break;case Qs:Ge(Re,tt,ze,we,Ae,0),pa(we,Ae,1,ze,1,0);break;case Xs:Mo(Re,tt,ze,we,Ae);break;case Nu:Mo(Re,tt,ze,we,Ae),xn(we,Ae,ze,1,0);break;case gh:Xi(Re,tt,ze,we,Ae);break;default:e(0)}Y+=te,xe+=je}p.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=E.height)}}p.C=y,e(p.C<=p.i)}function ii(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var E=p.Ya[y].G,R=p.Ya[y].H;if(0<E[1][R[1]+0].g||0<E[2][R[2]+0].g||0<E[3][R[3]+0].g)return 0}return 1}function yr(p,y,E,R,z,$){if(p.Z!=0){var W=p.qd,Y=p.rd;for(e(ks[p.Z]!=null);y<E;++y)ks[p.Z](W,Y,R,z,R,z,$),W=R,Y=z,z+=$;p.qd=W,p.rd=Y}}function _r(p,y){var E=p.l.ma,R=E.Z==0||E.Z==1?p.l.j:p.C;if(R=p.C<R?R:p.C,e(y<=p.l.o),y>R){var z=p.l.width,$=E.ca,W=E.tb+z*R,Y=p.V,te=p.Ba+p.c*R,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Oo(ae[0],R,y,Y,te,$,W),yr(E,R,y,$,W,z)}p.C=p.Ma=y}function rr(p,y,E,R,z,$,W){var Y=p.$/R,te=p.$%R,ae=p.m,xe=p.s,je=E+p.$,De=je;z=E+R*z;var Re=E+R*$,tt=280+xe.ua,ze=p.Pb?Y:16777216,we=0<xe.ua?xe.Wa:null,Ae=xe.wc,We=je<Re?Dn(xe,te,Y):null;e(p.C<$),e(Re<=z);var nt=!1;e:for(;;){for(;nt||je<Re;){var Qe=0;if(Y>=ze){var Tt=je-E;e((ze=p).Pb),ze.wd=ze.m,ze.xd=Tt,0<ze.s.ua&&qe(ze.s.Wa,ze.s.vb),ze=Y+Ap}if(te&Ae||(We=Dn(xe,te,Y)),e(We!=null),We.Qb&&(y[je]=We.qb,nt=!0),!nt)if(oe(ae),We.jc){Qe=ae,Tt=y;var xt=je,Ft=We.pd[G(Qe)&Yr-1];e(We.jc),256>Ft.g?(le(Qe,Qe.u+Ft.g),Tt[xt]=Ft.value,Qe=0):(le(Qe,Qe.u+Ft.g-256),e(256<=Ft.value),Qe=Ft.value),Qe==0&&(nt=!0)}else Qe=yn(We.G[0],We.H[0],ae);if(ae.h)break;if(nt||256>Qe){if(!nt)if(We.nd)y[je]=(We.qb|Qe<<8)>>>0;else{if(oe(ae),nt=yn(We.G[1],We.H[1],ae),oe(ae),Tt=yn(We.G[2],We.H[2],ae),xt=yn(We.G[3],We.H[3],ae),ae.h)break;y[je]=(xt<<24|nt<<16|Qe<<8|Tt)>>>0}if(nt=!1,++je,++te>=R&&(te=0,++Y,W!=null&&Y<=$&&!(Y%16)&&W(p,Y),we!=null))for(;De<je;)Qe=y[De++],we.X[(506832829*Qe&4294967295)>>>we.Mb]=Qe}else if(280>Qe){if(Qe=dn(Qe-256,ae),Tt=yn(We.G[4],We.H[4],ae),oe(ae),Tt=gn(R,Tt=dn(Tt,ae)),ae.h)break;if(je-E<Tt||z-je<Qe)break e;for(xt=0;xt<Qe;++xt)y[je+xt]=y[je+xt-Tt];for(je+=Qe,te+=Qe;te>=R;)te-=R,++Y,W!=null&&Y<=$&&!(Y%16)&&W(p,Y);if(e(je<=z),te&Ae&&(We=Dn(xe,te,Y)),we!=null)for(;De<je;)Qe=y[De++],we.X[(506832829*Qe&4294967295)>>>we.Mb]=Qe}else{if(!(Qe<tt))break e;for(nt=Qe-280,e(we!=null);De<je;)Qe=y[De++],we.X[(506832829*Qe&4294967295)>>>we.Mb]=Qe;Qe=je,e(!(nt>>>(Tt=we).Xa)),y[Qe]=Tt.X[nt],nt=!0}nt||e(ae.h==ne(ae))}if(p.Pb&&ae.h&&je<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&qe(p.s.vb,p.s.Wa);else{if(ae.h)break e;W!=null&&W(p,Y>$?$:Y),p.a=0,p.$=je-E}return 1}return p.a=3,0}function fr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Mn(){var p=new wu;return p==null?null:(p.a=0,p.xb=Cu,at("Predictor","VP8LPredictors"),at("Predictor","VP8LPredictors_C"),at("PredictorAdd","VP8LPredictorsAdd"),at("PredictorAdd","VP8LPredictorsAdd_C"),ph=gt,Do=St,Li=pt,yi=mn,Mo=ue,Xi=me,Xa=ye,P.VP8LMapColor32b=si,P.VP8LMapColor8b=Nc,p)}function bn(p,y,E,R,z){var $=1,W=[p],Y=[y],te=R.m,ae=R.s,xe=null,je=0;e:for(;;){if(E)for(;$&&J(te,1);){var De=W,Re=Y,tt=R,ze=1,we=tt.m,Ae=tt.gc[tt.ab],We=J(we,2);if(tt.Oc&1<<We)$=0;else{switch(tt.Oc|=1<<We,Ae.hc=We,Ae.Ea=De[0],Ae.nc=Re[0],Ae.K=[null],++tt.ab,e(4>=tt.ab),We){case 0:case 1:Ae.b=J(we,3)+2,ze=bn(Nt(Ae.Ea,Ae.b),Nt(Ae.nc,Ae.b),0,tt,Ae.K),Ae.K=Ae.K[0];break;case 3:var nt,Qe=J(we,8)+1,Tt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(De[0]=Nt(Ae.Ea,Tt),Ae.b=Tt,nt=ze=bn(Qe,1,0,tt,Ae.K)){var xt,Ft=Qe,_t=Ae,Fn=1<<(8>>_t.b),Gn=s(Fn);if(Gn==null)nt=0;else{var vn=_t.K[0],fn=_t.w;for(Gn[0]=_t.K[0][0],xt=1;xt<1*Ft;++xt)Gn[xt]=Je(vn[fn+xt],Gn[xt-1]);for(;xt<4*Fn;++xt)Gn[xt]=0;_t.K[0]=null,_t.K[0]=Gn,nt=1}}ze=nt;break;case 2:break;default:e(0)}$=ze}}if(W=W[0],Y=Y[0],$&&J(te,1)&&!($=1<=(je=J(te,4))&&11>=je)){R.a=3;break e}var Zn;if(Zn=$)t:{var Wn,sn,ar,zt=R,Jt=W,Pn=Y,Vn=je,ui=E,Jr=zt.m,Lr=zt.s,Or=[null],Ur=1,Ra=0,Yn=Ll[Vn];n:for(;;){if(ui&&J(Jr,1)){var zr=J(Jr,3)+2,Za=Nt(Jt,zr),Wo=Nt(Pn,zr),Ml=Za*Wo;if(!bn(Za,Wo,0,zt,Or))break n;for(Or=Or[0],Lr.xc=zr,Wn=0;Wn<Ml;++Wn){var Yo=Or[Wn]>>8&65535;Or[Wn]=Yo,Yo>=Ur&&(Ur=Yo+1)}}if(Jr.h)break n;for(sn=0;5>sn;++sn){var gr=ma[sn];!sn&&0<Vn&&(gr+=1<<Vn),Ra<gr&&(Ra=gr)}var Oc=l(Ur*Yn,D),_h=Ur,Di=l(_h,he);if(Di==null)var br=null;else e(65536>=_h),br=Di;var jl=s(Ra);if(br==null||jl==null||Oc==null){zt.a=1;break n}var Ko=Oc;for(Wn=ar=0;Wn<Ur;++Wn){var Ji=br[Wn],Xo=Ji.G,Zi=Ji.H,Dc=0,Iu=1,Sh=0;for(sn=0;5>sn;++sn){gr=ma[sn],Xo[sn]=Ko,Zi[sn]=ar,!sn&&0<Vn&&(gr+=1<<Vn);i:{var Mc,Ah=gr,jc=zt,Ru=jl,Ip=Ko,Rp=ar,Fc=0,ro=jc.m,O0=J(ro,1);if(i(Ru,0,0,Ah),O0){var Pp=J(ro,1)+1,Lp=J(ro,1),jd=J(ro,Lp==0?1:8);Ru[jd]=1,Pp==2&&(Ru[jd=J(ro,8)]=1);var Pu=1}else{var Fd=s(19),Vd=J(ro,4)+4;if(19<Vd){jc.a=3;var Vc=0;break i}for(Mc=0;Mc<Vd;++Mc)Fd[Js[Mc]]=J(ro,3);var Eh=void 0,Lu=void 0,Op=jc,Dp=Fd,io=Ah,Bc=Ru,Th=0,es=Op.m,Ou=8,Bd=l(128,D);r:for(;O(Bd,0,7,Dp,19);){if(J(es,1)){var Mp=2+2*J(es,3);if((Eh=2+J(es,Mp))>io)break r}else Eh=io;for(Lu=0;Lu<io&&Eh--;){oe(es);var Ud=Bd[0+(127&G(es))];le(es,es.u+Ud.g);var Fl=Ud.value;if(16>Fl)Bc[Lu++]=Fl,Fl!=0&&(Ou=Fl);else{var jp=Fl==16,zd=Fl-16,qd=Ia[zd],Hd=J(es,vh[zd])+qd;if(Lu+Hd>io)break r;for(var Fp=jp?Ou:0;0<Hd--;)Bc[Lu++]=Fp}}Th=1;break r}Th||(Op.a=3),Pu=Th}(Pu=Pu&&!ro.h)&&(Fc=O(Ip,Rp,8,Ru,Ah)),Pu&&Fc!=0?Vc=Fc:(jc.a=3,Vc=0)}if(Vc==0)break n;if(Iu&&Pl[sn]==1&&(Iu=Ko[ar].g==0),Dc+=Ko[ar].g,ar+=Vc,3>=sn){var Vl,Nh=jl[0];for(Vl=1;Vl<gr;++Vl)jl[Vl]>Nh&&(Nh=jl[Vl]);Sh+=Nh}}if(Ji.nd=Iu,Ji.Qb=0,Iu&&(Ji.qb=(Xo[3][Zi[3]+0].value<<24|Xo[1][Zi[1]+0].value<<16|Xo[2][Zi[2]+0].value)>>>0,Dc==0&&256>Xo[0][Zi[0]+0].value&&(Ji.Qb=1,Ji.qb+=Xo[0][Zi[0]+0].value<<8)),Ji.jc=!Ji.Qb&&6>Sh,Ji.jc){var Uc,ao=Ji;for(Uc=0;Uc<Yr;++Uc){var Ps=Uc,so=ao.pd[Ps],zc=ao.G[0][ao.H[0]+Ps];256<=zc.value?(so.g=zc.g+256,so.value=zc.value):(so.g=0,so.value=0,Ps>>=On(zc,8,so),Ps>>=On(ao.G[1][ao.H[1]+Ps],16,so),Ps>>=On(ao.G[2][ao.H[2]+Ps],0,so),On(ao.G[3][ao.H[3]+Ps],24,so))}}}Lr.vc=Or,Lr.Wb=Ur,Lr.Ya=br,Lr.yc=Oc,Zn=1;break t}Zn=0}if(!($=Zn)){R.a=3;break e}if(0<je){if(ae.ua=1<<je,!Pt(ae.Wa,je)){R.a=1,$=0;break e}}else ae.ua=0;var qc=R,$d=W,Vp=Y,Gd=qc.s,Wd=Gd.xc;if(qc.c=$d,qc.i=Vp,Gd.md=Nt($d,Wd),Gd.wc=Wd==0?-1:(1<<Wd)-1,E){R.xb=Tp;break e}if((xe=s(W*Y))==null){R.a=1,$=0;break e}$=($=rr(R,xe,0,W,Y,Y,null))&&!te.h;break e}return $?(z!=null?z[0]=xe:(e(xe==null),e(E)),R.$=0,E||fr(ae)):fr(ae),$}function pi(p,y){var E=p.c*p.i,R=E+y+16*y;return e(p.c<=y),p.V=s(R),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+y,1)}function jn(p,y){var E=p.C,R=y-E,z=p.V,$=p.Ba+p.c*E;for(e(y<=p.l.o);0<R;){var W=16<R?16:R,Y=p.l.ma,te=p.l.width,ae=te*W,xe=Y.ca,je=Y.tb+te*E,De=p.Ta,Re=p.Ua;Tn(p,W,z,$),cr(De,Re,xe,je,ae),yr(Y,E,E+W,xe,je,te),R-=W,z+=W*p.c,E+=W}e(E==y),p.C=p.Ma=y}function Sr(){this.ub=this.yd=this.td=this.Rb=0}function lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gl(){this.Yb=function(){var p=[];return function y(E,R,z){for(var $=z[R],W=0;W<$&&(E.push(z.length>R+1?[]:0),!(z.length<R+1));W++)y(E[W],R+1,z)}(p,0,[3,11]),p}()}function Vs(){this.jb=s(3),this.Wc=c([4,8],gl),this.Xc=c([4,17],gl)}function mu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ha(){this.ld=this.La=this.dd=this.tc=0}function da(){this.Na=this.la=0}function Wr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ua(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ha),this.Y=0,this.ya=Array(new Ua),this.aa=0,this.l=new za}function ya(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ao(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new Sr,this.Kc=new lr,this.ed=new mu,this.Qa=new Gr,this.Ic=this.$c=this.Aa=0,this.D=new gu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,ke),this.ia=0,this.pb=l(4,Wr),this.Pa=new Vs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ya),this.Hd=0,this.rb=Array(new da),this.sb=0,this.wa=Array(new ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ua),this.L=this.aa=0,this.gd=c([4,2],ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function za(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vl(){var p=new Ao;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Kr||(Kr=vu)),p}function ur(p,y,E){return p.a==0&&(p.a=y,p.sc=E,p.cb=0),0}function ai(p,y,E){return 3<=E&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function Eo(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return ur(p,2,"null VP8Io passed to VP8GetHeaders()");var E=y.data,R=y.w,z=y.ha;if(4>z)return ur(p,7,"Truncated header.");var $=E[R+0]|E[R+1]<<8|E[R+2]<<16,W=p.Od;if(W.Rb=!(1&$),W.td=$>>1&7,W.yd=$>>4&1,W.ub=$>>5,3<W.td)return ur(p,3,"Incorrect keyframe parameters.");if(!W.yd)return ur(p,4,"Frame not displayable.");R+=3,z-=3;var Y=p.Kc;if(W.Rb){if(7>z)return ur(p,7,"cannot parse picture header");if(!ai(E,R,z))return ur(p,3,"Bad code word");Y.c=16383&(E[R+4]<<8|E[R+3]),Y.Td=E[R+4]>>6,Y.i=16383&(E[R+6]<<8|E[R+5]),Y.Ud=E[R+6]>>6,R+=7,z-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,y.width=Y.c,y.height=Y.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i(($=p.Pa).jb,0,255,$.jb.length),e(($=p.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(W.ub>z)return ur(p,7,"bad partition length");be($=p.m,E,R,W.ub),R+=W.ub,z-=W.ub,W.Rb&&(Y.Ld=_e($),Y.Kd=_e($)),Y=p.Qa;var te,ae=p.Pa;if(e($!=null),e(Y!=null),Y.Cb=_e($),Y.Cb){if(Y.Bb=_e($),_e($)){for(Y.Fb=_e($),te=0;4>te;++te)Y.Zb[te]=_e($)?pe($,7):0;for(te=0;4>te;++te)Y.Lb[te]=_e($)?pe($,6):0}if(Y.Bb)for(te=0;3>te;++te)ae.jb[te]=_e($)?ie($,8):255}else Y.Bb=0;if($.Ka)return ur(p,3,"cannot parse segment header");if((Y=p.ed).zd=_e($),Y.Tb=ie($,6),Y.wb=ie($,3),Y.Pc=_e($),Y.Pc&&_e($)){for(ae=0;4>ae;++ae)_e($)&&(Y.vd[ae]=pe($,6));for(ae=0;4>ae;++ae)_e($)&&(Y.od[ae]=pe($,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,$.Ka)return ur(p,3,"cannot parse filter header");var xe=z;if(z=te=R,R=te+xe,Y=xe,p.Xb=(1<<ie(p.m,2))-1,xe<3*(ae=p.Xb))E=7;else{for(te+=3*ae,Y-=3*ae,xe=0;xe<ae;++xe){var je=E[z+0]|E[z+1]<<8|E[z+2]<<16;je>Y&&(je=Y),be(p.Jc[+xe],E,te,je),te+=je,Y-=je,z+=3}be(p.Jc[+ae],E,te,Y),E=te<R?0:5}if(E!=0)return ur(p,E,"cannot parse partitions");for(E=ie(te=p.m,7),z=_e(te)?pe(te,4):0,R=_e(te)?pe(te,4):0,Y=_e(te)?pe(te,4):0,ae=_e(te)?pe(te,4):0,te=_e(te)?pe(te,4):0,xe=p.Qa,je=0;4>je;++je){if(xe.Cb){var De=xe.Zb[je];xe.Fb||(De+=E)}else{if(0<je){p.pb[je]=p.pb[0];continue}De=E}var Re=p.pb[je];Re.Sc[0]=Ic[$n(De+z,127)],Re.Sc[1]=Rc[$n(De+0,127)],Re.Eb[0]=2*Ic[$n(De+R,127)],Re.Eb[1]=101581*Rc[$n(De+Y,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=Ic[$n(De+ae,117)],Re.Qc[1]=Rc[$n(De+te,127)],Re.lc=De+te}if(!W.Rb)return ur(p,4,"Not a key frame.");for(_e($),W=p.Pa,E=0;4>E;++E){for(z=0;8>z;++z)for(R=0;3>R;++R)for(Y=0;11>Y;++Y)ae=Oe($,Ol[E][z][R][Y])?ie($,8):Cs[E][z][R][Y],W.Wc[E][z].Yb[R][Y]=ae;for(z=0;17>z;++z)W.Xc[E][z]=W.Wc[E][Ep[z]]}return p.kc=_e($),p.kc&&(p.Bd=ie($,8)),p.cb=1}function vu(p,y,E,R,z,$,W){var Y=y[z].Yb[E];for(E=0;16>z;++z){if(!Oe(p,Y[E+0]))return z;for(;!Oe(p,Y[E+1]);)if(Y=y[++z].Yb[0],E=0,z==16)return 16;var te=y[z+1].Yb;if(Oe(p,Y[E+2])){var ae=p,xe=0;if(Oe(ae,(De=Y)[(je=E)+3]))if(Oe(ae,De[je+6])){for(Y=0,je=2*(xe=Oe(ae,De[je+8]))+(De=Oe(ae,De[je+9+xe])),xe=0,De=Tr[je];De[Y];++Y)xe+=xe+Oe(ae,De[Y]);xe+=3+(8<<je)}else Oe(ae,De[je+7])?(xe=7+2*Oe(ae,165),xe+=Oe(ae,145)):xe=5+Oe(ae,159);else xe=Oe(ae,De[je+4])?3+Oe(ae,De[je+5]):2;Y=te[2]}else xe=1,Y=te[1];te=W+qn[z],0>(ae=p).b&&Ne(ae);var je,De=ae.b,Re=(je=ae.Ca>>1)-(ae.I>>De)>>31;--ae.b,ae.Ca+=Re,ae.Ca|=1,ae.I-=(je+1&Re)<<De,$[te]=((xe^Re)-Re)*R[(0<z)+0]}return 16}function fs(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function yl(p,y){if(p==null)return 0;if(y==null)return ur(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Eo(p,y))return 0;if(e(p.cb),y.ac==null||y.ac(y)){y.ob&&(p.L=0);var E=no[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=y.v-E>>4,p.zb=y.j-E>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=y.o+15+E>>4,p.Hb=y.va+15+E>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var R=p.ed;for(E=0;4>E;++E){var z;if(p.Qa.Cb){var $=p.Qa.Lb[E];p.Qa.Fb||($+=R.Tb)}else $=R.Tb;for(z=0;1>=z;++z){var W=p.gd[E][z],Y=$;if(R.Pc&&(Y+=R.vd[0],z&&(Y+=R.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var te=Y;0<R.wb&&(te=4<R.wb?te>>2:te>>1)>9-R.wb&&(te=9-R.wb),1>te&&(te=1),W.dd=te,W.tc=2*Y+te,W.ld=40<=Y?2:15<=Y?1:0}else W.tc=0;W.La=z}}}E=0}else ur(p,6,"Frame setup failed"),E=p.a;if(E=E==0){if(E){p.$c=0,0<p.Aa||(p.Ic=Cp);e:{E=p.Ic,R=4*(te=p.za);var ae=32*te,xe=te+1,je=0<p.L?te*(0<p.Aa?2:1):0,De=(p.Aa==2?2:1)*te;if((W=R+832+(z=3*(16*E+no[p.L])/2*ae)+($=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=W)E=0;else{if(W>p.Vb){if(p.Vb=0,p.Ec=s(W),p.Fc=0,p.Ec==null){E=ur(p,1,"no memory during frame initialization.");break e}p.Vb=W}W=p.Ec,Y=p.Fc,p.Ac=W,p.Bc=Y,Y+=R,p.Gd=l(ae,ya),p.Hd=0,p.rb=l(xe+1,da),p.sb=1,p.wa=je?l(je,ha):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=te),e(!0),p.oc=W,p.pc=Y,Y+=832,p.ya=l(De,Ua),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=te),p.R=16*te,p.B=8*te,te=(ae=no[p.L])*p.R,ae=ae/2*p.B,p.sa=W,p.ta=Y+te,p.qa=p.sa,p.ra=p.ta+16*E*p.R+ae,p.Ha=p.qa,p.Ia=p.ra+8*E*p.B+ae,p.$c=0,Y+=z,p.mb=$?W:null,p.nb=$?Y:null,e(Y+$<=p.Fc+p.Vb),fs(p),i(p.Ac,p.Bc,0,R),E=1}}if(E){if(y.ka=0,y.y=p.sa,y.O=p.ta,y.f=p.qa,y.N=p.ra,y.ea=p.Ha,y.Vd=p.Ia,y.fa=p.R,y.Rc=p.B,y.F=null,y.J=0,!Ks){for(E=-255;255>=E;++E)Pr[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Ca[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Uo[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)zo[255+E]=0>E?0:255<E?255:E;Ks=1}Es=Hi,Qa=ms,Ja=ba,Br=Hn,Qi=gs,Ar=ps,Nl=xs,Ts=Ya,Au=ko,jo=Sl,Fo=Co,Vo=zs,Cl=qs,Eu=ws,Bo=fa,Ys=Ai,kl=Vr,Er=xu,Oi[0]=_i,Oi[1]=yu,Oi[2]=_a,Oi[3]=bu,Oi[4]=$i,Oi[5]=Sa,Oi[6]=Pi,Oi[7]=Gi,Oi[8]=Wa,Oi[9]=vs,eo[0]=xa,eo[1]=xl,eo[2]=Ha,eo[3]=No,eo[4]=ir,eo[5]=Ga,eo[6]=wa,ga[0]=Aa,ga[1]=bl,ga[2]=wl,ga[3]=Wi,ga[4]=Sn,ga[5]=Fr,ga[6]=ys,E=1}else E=0}E&&(E=function(Re,tt){for(Re.M=0;Re.M<Re.Va;++Re.M){var ze,we=Re.Jc[Re.M&Re.Xb],Ae=Re.m,We=Re;for(ze=0;ze<We.za;++ze){var nt=Ae,Qe=We,Tt=Qe.Ac,xt=Qe.Bc+4*ze,Ft=Qe.zc,_t=Qe.ya[Qe.aa+ze];if(Qe.Qa.Bb?_t.$b=Oe(nt,Qe.Pa.jb[0])?2+Oe(nt,Qe.Pa.jb[2]):Oe(nt,Qe.Pa.jb[1]):_t.$b=0,Qe.kc&&(_t.Ad=Oe(nt,Qe.Bd)),_t.Za=!Oe(nt,145)+0,_t.Za){var Fn=_t.Ob,Gn=0;for(Qe=0;4>Qe;++Qe){var vn,fn=Ft[0+Qe];for(vn=0;4>vn;++vn){fn=Od[Tt[xt+vn]][fn];for(var Zn=Ho[Oe(nt,fn[0])];0<Zn;)Zn=Ho[2*Zn+Oe(nt,fn[Zn])];fn=-Zn,Tt[xt+vn]=fn}r(Fn,Gn,Tt,xt,4),Gn+=4,Ft[0+Qe]=fn}}else fn=Oe(nt,156)?Oe(nt,128)?1:3:Oe(nt,163)?2:0,_t.Ob[0]=fn,i(Tt,xt,fn,4),i(Ft,0,fn,4);_t.Dd=Oe(nt,142)?Oe(nt,114)?Oe(nt,183)?1:3:2:0}if(We.m.Ka)return ur(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(We=we,nt=(Ae=Re).rb[Ae.sb-1],Tt=Ae.rb[Ae.sb+Ae.ja],ze=Ae.ya[Ae.aa+Ae.ja],xt=Ae.kc?ze.Ad:0)nt.la=Tt.la=0,ze.Za||(nt.Na=Tt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Wn,sn;if(nt=Tt,Tt=We,xt=Ae.Pa.Xc,Ft=Ae.ya[Ae.aa+Ae.ja],_t=Ae.pb[Ft.$b],Qe=Ft.ad,Fn=0,Gn=Ae.rb[Ae.sb-1],fn=vn=0,i(Qe,Fn,0,384),Ft.Za)var ar=0,zt=xt[3];else{Zn=s(16);var Jt=nt.Na+Gn.Na;if(Jt=Kr(Tt,xt[1],Jt,_t.Eb,0,Zn,0),nt.Na=Gn.Na=(0<Jt)+0,1<Jt)Es(Zn,0,Qe,Fn);else{var Pn=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)Qe[Fn+Zn]=Pn}ar=1,zt=xt[0]}var Vn=15&nt.la,ui=15&Gn.la;for(Zn=0;4>Zn;++Zn){var Jr=1&ui;for(Pn=sn=0;4>Pn;++Pn)Vn=Vn>>1|(Jr=(Jt=Kr(Tt,zt,Jt=Jr+(1&Vn),_t.Sc,ar,Qe,Fn))>ar)<<7,sn=sn<<2|(3<Jt?3:1<Jt?2:Qe[Fn+0]!=0),Fn+=16;Vn>>=4,ui=ui>>1|Jr<<7,vn=(vn<<8|sn)>>>0}for(zt=Vn,ar=ui>>4,Wn=0;4>Wn;Wn+=2){for(sn=0,Vn=nt.la>>4+Wn,ui=Gn.la>>4+Wn,Zn=0;2>Zn;++Zn){for(Jr=1&ui,Pn=0;2>Pn;++Pn)Jt=Jr+(1&Vn),Vn=Vn>>1|(Jr=0<(Jt=Kr(Tt,xt[2],Jt,_t.Qc,0,Qe,Fn)))<<3,sn=sn<<2|(3<Jt?3:1<Jt?2:Qe[Fn+0]!=0),Fn+=16;Vn>>=2,ui=ui>>1|Jr<<5}fn|=sn<<4*Wn,zt|=Vn<<4<<Wn,ar|=(240&ui)<<Wn}nt.la=zt,Gn.la=ar,Ft.Hc=vn,Ft.Gc=fn,Ft.ia=43690&fn?0:_t.ia,xt=!(vn|fn)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[ze.$b][ze.Za],Ae.wa[Ae.Y+Ae.ja].La|=!xt),We.Ka)return ur(Re,7,"Premature end-of-file encountered.")}if(fs(Re),Ae=tt,We=1,ze=(we=Re).D,nt=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(ze.M=we.M,ze.uc=nt,Yi(we,ze),We=1,ze=(sn=we.D).Nb,nt=(fn=no[we.L])*we.R,Tt=fn/2*we.B,Zn=16*ze*we.R,Pn=8*ze*we.B,xt=we.sa,Ft=we.ta-nt+Zn,_t=we.qa,Qe=we.ra-Tt+Pn,Fn=we.Ha,Gn=we.Ia-Tt+Pn,ui=(Vn=sn.M)==0,vn=Vn>=we.Va-1,we.Aa==2&&Yi(we,sn),sn.uc)for(Jr=(Jt=we).D.M,e(Jt.D.uc),sn=Jt.yb;sn<Jt.Hb;++sn){ar=sn,zt=Jr;var Lr=(Or=(gr=Jt).D).Nb;Wn=gr.R;var Or=Or.wa[Or.Y+ar],Ur=gr.sa,Ra=gr.ta+16*Lr*Wn+16*ar,Yn=Or.dd,zr=Or.tc;if(zr!=0)if(e(3<=zr),gr.L==1)0<ar&&Ys(Ur,Ra,Wn,zr+4),Or.La&&Er(Ur,Ra,Wn,zr),0<zt&&Bo(Ur,Ra,Wn,zr+4),Or.La&&kl(Ur,Ra,Wn,zr);else{var Za=gr.B,Wo=gr.qa,Ml=gr.ra+8*Lr*Za+8*ar,Yo=gr.Ha,gr=gr.Ia+8*Lr*Za+8*ar;Lr=Or.ld,0<ar&&(Ts(Ur,Ra,Wn,zr+4,Yn,Lr),jo(Wo,Ml,Yo,gr,Za,zr+4,Yn,Lr)),Or.La&&(Vo(Ur,Ra,Wn,zr,Yn,Lr),Eu(Wo,Ml,Yo,gr,Za,zr,Yn,Lr)),0<zt&&(Nl(Ur,Ra,Wn,zr+4,Yn,Lr),Au(Wo,Ml,Yo,gr,Za,zr+4,Yn,Lr)),Or.La&&(Fo(Ur,Ra,Wn,zr,Yn,Lr),Cl(Wo,Ml,Yo,gr,Za,zr,Yn,Lr))}}if(we.ia&&alert("todo:DitherRow"),Ae.put!=null){if(sn=16*Vn,Vn=16*(Vn+1),ui?(Ae.y=we.sa,Ae.O=we.ta+Zn,Ae.f=we.qa,Ae.N=we.ra+Pn,Ae.ea=we.Ha,Ae.W=we.Ia+Pn):(sn-=fn,Ae.y=xt,Ae.O=Ft,Ae.f=_t,Ae.N=Qe,Ae.ea=Fn,Ae.W=Gn),vn||(Vn-=fn),Vn>Ae.o&&(Vn=Ae.o),Ae.F=null,Ae.J=null,we.Fa!=null&&0<we.Fa.length&&sn<Vn&&(Ae.J=Ro(we,Ae,sn,Vn-sn),Ae.F=we.mb,Ae.F==null&&Ae.F.length==0)){We=ur(we,3,"Could not decode alpha data.");break e}sn<Ae.j&&(fn=Ae.j-sn,sn=Ae.j,e(!(1&fn)),Ae.O+=we.R*fn,Ae.N+=we.B*(fn>>1),Ae.W+=we.B*(fn>>1),Ae.F!=null&&(Ae.J+=Ae.width*fn)),sn<Vn&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=sn-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Vn-sn,We=Ae.put(Ae))}ze+1!=we.Ic||vn||(r(we.sa,we.ta-nt,xt,Ft+16*we.R,nt),r(we.qa,we.ra-Tt,_t,Qe+8*we.B,Tt),r(we.Ha,we.Ia-Tt,Fn,Gn+8*we.B,Tt))}if(!We)return ur(Re,6,"Output aborted.")}return 1}(p,y)),y.bc!=null&&y.bc(y),E&=1}return E?(p.cb=0,E):0}function mi(p,y,E,R,z){z=p[y+E+32*R]+(z>>3),p[y+E+32*R]=-256&z?0>z?0:255:z}function To(p,y,E,R,z,$){mi(p,y,0,E,R+z),mi(p,y,1,E,R+$),mi(p,y,2,E,R-$),mi(p,y,3,E,R-z)}function Rn(p){return(20091*p>>16)+p}function gi(p,y,E,R){var z,$=0,W=s(16);for(z=0;4>z;++z){var Y=p[y+0]+p[y+8],te=p[y+0]-p[y+8],ae=(35468*p[y+4]>>16)-Rn(p[y+12]),xe=Rn(p[y+4])+(35468*p[y+12]>>16);W[$+0]=Y+xe,W[$+1]=te+ae,W[$+2]=te-ae,W[$+3]=Y-xe,$+=4,y++}for(z=$=0;4>z;++z)Y=(p=W[$+0]+4)+W[$+8],te=p-W[$+8],ae=(35468*W[$+4]>>16)-Rn(W[$+12]),mi(E,R,0,0,Y+(xe=Rn(W[$+4])+(35468*W[$+12]>>16))),mi(E,R,1,0,te+ae),mi(E,R,2,0,te-ae),mi(E,R,3,0,Y-xe),$++,R+=32}function ps(p,y,E,R){var z=p[y+0]+4,$=35468*p[y+4]>>16,W=Rn(p[y+4]),Y=35468*p[y+1]>>16;To(E,R,0,z+W,p=Rn(p[y+1]),Y),To(E,R,1,z+$,p,Y),To(E,R,2,z-$,p,Y),To(E,R,3,z-W,p,Y)}function ms(p,y,E,R,z){gi(p,y,E,R),z&&gi(p,y+16,E,R+4)}function ba(p,y,E,R){Qa(p,y+0,E,R,1),Qa(p,y+32,E,R+128,1)}function Hn(p,y,E,R){var z;for(p=p[y+0]+4,z=0;4>z;++z)for(y=0;4>y;++y)mi(E,R,y,z,p)}function gs(p,y,E,R){p[y+0]&&Br(p,y+0,E,R),p[y+16]&&Br(p,y+16,E,R+4),p[y+32]&&Br(p,y+32,E,R+128),p[y+48]&&Br(p,y+48,E,R+128+4)}function Hi(p,y,E,R){var z,$=s(16);for(z=0;4>z;++z){var W=p[y+0+z]+p[y+12+z],Y=p[y+4+z]+p[y+8+z],te=p[y+4+z]-p[y+8+z],ae=p[y+0+z]-p[y+12+z];$[0+z]=W+Y,$[8+z]=W-Y,$[4+z]=ae+te,$[12+z]=ae-te}for(z=0;4>z;++z)W=(p=$[0+4*z]+3)+$[3+4*z],Y=$[1+4*z]+$[2+4*z],te=$[1+4*z]-$[2+4*z],ae=p-$[3+4*z],E[R+0]=W+Y>>3,E[R+16]=ae+te>>3,E[R+32]=W-Y>>3,E[R+48]=ae-te>>3,R+=64}function qa(p,y,E){var R,z=y-32,$=oi,W=255-p[z-1];for(R=0;R<E;++R){var Y,te=$,ae=W+p[y-1];for(Y=0;Y<E;++Y)p[y+Y]=te[ae+p[z+Y]];y+=32}}function yu(p,y){qa(p,y,4)}function bl(p,y){qa(p,y,8)}function xl(p,y){qa(p,y,16)}function Ha(p,y){var E;for(E=0;16>E;++E)r(p,y+32*E,p,y-32,16)}function No(p,y){var E;for(E=16;0<E;--E)i(p,y,p[y-1],16),y+=32}function $a(p,y,E){var R;for(R=0;16>R;++R)i(y,E+32*R,p,16)}function xa(p,y){var E,R=16;for(E=0;16>E;++E)R+=p[y-1+32*E]+p[y+E-32];$a(R>>5,p,y)}function ir(p,y){var E,R=8;for(E=0;16>E;++E)R+=p[y-1+32*E];$a(R>>4,p,y)}function Ga(p,y){var E,R=8;for(E=0;16>E;++E)R+=p[y+E-32];$a(R>>4,p,y)}function wa(p,y){$a(128,p,y)}function Wt(p,y,E){return p+2*y+E+2>>2}function _a(p,y){var E,R=y-32;for(R=new Uint8Array([Wt(p[R-1],p[R+0],p[R+1]),Wt(p[R+0],p[R+1],p[R+2]),Wt(p[R+1],p[R+2],p[R+3]),Wt(p[R+2],p[R+3],p[R+4])]),E=0;4>E;++E)r(p,y+32*E,R,0,R.length)}function bu(p,y){var E=p[y-1],R=p[y-1+32],z=p[y-1+64],$=p[y-1+96];lt(p,y+0,16843009*Wt(p[y-1-32],E,R)),lt(p,y+32,16843009*Wt(E,R,z)),lt(p,y+64,16843009*Wt(R,z,$)),lt(p,y+96,16843009*Wt(z,$,$))}function _i(p,y){var E,R=4;for(E=0;4>E;++E)R+=p[y+E-32]+p[y-1+32*E];for(R>>=3,E=0;4>E;++E)i(p,y+32*E,R,4)}function $i(p,y){var E=p[y-1+0],R=p[y-1+32],z=p[y-1+64],$=p[y-1-32],W=p[y+0-32],Y=p[y+1-32],te=p[y+2-32],ae=p[y+3-32];p[y+0+96]=Wt(R,z,p[y-1+96]),p[y+1+96]=p[y+0+64]=Wt(E,R,z),p[y+2+96]=p[y+1+64]=p[y+0+32]=Wt($,E,R),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Wt(W,$,E),p[y+3+64]=p[y+2+32]=p[y+1+0]=Wt(Y,W,$),p[y+3+32]=p[y+2+0]=Wt(te,Y,W),p[y+3+0]=Wt(ae,te,Y)}function Pi(p,y){var E=p[y+1-32],R=p[y+2-32],z=p[y+3-32],$=p[y+4-32],W=p[y+5-32],Y=p[y+6-32],te=p[y+7-32];p[y+0+0]=Wt(p[y+0-32],E,R),p[y+1+0]=p[y+0+32]=Wt(E,R,z),p[y+2+0]=p[y+1+32]=p[y+0+64]=Wt(R,z,$),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Wt(z,$,W),p[y+3+32]=p[y+2+64]=p[y+1+96]=Wt($,W,Y),p[y+3+64]=p[y+2+96]=Wt(W,Y,te),p[y+3+96]=Wt(Y,te,te)}function Sa(p,y){var E=p[y-1+0],R=p[y-1+32],z=p[y-1+64],$=p[y-1-32],W=p[y+0-32],Y=p[y+1-32],te=p[y+2-32],ae=p[y+3-32];p[y+0+0]=p[y+1+64]=$+W+1>>1,p[y+1+0]=p[y+2+64]=W+Y+1>>1,p[y+2+0]=p[y+3+64]=Y+te+1>>1,p[y+3+0]=te+ae+1>>1,p[y+0+96]=Wt(z,R,E),p[y+0+64]=Wt(R,E,$),p[y+0+32]=p[y+1+96]=Wt(E,$,W),p[y+1+32]=p[y+2+96]=Wt($,W,Y),p[y+2+32]=p[y+3+96]=Wt(W,Y,te),p[y+3+32]=Wt(Y,te,ae)}function Gi(p,y){var E=p[y+0-32],R=p[y+1-32],z=p[y+2-32],$=p[y+3-32],W=p[y+4-32],Y=p[y+5-32],te=p[y+6-32],ae=p[y+7-32];p[y+0+0]=E+R+1>>1,p[y+1+0]=p[y+0+64]=R+z+1>>1,p[y+2+0]=p[y+1+64]=z+$+1>>1,p[y+3+0]=p[y+2+64]=$+W+1>>1,p[y+0+32]=Wt(E,R,z),p[y+1+32]=p[y+0+96]=Wt(R,z,$),p[y+2+32]=p[y+1+96]=Wt(z,$,W),p[y+3+32]=p[y+2+96]=Wt($,W,Y),p[y+3+64]=Wt(W,Y,te),p[y+3+96]=Wt(Y,te,ae)}function vs(p,y){var E=p[y-1+0],R=p[y-1+32],z=p[y-1+64],$=p[y-1+96];p[y+0+0]=E+R+1>>1,p[y+2+0]=p[y+0+32]=R+z+1>>1,p[y+2+32]=p[y+0+64]=z+$+1>>1,p[y+1+0]=Wt(E,R,z),p[y+3+0]=p[y+1+32]=Wt(R,z,$),p[y+3+32]=p[y+1+64]=Wt(z,$,$),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=$}function Wa(p,y){var E=p[y-1+0],R=p[y-1+32],z=p[y-1+64],$=p[y-1+96],W=p[y-1-32],Y=p[y+0-32],te=p[y+1-32],ae=p[y+2-32];p[y+0+0]=p[y+2+32]=E+W+1>>1,p[y+0+32]=p[y+2+64]=R+E+1>>1,p[y+0+64]=p[y+2+96]=z+R+1>>1,p[y+0+96]=$+z+1>>1,p[y+3+0]=Wt(Y,te,ae),p[y+2+0]=Wt(W,Y,te),p[y+1+0]=p[y+3+32]=Wt(E,W,Y),p[y+1+32]=p[y+3+64]=Wt(R,E,W),p[y+1+64]=p[y+3+96]=Wt(z,R,E),p[y+1+96]=Wt($,z,R)}function wl(p,y){var E;for(E=0;8>E;++E)r(p,y+32*E,p,y-32,8)}function Wi(p,y){var E;for(E=0;8>E;++E)i(p,y,p[y-1],8),y+=32}function Si(p,y,E){var R;for(R=0;8>R;++R)i(y,E+32*R,p,8)}function Aa(p,y){var E,R=8;for(E=0;8>E;++E)R+=p[y+E-32]+p[y-1+32*E];Si(R>>4,p,y)}function Fr(p,y){var E,R=4;for(E=0;8>E;++E)R+=p[y+E-32];Si(R>>3,p,y)}function Sn(p,y){var E,R=4;for(E=0;8>E;++E)R+=p[y-1+32*E];Si(R>>3,p,y)}function ys(p,y){Si(128,p,y)}function Ea(p,y,E){var R=p[y-E],z=p[y+0],$=3*(z-R)+mh[1020+p[y-2*E]-p[y+E]],W=Il[112+($+4>>3)];p[y-E]=oi[255+R+Il[112+($+3>>3)]],p[y+0]=oi[255+z-W]}function _l(p,y,E,R){var z=p[y+0],$=p[y+E];return ka[255+p[y-2*E]-p[y-E]]>R||ka[255+$-z]>R}function Bs(p,y,E,R){return 4*ka[255+p[y-E]-p[y+0]]+ka[255+p[y-2*E]-p[y+E]]<=R}function Us(p,y,E,R,z){var $=p[y-3*E],W=p[y-2*E],Y=p[y-E],te=p[y+0],ae=p[y+E],xe=p[y+2*E],je=p[y+3*E];return 4*ka[255+Y-te]+ka[255+W-ae]>R?0:ka[255+p[y-4*E]-$]<=z&&ka[255+$-W]<=z&&ka[255+W-Y]<=z&&ka[255+je-xe]<=z&&ka[255+xe-ae]<=z&&ka[255+ae-te]<=z}function fa(p,y,E,R){var z=2*R+1;for(R=0;16>R;++R)Bs(p,y+R,E,z)&&Ea(p,y+R,E)}function Ai(p,y,E,R){var z=2*R+1;for(R=0;16>R;++R)Bs(p,y+R*E,1,z)&&Ea(p,y+R*E,1)}function Vr(p,y,E,R){var z;for(z=3;0<z;--z)fa(p,y+=4*E,E,R)}function xu(p,y,E,R){var z;for(z=3;0<z;--z)Ai(p,y+=4,E,R)}function bs(p,y,E,R,z,$,W,Y){for($=2*$+1;0<z--;){if(Us(p,y,E,$,W))if(_l(p,y,E,Y))Ea(p,y,E);else{var te=p,ae=y,xe=E,je=te[ae-2*xe],De=te[ae-xe],Re=te[ae+0],tt=te[ae+xe],ze=te[ae+2*xe],we=27*(We=mh[1020+3*(Re-De)+mh[1020+je-tt]])+63>>7,Ae=18*We+63>>7,We=9*We+63>>7;te[ae-3*xe]=oi[255+te[ae-3*xe]+We],te[ae-2*xe]=oi[255+je+Ae],te[ae-xe]=oi[255+De+we],te[ae+0]=oi[255+Re-we],te[ae+xe]=oi[255+tt-Ae],te[ae+2*xe]=oi[255+ze-We]}y+=R}}function vi(p,y,E,R,z,$,W,Y){for($=2*$+1;0<z--;){if(Us(p,y,E,$,W))if(_l(p,y,E,Y))Ea(p,y,E);else{var te=p,ae=y,xe=E,je=te[ae-xe],De=te[ae+0],Re=te[ae+xe],tt=Il[112+((ze=3*(De-je))+4>>3)],ze=Il[112+(ze+3>>3)],we=tt+1>>1;te[ae-2*xe]=oi[255+te[ae-2*xe]+we],te[ae-xe]=oi[255+je+ze],te[ae+0]=oi[255+De-tt],te[ae+xe]=oi[255+Re-we]}y+=R}}function xs(p,y,E,R,z,$){bs(p,y,E,1,16,R,z,$)}function Ya(p,y,E,R,z,$){bs(p,y,1,E,16,R,z,$)}function Co(p,y,E,R,z,$){var W;for(W=3;0<W;--W)vi(p,y+=4*E,E,1,16,R,z,$)}function zs(p,y,E,R,z,$){var W;for(W=3;0<W;--W)vi(p,y+=4,1,E,16,R,z,$)}function ko(p,y,E,R,z,$,W,Y){bs(p,y,z,1,8,$,W,Y),bs(E,R,z,1,8,$,W,Y)}function Sl(p,y,E,R,z,$,W,Y){bs(p,y,1,z,8,$,W,Y),bs(E,R,1,z,8,$,W,Y)}function qs(p,y,E,R,z,$,W,Y){vi(p,y+4*z,z,1,8,$,W,Y),vi(E,R+4*z,z,1,8,$,W,Y)}function ws(p,y,E,R,z,$,W,Y){vi(p,y+4,1,z,8,$,W,Y),vi(E,R+4,1,z,8,$,W,Y)}function Hs(){this.ba=new mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Io(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $s(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _s(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new D}function wu(){this.xb=this.a=0,this.l=new za,this.ca=new mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _s,this.ab=0,this.gc=l(4,$s),this.Oc=0}function Ka(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new za,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ss(p,y,E,R,z,$,W){for(p=p==null?0:p[y+0],y=0;y<W;++y)z[$+y]=p+E[R+y]&255,p=z[$+y]}function Gs(p,y,E,R,z,$,W){var Y;if(p==null)Ss(null,null,E,R,z,$,W);else for(Y=0;Y<W;++Y)z[$+Y]=p[y+Y]+E[R+Y]&255}function Ei(p,y,E,R,z,$,W){if(p==null)Ss(null,null,E,R,z,$,W);else{var Y,te=p[y+0],ae=te,xe=te;for(Y=0;Y<W;++Y)ae=xe+(te=p[y+Y])-ae,xe=E[R+Y]+(-256&ae?0>ae?0:255:ae)&255,ae=te,z[$+Y]=xe}}function Ro(p,y,E,R){var z=y.width,$=y.o;if(e(p!=null&&y!=null),0>E||0>=R||E+R>$)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ka,(W=p.ga==null)||(W=y.width*y.o,e(p.Gb.length==0),p.Gb=s(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var Y=p.Fa,te=p.P,ae=p.qc,xe=p.mb,je=p.nb,De=te+1,Re=ae-1,tt=W.l;if(e(Y!=null&&xe!=null&&y!=null),ks[0]=null,ks[1]=Ss,ks[2]=Gs,ks[3]=Ei,W.ca=xe,W.tb=je,W.c=y.width,W.i=y.height,e(0<W.c&&0<W.i),1>=ae)y=0;else if(W.$a=Y[te+0]>>0&3,W.Z=Y[te+0]>>2&3,W.Lc=Y[te+0]>>4&3,te=Y[te+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||te)y=0;else if(tt.put=nr,tt.ac=Ht,tt.bc=Ir,tt.ma=W,tt.width=y.width,tt.height=y.height,tt.Da=y.Da,tt.v=y.v,tt.va=y.va,tt.j=y.j,tt.o=y.o,W.$a)e:{e(W.$a==1),y=Mn();t:for(;;){if(y==null){y=0;break e}if(e(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,fe(y.m,Y,De,Re),!bn(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&ii(y.s)?(W.ic=1,Y=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(Y),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=pi(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=Re>=W.c*W.i;W=!y}if(W)return null;p.ga.Lc!=1?p.Ga=0:R=$-E}e(p.ga!=null),e(E+R<=$);e:{if(y=(Y=p.ga).c,$=Y.l.o,Y.$a==0){if(De=p.rc,Re=p.Vc,tt=p.Fa,te=p.P+1+E*y,ae=p.mb,xe=p.nb+E*y,e(te<=p.P+p.qc),Y.Z!=0)for(e(ks[Y.Z]!=null),W=0;W<R;++W)ks[Y.Z](De,Re,tt,te,ae,xe,y),De=ae,Re=xe,xe+=y,te+=y;else for(W=0;W<R;++W)r(ae,xe,tt,te,y),De=ae,Re=xe,xe+=y,te+=y;p.rc=De,p.Vc=Re}else{if(e(Y.mc!=null),y=E+R,e((W=Y.mc)!=null),e(y<=W.i),W.C>=y)y=1;else if(Y.ic||Ie(),Y.ic){Y=W.V,De=W.Ba,Re=W.c;var ze=W.i,we=(tt=1,te=W.$/Re,ae=W.$%Re,xe=W.m,je=W.s,W.$),Ae=Re*ze,We=Re*y,nt=je.wc,Qe=we<We?Dn(je,ae,te):null;e(we<=Ae),e(y<=ze),e(ii(je));t:for(;;){for(;!xe.h&&we<We;){if(ae&nt||(Qe=Dn(je,ae,te)),e(Qe!=null),oe(xe),256>(ze=yn(Qe.G[0],Qe.H[0],xe)))Y[De+we]=ze,++we,++ae>=Re&&(ae=0,++te<=y&&!(te%16)&&_r(W,te));else{if(!(280>ze)){tt=0;break t}ze=dn(ze-256,xe);var Tt,xt=yn(Qe.G[4],Qe.H[4],xe);if(oe(xe),!(we>=(xt=gn(Re,xt=dn(xt,xe)))&&Ae-we>=ze)){tt=0;break t}for(Tt=0;Tt<ze;++Tt)Y[De+we+Tt]=Y[De+we+Tt-xt];for(we+=ze,ae+=ze;ae>=Re;)ae-=Re,++te<=y&&!(te%16)&&_r(W,te);we<We&&ae&nt&&(Qe=Dn(je,ae,te))}e(xe.h==ne(xe))}_r(W,te>y?y:te);break t}!tt||xe.h&&we<Ae?(tt=0,W.a=xe.h?5:3):W.$=we,y=tt}else y=rr(W,W.V,W.Ba,W.c,W.i,y,jn);if(!y){R=0;break e}}E+R>=$&&(p.Cc=1),R=1}if(!R)return null;if(p.Cc&&((R=p.ga)!=null&&(R.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*z}function S(p,y,E,R,z,$){for(;0<z--;){var W,Y=p,te=y+(E?1:0),ae=p,xe=y+(E?0:3);for(W=0;W<R;++W){var je=ae[xe+4*W];je!=255&&(je*=32897,Y[te+4*W+0]=Y[te+4*W+0]*je>>23,Y[te+4*W+1]=Y[te+4*W+1]*je>>23,Y[te+4*W+2]=Y[te+4*W+2]*je>>23)}y+=$}}function q(p,y,E,R,z){for(;0<R--;){var $;for($=0;$<E;++$){var W=p[y+2*$+0],Y=15&(ae=p[y+2*$+1]),te=4369*Y,ae=(240&ae|ae>>4)*te>>16;p[y+2*$+0]=(240&W|W>>4)*te>>16&240|(15&W|W<<4)*te>>16>>4&15,p[y+2*$+1]=240&ae|Y}y+=z}}function se(p,y,E,R,z,$,W,Y){var te,ae,xe=255;for(ae=0;ae<z;++ae){for(te=0;te<R;++te){var je=p[y+te];$[W+4*te]=je,xe&=je}y+=E,W+=Y}return xe!=255}function ve(p,y,E,R,z){var $;for($=0;$<z;++$)E[R+$]=p[y+$]>>8}function Ie(){pa=S,xn=q,wn=se,cr=ve}function $e(p,y,E){P[p]=function(R,z,$,W,Y,te,ae,xe,je,De,Re,tt,ze,we,Ae,We,nt){var Qe,Tt=nt-1>>1,xt=Y[te+0]|ae[xe+0]<<16,Ft=je[De+0]|Re[tt+0]<<16;e(R!=null);var _t=3*xt+Ft+131074>>2;for(y(R[z+0],255&_t,_t>>16,ze,we),$!=null&&(_t=3*Ft+xt+131074>>2,y($[W+0],255&_t,_t>>16,Ae,We)),Qe=1;Qe<=Tt;++Qe){var Fn=Y[te+Qe]|ae[xe+Qe]<<16,Gn=je[De+Qe]|Re[tt+Qe]<<16,vn=xt+Fn+Ft+Gn+524296,fn=vn+2*(Fn+Ft)>>3;_t=fn+xt>>1,xt=(vn=vn+2*(xt+Gn)>>3)+Fn>>1,y(R[z+2*Qe-1],255&_t,_t>>16,ze,we+(2*Qe-1)*E),y(R[z+2*Qe-0],255&xt,xt>>16,ze,we+(2*Qe-0)*E),$!=null&&(_t=vn+Ft>>1,xt=fn+Gn>>1,y($[W+2*Qe-1],255&_t,_t>>16,Ae,We+(2*Qe-1)*E),y($[W+2*Qe+0],255&xt,xt>>16,Ae,We+(2*Qe+0)*E)),xt=Fn,Ft=Gn}1&nt||(_t=3*xt+Ft+131074>>2,y(R[z+nt-1],255&_t,_t>>16,ze,we+(nt-1)*E),$!=null&&(_t=3*Ft+xt+131074>>2,y($[W+nt-1],255&_t,_t>>16,Ae,We+(nt-1)*E)))}}function ut(){li[Ti]=to,li[Tu]=Is,li[Ns]=$o,li[Cc]=yh,li[Rl]=bh,li[Xs]=ku,li[gh]=xh,li[kc]=Is,li[qo]=yh,li[Qs]=bh,li[Nu]=ku}function wt(p){return p&-16384?0>p?0:255:p>>R0}function m(p,y){return wt((19077*p>>8)+(26149*y>>8)-14234)}function T(p,y,E){return wt((19077*p>>8)-(6419*y>>8)-(13320*E>>8)+8708)}function L(p,y){return wt((19077*p>>8)+(33050*y>>8)-17685)}function X(p,y,E,R,z){R[z+0]=m(p,E),R[z+1]=T(p,y,E),R[z+2]=L(p,y)}function Te(p,y,E,R,z){R[z+0]=L(p,y),R[z+1]=T(p,y,E),R[z+2]=m(p,E)}function Fe(p,y,E,R,z){var $=T(p,y,E);y=$<<3&224|L(p,y)>>3,R[z+0]=248&m(p,E)|$>>5,R[z+1]=y}function ct(p,y,E,R,z){var $=240&L(p,y)|15;R[z+0]=240&m(p,E)|T(p,y,E)>>4,R[z+1]=$}function Yt(p,y,E,R,z){R[z+0]=255,X(p,y,E,R,z+1)}function An(p,y,E,R,z){Te(p,y,E,R,z),R[z+3]=255}function an(p,y,E,R,z){X(p,y,E,R,z),R[z+3]=255}function $n(p,y){return 0>p?0:p>y?y:p}function Jn(p,y,E){P[p]=function(R,z,$,W,Y,te,ae,xe,je){for(var De=xe+(-2&je)*E;xe!=De;)y(R[z+0],$[W+0],Y[te+0],ae,xe),y(R[z+1],$[W+0],Y[te+0],ae,xe+E),z+=2,++W,++te,xe+=2*E;1&je&&y(R[z+0],$[W+0],Y[te+0],ae,xe)}}function Ta(p,y,E){return E==0?p==0?y==0?6:5:y==0?4:0:E}function Rr(p,y,E,R,z){switch(p>>>30){case 3:Qa(y,E,R,z,0);break;case 2:Ar(y,E,R,z);break;case 1:Br(y,E,R,z)}}function Yi(p,y){var E,R,z=y.M,$=y.Nb,W=p.oc,Y=p.pc+40,te=p.oc,ae=p.pc+584,xe=p.oc,je=p.pc+600;for(E=0;16>E;++E)W[Y+32*E-1]=129;for(E=0;8>E;++E)te[ae+32*E-1]=129,xe[je+32*E-1]=129;for(0<z?W[Y-1-32]=te[ae-1-32]=xe[je-1-32]=129:(i(W,Y-32-1,127,21),i(te,ae-32-1,127,9),i(xe,je-32-1,127,9)),R=0;R<p.za;++R){var De=y.ya[y.aa+R];if(0<R){for(E=-1;16>E;++E)r(W,Y+32*E-4,W,Y+32*E+12,4);for(E=-1;8>E;++E)r(te,ae+32*E-4,te,ae+32*E+4,4),r(xe,je+32*E-4,xe,je+32*E+4,4)}var Re=p.Gd,tt=p.Hd+R,ze=De.ad,we=De.Hc;if(0<z&&(r(W,Y-32,Re[tt].y,0,16),r(te,ae-32,Re[tt].f,0,8),r(xe,je-32,Re[tt].ea,0,8)),De.Za){var Ae=W,We=Y-32+16;for(0<z&&(R>=p.za-1?i(Ae,We,Re[tt].y[15],4):r(Ae,We,Re[tt+1].y,0,4)),E=0;4>E;E++)Ae[We+128+E]=Ae[We+256+E]=Ae[We+384+E]=Ae[We+0+E];for(E=0;16>E;++E,we<<=2)Ae=W,We=Y+Dl[E],Oi[De.Ob[E]](Ae,We),Rr(we,ze,16*+E,Ae,We)}else if(Ae=Ta(R,z,De.Ob[0]),eo[Ae](W,Y),we!=0)for(E=0;16>E;++E,we<<=2)Rr(we,ze,16*+E,W,Y+Dl[E]);for(E=De.Gc,Ae=Ta(R,z,De.Dd),ga[Ae](te,ae),ga[Ae](xe,je),we=ze,Ae=te,We=ae,255&(De=E>>0)&&(170&De?Ja(we,256,Ae,We):Qi(we,256,Ae,We)),De=xe,we=je,255&(E>>=8)&&(170&E?Ja(ze,320,De,we):Qi(ze,320,De,we)),z<p.Ub-1&&(r(Re[tt].y,0,W,Y+480,16),r(Re[tt].f,0,te,ae+224,8),r(Re[tt].ea,0,xe,je+224,8)),E=8*$*p.B,Re=p.sa,tt=p.ta+16*R+16*$*p.R,ze=p.qa,De=p.ra+8*R+E,we=p.Ha,Ae=p.Ia+8*R+E,E=0;16>E;++E)r(Re,tt+E*p.R,W,Y+32*E,16);for(E=0;8>E;++E)r(ze,De+E*p.B,te,ae+32*E,8),r(we,Ae+E*p.B,xe,je+32*E,8)}}function As(p,y,E,R,z,$,W,Y,te){var ae=[0],xe=[0],je=0,De=te!=null?te.kd:0,Re=te??new Io;if(p==null||12>E)return 7;Re.data=p,Re.w=y,Re.ha=E,y=[y],E=[E],Re.gb=[Re.gb];e:{var tt=y,ze=E,we=Re.gb;if(e(p!=null),e(ze!=null),e(we!=null),we[0]=0,12<=ze[0]&&!t(p,tt[0],"RIFF")){if(t(p,tt[0]+8,"WEBP")){we=3;break e}var Ae=ft(p,tt[0]+4);if(12>Ae||4294967286<Ae){we=3;break e}if(De&&Ae>ze[0]-8){we=7;break e}we[0]=Ae,tt[0]+=12,ze[0]-=12}we=0}if(we!=0)return we;for(Ae=0<Re.gb[0],E=E[0];;){e:{var We=p;ze=y,we=E;var nt=ae,Qe=xe,Tt=tt=[0];if((_t=je=[je])[0]=0,8>we[0])we=7;else{if(!t(We,ze[0],"VP8X")){if(ft(We,ze[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var xt=ft(We,ze[0]+8),Ft=1+ht(We,ze[0]+12);if(2147483648<=Ft*(We=1+ht(We,ze[0]+15))){we=3;break e}Tt!=null&&(Tt[0]=xt),nt!=null&&(nt[0]=Ft),Qe!=null&&(Qe[0]=We),ze[0]+=18,we[0]-=18,_t[0]=1}we=0}}if(je=je[0],tt=tt[0],we!=0)return we;if(ze=!!(2&tt),!Ae&&je)return 3;if($!=null&&($[0]=!!(16&tt)),W!=null&&(W[0]=ze),Y!=null&&(Y[0]=0),W=ae[0],tt=xe[0],je&&ze&&te==null){we=0;break}if(4>E){we=7;break}if(Ae&&je||!Ae&&!je&&!t(p,y[0],"ALPH")){E=[E],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{xt=p,we=y,Ae=E;var _t=Re.gb;nt=Re.na,Qe=Re.P,Tt=Re.Sa,Ft=22,e(xt!=null),e(Ae!=null),We=we[0];var Fn=Ae[0];for(e(nt!=null),e(Tt!=null),nt[0]=null,Qe[0]=null,Tt[0]=0;;){if(we[0]=We,Ae[0]=Fn,8>Fn){we=7;break e}var Gn=ft(xt,We+4);if(4294967286<Gn){we=3;break e}var vn=8+Gn+1&-2;if(Ft+=vn,0<_t&&Ft>_t){we=3;break e}if(!t(xt,We,"VP8 ")||!t(xt,We,"VP8L")){we=0;break e}if(Fn[0]<vn){we=7;break e}t(xt,We,"ALPH")||(nt[0]=xt,Qe[0]=We+8,Tt[0]=Gn),We+=vn,Fn-=vn}}if(E=E[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],we!=0)break}E=[E],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(_t=p,we=y,Ae=E,nt=Re.gb[0],Qe=Re.Ja,Tt=Re.xa,xt=we[0],We=!t(_t,xt,"VP8 "),Ft=!t(_t,xt,"VP8L"),e(_t!=null),e(Ae!=null),e(Qe!=null),e(Tt!=null),8>Ae[0])we=7;else{if(We||Ft){if(_t=ft(_t,xt+4),12<=nt&&_t>nt-12){we=3;break e}if(De&&_t>Ae[0]-8){we=7;break e}Qe[0]=_t,we[0]+=8,Ae[0]-=8,Tt[0]=Ft}else Tt[0]=5<=Ae[0]&&_t[xt+0]==47&&!(_t[xt+4]>>5),Qe[0]=Ae[0];we=0}if(E=E[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],y=y[0],we!=0)break;if(4294967286<Re.Ja)return 3;if(Y==null||ze||(Y[0]=Re.xa?2:1),W=[W],tt=[tt],Re.xa){if(5>E){we=7;break}Y=W,De=tt,ze=$,p==null||5>E?p=0:5<=E&&p[y+0]==47&&!(p[y+4]>>5)?(Ae=[0],_t=[0],nt=[0],fe(Qe=new j,p,y,E),At(Qe,Ae,_t,nt)?(Y!=null&&(Y[0]=Ae[0]),De!=null&&(De[0]=_t[0]),ze!=null&&(ze[0]=nt[0]),p=1):p=0):p=0}else{if(10>E){we=7;break}Y=tt,p==null||10>E||!ai(p,y+3,E-3)?p=0:(De=p[y+0]|p[y+1]<<8|p[y+2]<<16,ze=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&De||3<(De>>1&7)||!(De>>4&1)||De>>5>=Re.Ja||!ze||!p?p=0:(W&&(W[0]=ze),Y&&(Y[0]=p),p=1))}if(!p||(W=W[0],tt=tt[0],je&&(ae[0]!=W||xe[0]!=tt)))return 3;te!=null&&(te[0]=Re,te.offset=y-te.w,e(4294967286>y-te.w),e(te.offset==te.ha-E));break}return we==0||we==7&&je&&te==null?($!=null&&($[0]|=Re.na!=null&&0<Re.na.length),R!=null&&(R[0]=W),z!=null&&(z[0]=tt),0):we}function Po(p,y,E){var R=y.width,z=y.height,$=0,W=0,Y=R,te=z;if(y.Da=p!=null&&0<p.Da,y.Da&&(Y=p.cd,te=p.bd,$=p.v,W=p.j,11>E||($&=-2,W&=-2),0>$||0>W||0>=Y||0>=te||$+Y>R||W+te>z))return 0;if(y.v=$,y.j=W,y.va=$+Y,y.o=W+te,y.U=Y,y.T=te,y.da=p!=null&&0<p.da,y.da){if(!kt(Y,te,E=[p.ib],$=[p.hb]))return 0;y.ib=E[0],y.hb=$[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*R/4&&y.hb<3*z/4,y.Kb=0),1}function _u(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function Al(p,y,E,R){if(R==null||0>=p||0>=y)return 2;if(E!=null){if(E.Da){var z=E.cd,$=E.bd,W=-2&E.v,Y=-2&E.j;if(0>W||0>Y||0>=z||0>=$||W+z>p||Y+$>y)return 2;p=z,y=$}if(E.da){if(!kt(p,y,z=[E.ib],$=[E.hb]))return 2;p=z[0],y=$[0]}}R.width=p,R.height=y;e:{var te=R.width,ae=R.height;if(p=R.S,0>=te||0>=ae||!(p>=Ti&&13>p))p=2;else{if(0>=R.Rd&&R.sd==null){W=$=z=y=0;var xe=(Y=te*kp[p])*ae;if(11>p||($=(ae+1)/2*(y=(te+1)/2),p==12&&(W=(z=te)*ae)),(ae=s(xe+2*$+W))==null){p=1;break e}R.sd=ae,11>p?((te=R.f.RGBA).eb=ae,te.fb=0,te.A=Y,te.size=xe):((te=R.f.kb).y=ae,te.O=0,te.fa=Y,te.Fd=xe,te.f=ae,te.N=0+xe,te.Ab=y,te.Cd=$,te.ea=ae,te.W=0+xe+$,te.Db=y,te.Ed=$,p==12&&(te.F=ae,te.J=0+xe+2*$),te.Tc=W,te.lb=z)}if(y=1,z=R.S,$=R.width,W=R.height,z>=Ti&&13>z)if(11>z)p=R.f.RGBA,y&=(Y=Math.abs(p.A))*(W-1)+$<=p.size,y&=Y>=$*kp[z],y&=p.eb!=null;else{p=R.f.kb,Y=($+1)/2,xe=(W+1)/2,te=Math.abs(p.fa),ae=Math.abs(p.Ab);var je=Math.abs(p.Db),De=Math.abs(p.lb),Re=De*(W-1)+$;y&=te*(W-1)+$<=p.Fd,y&=ae*(xe-1)+Y<=p.Cd,y=(y&=je*(xe-1)+Y<=p.Ed)&te>=$&ae>=Y&je>=Y,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,z==12&&(y&=De>=$,y&=Re<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||E!=null&&E.fd&&(p=_u(R)),p}var Yr=64,Lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],El=24,Tl=32,Su=8,Ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,y,E){return y[E+0]},P.Predictor3=function(p,y,E){return y[E+1]},P.Predictor4=function(p,y,E){return y[E-1]},P.Predictor5=function(p,y,E){return bt(bt(p,y[E+1]),y[E+0])},P.Predictor6=function(p,y,E){return bt(p,y[E-1])},P.Predictor7=function(p,y,E){return bt(p,y[E+0])},P.Predictor8=function(p,y,E){return bt(y[E-1],y[E+0])},P.Predictor9=function(p,y,E){return bt(y[E+0],y[E+1])},P.Predictor10=function(p,y,E){return bt(bt(p,y[E-1]),bt(y[E+0],y[E+1]))},P.Predictor11=function(p,y,E){var R=y[E+0];return 0>=Xe(R>>24&255,p>>24&255,(y=y[E-1])>>24&255)+Xe(R>>16&255,p>>16&255,y>>16&255)+Xe(R>>8&255,p>>8&255,y>>8&255)+Xe(255&R,255&p,255&y)?R:p},P.Predictor12=function(p,y,E){var R=y[E+0];return(He((p>>24&255)+(R>>24&255)-((y=y[E-1])>>24&255))<<24|He((p>>16&255)+(R>>16&255)-(y>>16&255))<<16|He((p>>8&255)+(R>>8&255)-(y>>8&255))<<8|He((255&p)+(255&R)-(255&y)))>>>0},P.Predictor13=function(p,y,E){var R=y[E-1];return(Ke((p=bt(p,y[E+0]))>>24&255,R>>24&255)<<24|Ke(p>>16&255,R>>16&255)<<16|Ke(p>>8&255,R>>8&255)<<8|Ke(p>>0&255,R>>0&255))>>>0};var Ld=P.PredictorAdd0;P.PredictorAdd1=Ze,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var Tc=P.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var ph,Na=P.ColorIndexInverseTransform,si=P.MapARGB,Oo=P.VP8LColorIndexInverseTransformAlpha,Nc=P.MapAlpha,Ws=P.VP8LPredictorsAdd=[];Ws.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Do,Li,yi,Mo,Xi,Xa,Es,Qa,Ar,Ja,Br,Qi,Nl,Ts,Au,jo,Fo,Vo,Cl,Eu,Bo,Ys,kl,Er,pa,xn,wn,cr,Pr=s(511),Ca=s(2041),Uo=s(225),zo=s(767),Ks=0,mh=Ca,Il=Uo,oi=zo,ka=Pr,Ti=0,Tu=1,Ns=2,Cc=3,Rl=4,Xs=5,gh=6,kc=7,qo=8,Qs=9,Nu=10,vh=[2,3,7],Ia=[3,3,11],ma=[280,256,256,256,40],Pl=[0,1,1,1,0],Js=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ll=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ap=8,Ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kr=null,Tr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ho=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Cs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Od=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ol=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ep=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],Oi=[],ga=[],Tp=1,Cu=2,ks=[],li=[];$e("UpsampleRgbLinePair",X,3),$e("UpsampleBgrLinePair",Te,3),$e("UpsampleRgbaLinePair",an,4),$e("UpsampleBgraLinePair",An,4),$e("UpsampleArgbLinePair",Yt,4),$e("UpsampleRgba4444LinePair",ct,2),$e("UpsampleRgb565LinePair",Fe,2);var to=P.UpsampleRgbLinePair,$o=P.UpsampleBgrLinePair,Is=P.UpsampleRgbaLinePair,yh=P.UpsampleBgraLinePair,bh=P.UpsampleArgbLinePair,ku=P.UpsampleRgba4444LinePair,xh=P.UpsampleRgb565LinePair,Rs=16,Xr=1<<Rs-1,Go=-227,wh=482,R0=6,Np=0,P0=s(256),Qr=s(256),Dd=s(256),Pc=s(256),Lc=s(wh-Go),Md=s(wh-Go);Jn("YuvToRgbRow",X,3),Jn("YuvToBgrRow",Te,3),Jn("YuvToRgbaRow",an,4),Jn("YuvToBgraRow",An,4),Jn("YuvToArgbRow",Yt,4),Jn("YuvToRgba4444Row",ct,2),Jn("YuvToRgb565Row",Fe,2);var Dl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],no=[0,2,8],L0=[8,7,6,4,4,2,2,2,1,1,1,1],Cp=1;this.WebPDecodeRGBA=function(p,y,E,R,z){var $=Tu,W=new Hs,Y=new mt;W.ba=Y,Y.S=$,Y.width=[Y.width],Y.height=[Y.height];var te=Y.width,ae=Y.height,xe=new jt;if(xe==null||p==null)var je=2;else e(xe!=null),je=As(p,y,E,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(je!=0?te=0:(te!=null&&(te[0]=xe.width[0]),ae!=null&&(ae[0]=xe.height[0]),te=1),te){Y.width=Y.width[0],Y.height=Y.height[0],R!=null&&(R[0]=Y.width),z!=null&&(z[0]=Y.height);e:{if(R=new za,(z=new Io).data=p,z.w=y,z.ha=E,z.kd=1,y=[0],e(z!=null),((p=As(z.data,z.w,z.ha,null,null,null,y,null,z))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(W!=null),R.data=z.data,R.w=z.w+z.offset,R.ha=z.ha-z.offset,R.put=nr,R.ac=Ht,R.bc=Ir,R.ma=W,z.xa){if((p=Mn())==null){W=1;break e}if(function(De,Re){var tt=[0],ze=[0],we=[0];t:for(;;){if(De==null)return 0;if(Re==null)return De.a=2,0;if(De.l=Re,De.a=0,fe(De.m,Re.data,Re.w,Re.ha),!At(De.m,tt,ze,we)){De.a=3;break t}if(De.xb=Cu,Re.width=tt[0],Re.height=ze[0],!bn(tt[0],ze[0],1,De,null))break t;return 1}return e(De.a!=0),0}(p,R)){if(R=(y=Al(R.width,R.height,W.Oa,W.ba))==0){t:{R=p;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((E=R.l)!=null),e((z=E.ma)!=null),R.xb!=0){if(R.ca=z.ba,R.tb=z.tb,e(R.ca!=null),!Po(z.Oa,E,Cc)){R.a=2;break n}if(!pi(R,E.width)||E.da)break n;if((E.da||Ce(R.ca.S))&&Ie(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ie()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Pt(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!rr(R,R.V,R.Ba,R.c,R.i,E.o,fi))break n;z.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(y=p.a)}else y=p.a}else{if((p=new vl)==null){W=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Eo(p,R)){if((y=Al(R.width,R.height,W.Oa,W.ba))==0){if(p.Aa=0,E=W.Oa,e((z=p)!=null),E!=null){if(0<(te=0>(te=E.Md)?0:100<te?255:255*te/100)){for(ae=xe=0;4>ae;++ae)12>(je=z.pb[ae]).lc&&(je.ia=te*L0[0>je.lc?0:je.lc]>>3),xe|=je.ia;xe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=E.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}yl(p,R)||(y=p.a)}}else y=p.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=_u(W.ba))}W=y}$=W!=0?null:11>$?Y.f.RGBA.eb:Y.f.kb.y}else $=null;return $};var kp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(P,U){for(var Q="",O=0;O<4;O++)Q+=String.fromCharCode(P[U++]);return Q}function g(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16)>>>0}function b(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16|P[U+3]<<24)>>>0}new h;var w=[0],x=[0],C=[],k=new h,I=n,N=function(P,U){var Q={},O=0,D=!1,B=0,he=0;if(Q.frames=[],!function(G,ne,le,oe){for(var Ne=0;Ne<oe;Ne++)if(G[ne+Ne]!=le.charCodeAt(Ne))return!0;return!1}(P,U,"RIFF",4)){for(b(P,U+=4),U+=8;U<P.length;){var be=d(P,U),ie=b(P,U+=4);U+=4;var pe=ie+(1&ie);switch(be){case"VP8 ":case"VP8L":Q.frames[O]===void 0&&(Q.frames[O]={}),(J=Q.frames[O]).src_off=D?he:U-8,J.src_size=B+ie+8,O++,D&&(D=!1,B=0,he=0);break;case"VP8X":(J=Q.header={}).feature_flags=P[U];var fe=U+4;J.canvas_width=1+g(P,fe),fe+=3,J.canvas_height=1+g(P,fe),fe+=3;break;case"ALPH":D=!0,B=pe+8,he=U-8;break;case"ANIM":(J=Q.header).bgcolor=b(P,U),fe=U+4,J.loop_count=(ke=P)[(j=fe)+0]<<0|ke[j+1]<<8,fe+=2;break;case"ANMF":var Le,J;(J=Q.frames[O]={}).offset_x=2*g(P,U),U+=3,J.offset_y=2*g(P,U),U+=3,J.width=1+g(P,U),U+=3,J.height=1+g(P,U),U+=3,J.duration=g(P,U),U+=3,Le=P[U++],J.dispose=1&Le,J.blend=Le>>1&1}be!="ANMF"&&(U+=pe)}var ke,j;return Q}}(I,0);N.response=I,N.rgbaoutput=!0,N.dataurl=!1;var M=N.header?N.header:null,H=N.frames?N.frames:null;if(M){M.loop_counter=M.loop_count,w=[M.canvas_height],x=[M.canvas_width];for(var re=0;re<H.length&&H[re].blend!=0;re++);}var K=H[0],ge=k.WebPDecodeRGBA(I,K.src_off,K.src_size,x,w);K.rgba=ge,K.imgwidth=x[0],K.imgheight=w[0];for(var V=0;V<x[0]*w[0]*4;V++)C[V]=ge[V];return this.width=x,this.height=w,this.data=C,this}(function(n){var e=function(){return typeof w2=="function"},t=function(w,x,C,k){var I=4,N=l;switch(k){case n.image_compression.FAST:I=1,N=s;break;case n.image_compression.MEDIUM:I=6,N=c;break;case n.image_compression.SLOW:I=9,N=h}w=r(w,x,C,N);var M=w2(w,{level:I});return n.__addimage__.arrayBufferToBinaryString(M)},r=function(w,x,C,k){for(var I,N,M,H=w.length/x,re=new Uint8Array(w.length+H),K=g(),ge=0;ge<H;ge+=1){if(M=ge*x,I=w.subarray(M,M+x),k)re.set(k(I,C,N),M+ge);else{for(var V,P=K.length,U=[];V<P;V+=1)U[V]=K[V](I,C,N);var Q=b(U.concat());re.set(U[Q],M+ge)}N=I}return re},i=function(w){var x=Array.apply([],w);return x.unshift(0),x},s=function(w,x){var C,k=[],I=w.length;k[0]=1;for(var N=0;N<I;N+=1)C=w[N-x]||0,k[N+1]=w[N]-C+256&255;return k},l=function(w,x,C){var k,I=[],N=w.length;I[0]=2;for(var M=0;M<N;M+=1)k=C&&C[M]||0,I[M+1]=w[M]-k+256&255;return I},c=function(w,x,C){var k,I,N=[],M=w.length;N[0]=3;for(var H=0;H<M;H+=1)k=w[H-x]||0,I=C&&C[H]||0,N[H+1]=w[H]+256-(k+I>>>1)&255;return N},h=function(w,x,C){var k,I,N,M,H=[],re=w.length;H[0]=4;for(var K=0;K<re;K+=1)k=w[K-x]||0,I=C&&C[K]||0,N=C&&C[K-x]||0,M=d(k,I,N),H[K+1]=w[K]-M+256&255;return H},d=function(w,x,C){if(w===x&&x===C)return w;var k=Math.abs(x-C),I=Math.abs(w-C),N=Math.abs(w+x-C-C);return k<=I&&k<=N?w:I<=N?x:C},g=function(){return[i,s,l,c,h]},b=function(w){var x=w.map(function(C){return C.reduce(function(k,I){return k+Math.abs(I)},0)});return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(w,x,C,k){var I,N,M,H,re,K,ge,V,P,U,Q,O,D,B,he,be=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(M=new FF(w)).imgData,N=M.bits,I=M.colorSpace,re=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){P=(V=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,Q=new Uint8Array(P*M.colors),U=new Uint8Array(P);var pe,fe=M.pixelBitlength-M.bits;for(B=0,he=0;B<P;B++){for(D=V[B],pe=0;pe<fe;)Q[he++]=D>>>pe&255,pe+=M.bits;U[B]=D>>>pe&255}}if(M.bits===16){P=(V=new Uint32Array(M.decodePixels().buffer)).length,Q=new Uint8Array(P*(32/M.pixelBitlength)*M.colors),U=new Uint8Array(P*(32/M.pixelBitlength)),O=M.colors>1,B=0,he=0;for(var Le=0;B<P;)D=V[B++],Q[he++]=D>>>0&255,O&&(Q[he++]=D>>>16&255,D=V[B++],Q[he++]=D>>>0&255),U[Le++]=D>>>16&255;N=8}k!==n.image_compression.NONE&&e()?(w=t(Q,M.width*M.colors,M.colors,k),ge=t(U,M.width,1,k)):(w=Q,ge=U,be=void 0)}if(M.colorType===3&&(I=this.color_spaces.INDEXED,K=M.palette,M.transparency.indexed)){var J=M.transparency.indexed,ke=0;for(B=0,P=J.length;B<P;++B)ke+=J[B];if((ke/=255)===P-1&&J.indexOf(0)!==-1)H=[J.indexOf(0)];else if(ke!==P){for(V=M.decodePixels(),U=new Uint8Array(V.length),B=0,P=V.length;B<P;B++)U[B]=J[V[B]];ge=t(U,M.width,1)}}var j=function(G){var ne;switch(G){case n.image_compression.FAST:ne=11;break;case n.image_compression.MEDIUM:ne=13;break;case n.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(k);return be===this.decode.FLATE_DECODE&&(ie="/Predictor "+j+" "),ie+="/Colors "+re+" /BitsPerComponent "+N+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ge&&this.__addimage__.isArrayBuffer(ge)||this.__addimage__.isArrayBufferView(ge))&&(ge=this.__addimage__.arrayBufferToBinaryString(ge)),{alias:C,data:w,index:x,filter:be,decodeParameters:ie,transparency:H,palette:K,sMask:ge,predictor:j,width:M.width,height:M.height,bitsPerComponent:N,colorSpace:I}}}})($t.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new VF(e),l=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:l,height:c},g=new _v(100).encode(d,100);return n.processJPEG.call(this,g,t,r,i)},n.processGIF87A=n.processGIF89A}($t.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){mr.log("bit decode error:"+t)}},co.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=s>>4,h=15&s,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*i+1>=this.width)break;d=this.palette[h],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},co.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,h=(s>>10&e)/e*255|0,d=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=h,this.data[g+1]=c,this.data[g+2]=l,this.data[g+3]=d}this.pos+=n}},co.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,d=(l>>11)/e*255|0,g=i*this.width*4+4*s;this.data[g]=d,this.data[g+1]=h,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},co.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new co(e,!1),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},d=new _v(100).encode(h,100);return n.processJPEG.call(this,d,t,r,i)}}($t.API),aS.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new aS(e),l=s.width,c=s.height,h={data:s.getData(),width:l,height:c},d=new _v(100).encode(h,100);return n.processJPEG.call(this,d,t,r,i)}}($t.API),$t.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,h=0,d=0;d<i;d+=4){var g=r[d],b=r[d+1],w=r[d+2],x=r[d+3];s[c++]=g,s[c++]=b,s[c++]=w,l[h++]=x}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},$t.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$h=$t.API,Mm=$h.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,h=c.fof?c.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=d.fof?d.fof:1,b=e.doKerning!==!1,w=0,x=n.length,C=0,k=c[0]||h,I=[];for(t=0;t<x;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(w=b&&zn(d[r])==="object"&&!isNaN(parseInt(d[r][C],10))?d[r][C]/g:0,I.push((c[r]||k)/h+w)),C=r;return I},tS=$h.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return $h.processArabic&&(n=$h.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Mm.apply(this,arguments).reduce(function(s,l){return s+l},0)},nS=function(n,e,t,r){for(var i=[],s=0,l=n.length,c=0;s!==l&&c+e[s]<t;)c+=e[s],s++;i.push(n.slice(0,s));var h=s;for(c=0;s!==l;)c+e[s]>r&&(i.push(n.slice(h,s)),c=0,h=s),c+=e[s],s++;return h!==s&&i.push(n.slice(h,s)),i},rS=function(n,e,t){t||(t={});var r,i,s,l,c,h,d,g=[],b=[g],w=t.textIndent||0,x=0,C=0,k=n.split(" "),I=Mm.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var N=Array(h).join(" "),M=[];k.map(function(re){(re=re.split(/\s*\n/)).length>1?M=M.concat(re.map(function(K,ge){return(ge&&K.length?`
`:"")+K})):M.push(re[0])}),k=M,h=tS.apply(this,[N,t])}for(s=0,l=k.length;s<l;s++){var H=0;if(r=k[s],h&&r[0]==`
`&&(r=r.substr(1),H=1),w+x+(C=(i=Mm.apply(this,[r,t])).reduce(function(re,K){return re+K},0))>e||H){if(C>e){for(c=nS.apply(this,[r,i,e-(w+x),e]),g.push(c.shift()),g=[c.pop()];c.length;)b.push([c.shift()]);C=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(re,K){return re+K},0)}else g=[r];b.push(g),w=C+h,x=I}else g.push(r),w+=x+C,x=I}return d=h?function(re,K){return(K?N:"")+re.join(" ")}:function(re){return re.join(" ")},b.map(d)},$h.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,h,d=[];for(c=0,h=r.length;c<h;c++)d=d.concat(rS.apply(this,[r[c],l,s]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(b){return"0x"+parseInt(b,10).toString(16)},l=n.__fontmetrics__.compress=function(b){var w,x,C,k,I=["{"];for(var N in b){if(w=b[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=s(N).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof w=="number")w<0?(C=s(w).slice(3),k="-"):(C=s(w).slice(2),k=""),C=k+C.slice(0,-1)+r[C.slice(-1)];else{if(zn(w)!=="object")throw new Error("Don't know what to do with value type "+zn(w)+".");C=l(w)}I.push(x+C)}return I.push("}"),I.join("")},c=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,x,C,k,I={},N=1,M=I,H=[],re="",K="",ge=b.length-1,V=1;V<ge;V+=1)(k=b[V])=="'"?w?(C=w.join(""),w=void 0):w=[]:w?w.push(k):k=="{"?(H.push([M,C]),M={},C=void 0):k=="}"?((x=H.pop())[0][x[1]]=M,C=void 0,M=x[0]):k=="-"?N=-1:C===void 0?t.hasOwnProperty(k)?(re+=t[k],C=parseInt(re,16)*N,N=1,re=""):re+=k:t.hasOwnProperty(k)?(K+=t[k],M[C]=parseInt(K,16)*N,N=1,C=void 0,K=""):K+=k;return I},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var w=b.font,x=g.Unicode[w.postScriptName];x&&(w.metadata.Unicode={},w.metadata.Unicode.widths=x.widths,w.metadata.Unicode.kerning=x.kerning);var C=d.Unicode[w.postScriptName];C&&(w.metadata.Unicode.encoding=C,w.encoding=C.codePages[0])}])}($t.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(zf(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}($t),function(n){function e(){return(Zt.canvg?Promise.resolve(Zt.canvg):g2(()=>import("./index.es-CF06Bwq5.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}$t.API.addSvgAsImage=function(t,r,i,s,l,c,h,d){if(isNaN(r)||isNaN(i))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=l;var b=g.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then(function(C){return C.fromString(b,t,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(w)}).then(function(){x.addImage(g.toDataURL("image/jpeg",1),r,i,s,l,h,d)})}}(),$t.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},$t.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],d=0,g=0,b=0;function w(C,k){var I,N=!1;for(I=0;I<C.length;I+=1)C[I]===k&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var x=c.length;for(b=0;b<x;b+=1)t[c[b]].value=t[c[b]].defaultValue,t[c[b]].explicitSet=!1}if(zn(n)==="object"){for(i in n)if(s=n[i],w(c,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&w(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")h.push(String(s[d]-1));else if(s[d].length>1){for(g=0;g<s[d].length;g+=1)typeof s[d][g]!="number"&&(r=!1);r===!0&&h.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+h.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,k=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?k.push("/"+C+" /"+t[C].value):k.push("/"+C+" "+t[C].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+l.length+c.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}($t.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,l){for(var c,h=l.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],b=0,w=s.length;b<w;++b){if(c=l.metadata.characterToGlyph(s.charCodeAt(b)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(b),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(s){var l,c,h,d,g,b,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,w=(c=Object.keys(s).sort(function(x,C){return x-C})).length;b<w;b++)l=c[b],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(d=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+d+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,d=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),x="",C=0;C<w.length;C++)x+=String.fromCharCode(w[C]);var k=d();g({data:x,addLength1:!0,objectId:k}),h("endobj");var I=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var N=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Qh(c.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var M=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+Qh(c.fontName)),h("/FontDescriptor "+N+" 0 R"),h("/W "+n.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+I+" 0 R"),h("/BaseFont /"+Qh(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+M+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var c=l.font,h=l.out,d=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,w="",x=0;x<b.length;x++)w+=String.fromCharCode(b[x]);var C=d();g({data:w,addLength1:!0,objectId:C}),h("endobj");var k=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var I=d();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+C+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Qh(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=d();for(var N=0;N<c.metadata.hmtx.widths.length;N++)c.metadata.hmtx.widths[N]=parseInt(c.metadata.hmtx.widths[N]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Qh(c.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,c=s.text||"",h=s.x,d=s.y,g=s.options||{},b=s.mutex||{},w=b.pdfEscape,x=b.activeFontKey,C=b.fonts,k=x,I="",N=0,M="",H=C[k].encoding;if(C[k].encoding!=="Identity-H")return{text:c,x:h,y:d,options:g,mutex:b};for(M=c,k=x,Array.isArray(c)&&(M=c[0]),N=0;N<M.length;N+=1)C[k].metadata.hasOwnProperty("cmap")&&(l=C[k].metadata.cmap.unicode.codeMap[M[N].charCodeAt(0)]),l||M[N].charCodeAt(0)<256&&C[k].metadata.hasOwnProperty("Unicode")?I+=M[N]:I+="";var re="";return parseInt(k.slice(1))<14||H==="WinAnsiEncoding"?re=w(I,k).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(re=t(I,C[k])),b.isHex=!0,{text:re,x:h,y:d,options:g,mutex:b}};e.events.push(["postProcessText",function(s){var l=s.text||"",c=[],h={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([i(Object.assign({},h,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(i(Object.assign({},h,{text:l[d]})).text);s.text=c}else s.text=i(Object.assign({},h,{text:l})).text}])}($t),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}($t.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,l,c,h,d,g,b=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,H=0;this.__bidiEngine__={};var re=function(O){var D=O.charCodeAt(),B=D>>8,he=k[B];return he!==void 0?b[256*he+(255&D)]:B===252||B===253?"AL":N.test(B)?"L":B===8?"R":"N"},K=function(O){for(var D,B=0;B<O.length;B++){if((D=re(O.charAt(B)))==="L")return!1;if(D==="R")return!0}return!1},ge=function(O,D,B,he){var be,ie,pe,fe,Le=D[he];switch(Le){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(Le="AN");break;case"AL":M=!0,Le="R";break;case"WS":Le="N";break;case"CS":he<1||he+1>=D.length||(be=B[he-1])!=="EN"&&be!=="AN"||(ie=D[he+1])!=="EN"&&ie!=="AN"?Le="N":M&&(ie="AN"),Le=ie===be?ie:"N";break;case"ES":Le=(be=he>0?B[he-1]:"B")==="EN"&&he+1<D.length&&D[he+1]==="EN"?"EN":"N";break;case"ET":if(he>0&&B[he-1]==="EN"){Le="EN";break}if(M){Le="N";break}for(pe=he+1,fe=D.length;pe<fe&&D[pe]==="ET";)pe++;Le=pe<fe&&D[pe]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(fe=D.length,pe=he+1;pe<fe&&D[pe]==="NSM";)pe++;if(pe<fe){var J=O[he],ke=J>=1425&&J<=2303||J===64286;if(be=D[pe],ke&&(be==="R"||be==="AL")){Le="R";break}}}Le=he<1||(be=D[he-1])==="B"?"N":B[he-1];break;case"B":M=!1,i=!0,Le=H;break;case"S":s=!0,Le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":Le="N"}return Le},V=function(O,D,B){var he=O.split("");return B&&P(he,B,{hiLevel:H}),he.reverse(),D&&D.reverse(),he.join("")},P=function(O,D,B){var he,be,ie,pe,fe,Le=-1,J=O.length,ke=0,j=[],G=H?x:w,ne=[];for(M=!1,i=!1,s=!1,be=0;be<J;be++)ne[be]=re(O[be]);for(ie=0;ie<J;ie++){if(fe=ke,j[ie]=ge(O,ne,j,ie),he=240&(ke=G[fe][C[j[ie]]]),ke&=15,D[ie]=pe=G[ke][5],he>0)if(he===16){for(be=Le;be<ie;be++)D[be]=1;Le=-1}else Le=-1;if(G[ke][6])Le===-1&&(Le=ie);else if(Le>-1){for(be=Le;be<ie;be++)D[be]=pe;Le=-1}ne[ie]==="B"&&(D[ie]=0),B.hiLevel|=pe}s&&function(le,oe,Ne){for(var _e=0;_e<Ne;_e++)if(le[_e]==="S"){oe[_e]=H;for(var Oe=_e-1;Oe>=0&&le[Oe]==="WS";Oe--)oe[Oe]=H}}(ne,D,J)},U=function(O,D,B,he,be){if(!(be.hiLevel<O)){if(O===1&&H===1&&!i)return D.reverse(),void(B&&B.reverse());for(var ie,pe,fe,Le,J=D.length,ke=0;ke<J;){if(he[ke]>=O){for(fe=ke+1;fe<J&&he[fe]>=O;)fe++;for(Le=ke,pe=fe-1;Le<pe;Le++,pe--)ie=D[Le],D[Le]=D[pe],D[pe]=ie,B&&(ie=B[Le],B[Le]=B[pe],B[pe]=ie);ke=fe}ke++}}},Q=function(O,D,B){var he=O.split(""),be={hiLevel:H};return B||(B=[]),P(he,B,be),function(ie,pe,fe){if(fe.hiLevel!==0&&g)for(var Le,J=0;J<ie.length;J++)pe[J]===1&&(Le=I.indexOf(ie[J]))>=0&&(ie[J]=I[Le+1])}(he,B,be),U(2,he,D,B,be),U(1,he,D,B,be),he.join("")};return this.__bidiEngine__.doBidiReorder=function(O,D,B){if(function(be,ie){if(ie)for(var pe=0;pe<be.length;pe++)ie[pe]=pe;c===void 0&&(c=K(be)),d===void 0&&(d=K(be))}(O,D),l||!h||d)if(l&&h&&c^d)H=c?1:0,O=V(O,D,B);else if(!l&&h&&d)H=c?1:0,O=Q(O,D,B),O=V(O,D);else if(!l||c||h||d){if(l&&!h&&c^d)O=V(O,D),c?(H=0,O=Q(O,D,B)):(H=1,O=Q(O,D,B),O=V(O,D));else if(l&&c&&!h&&d)H=1,O=Q(O,D,B),O=V(O,D);else if(!l&&!h&&c^d){var he=g;c?(H=1,O=Q(O,D,B),H=0,g=!1,O=Q(O,D,B),g=he):(H=0,O=Q(O,D,B),O=V(O,D),H=1,g=!1,O=Q(O,D,B),g=he,O=V(O,D))}}else H=0,O=Q(O,D,B);else H=c?1:0,O=Q(O,D,B);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,h=O.isOutputVisual,c=O.isInputRtl,d=O.isOutputRtl,g=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([t.doBidiReorder(i[c])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}($t),$t.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new xc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new BF(this.contents),this.head=new zF(this),this.name=new WF(this),this.cmap=new HE(this),this.toUnicode={},this.hhea=new qF(this),this.maxp=new YF(this),this.hmtx=new KF(this),this.post=new $F(this),this.os2=new HF(this),this.loca=new ZF(this),this.glyf=new XF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,d;for(d=[],l=0,c=(h=this.bbox).length;l<c;l++)e=h[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,l,c;for(l=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var So,xc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,l,c,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*l+256*c+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),BF=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,l,c,h,d,g,b,w,x,C,k;for(k in x=Object.keys(t).length,h=Math.log(2),b=16*Math.floor(Math.log(x)/h),l=Math.floor(b/h),g=16*x-b,(i=new xc).writeInt(this.scalarType),i.writeShort(x),i.writeShort(b),i.writeShort(l),i.writeShort(g),s=16*x,d=i.pos+s,c=null,C=[],t)for(w=t[k],i.writeString(k),i.writeInt(n(w)),i.writeInt(d),i.writeInt(w.length),C=C.concat(w),k==="head"&&(c=d),d+=w.length;d%4;)C.push(0),d++;return i.write(C),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,l;for(t=$E.call(t);t.length%4;)t.push(0);for(s=new xc(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),UF={}.hasOwnProperty,ml=function(n,e){for(var t in e)UF.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};So=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var zF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new xc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),sS=function(){function n(e,t){var r,i,s,l,c,h,d,g,b,w,x,C,k,I,N,M,H;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(x=e.readUInt16(),w=x/2,e.pos+=6,s=function(){var re,K;for(K=[],h=re=0;0<=w?re<w:re>w;h=0<=w?++re:--re)K.push(e.readUInt16());return K}(),e.pos+=2,k=function(){var re,K;for(K=[],h=re=0;0<=w?re<w:re>w;h=0<=w?++re:--re)K.push(e.readUInt16());return K}(),d=function(){var re,K;for(K=[],h=re=0;0<=w?re<w:re>w;h=0<=w?++re:--re)K.push(e.readUInt16());return K}(),g=function(){var re,K;for(K=[],h=re=0;0<=w?re<w:re>w;h=0<=w?++re:--re)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,c=function(){var re,K;for(K=[],h=re=0;0<=i?re<i:re>i;h=0<=i?++re:--re)K.push(e.readUInt16());return K}(),h=N=0,H=s.length;N<H;h=++N)for(I=s[h],r=M=C=k[h];C<=I?M<=I:M>=I;r=C<=I?++M:--M)g[h]===0?l=r+d[h]:(l=c[g[h]/2+(r-C)-(w-h)]||0)!==0&&(l+=d[h]),this.codeMap[r]=65535&l}e.pos=b}return n.encode=function(e,t){var r,i,s,l,c,h,d,g,b,w,x,C,k,I,N,M,H,re,K,ge,V,P,U,Q,O,D,B,he,be,ie,pe,fe,Le,J,ke,j,G,ne,le,oe,Ne,_e,Oe,lt,rt,ht;switch(he=new xc,l=Object.keys(e).sort(function(ft,Pt){return ft-Pt}),t){case"macroman":for(k=0,I=function(){var ft=[];for(C=0;C<256;++C)ft.push(0);return ft}(),M={0:0},s={},be=0,Le=l.length;be<Le;be++)M[Oe=e[i=l[be]]]==null&&(M[Oe]=++k),s[i]={old:e[i],new:M[e[i]]},I[i]=M[e[i]];return he.writeUInt16(1),he.writeUInt16(0),he.writeUInt32(12),he.writeUInt16(0),he.writeUInt16(262),he.writeUInt16(0),he.write(I),{charMap:s,subtable:he.data,maxGlyphID:k+1};case"unicode":for(D=[],b=[],H=0,M={},r={},N=d=null,ie=0,J=l.length;ie<J;ie++)M[K=e[i=l[ie]]]==null&&(M[K]=++H),r[i]={old:K,new:M[K]},c=M[K]-i,N!=null&&c===d||(N&&b.push(N),D.push(i),d=c),N=i;for(N&&b.push(N),b.push(65535),D.push(65535),Q=2*(U=D.length),P=2*Math.pow(Math.log(U)/Math.LN2,2),w=Math.log(P/2)/Math.LN2,V=2*U-P,h=[],ge=[],x=[],C=pe=0,ke=D.length;pe<ke;C=++pe){if(O=D[C],g=b[C],O===65535){h.push(0),ge.push(0);break}if(O-(B=r[O].new)>=32768)for(h.push(0),ge.push(2*(x.length+U-C)),i=fe=O;O<=g?fe<=g:fe>=g;i=O<=g?++fe:--fe)x.push(r[i].new);else h.push(B-O),ge.push(0)}for(he.writeUInt16(3),he.writeUInt16(1),he.writeUInt32(12),he.writeUInt16(4),he.writeUInt16(16+8*U+2*x.length),he.writeUInt16(0),he.writeUInt16(Q),he.writeUInt16(P),he.writeUInt16(w),he.writeUInt16(V),Ne=0,j=b.length;Ne<j;Ne++)i=b[Ne],he.writeUInt16(i);for(he.writeUInt16(0),_e=0,G=D.length;_e<G;_e++)i=D[_e],he.writeUInt16(i);for(lt=0,ne=h.length;lt<ne;lt++)c=h[lt],he.writeUInt16(c);for(rt=0,le=ge.length;rt<le;rt++)re=ge[rt],he.writeUInt16(re);for(ht=0,oe=x.length;ht<oe;ht++)k=x[ht],he.writeUInt16(k);return{charMap:r,subtable:he.data,maxGlyphID:H+1}}},n}(),HE=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new sS(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=sS.encode(t,r),(s=new xc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),qF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),HF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),$F=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var c,h,d;for(d=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e}(),GF=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,l,c,h,d,g,b,w,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),h=t.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(d={},l=b=0,w=i.length;b<w;l=++b)s=i[l],t.pos=s.offset,g=t.readString(s.length),c=new GF(g,s),d[x=s.nameID]==null&&(d[x]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),YF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),KF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,l,c,h,d;for(t.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,b;for(b=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)b.push(t.readInt16());return b}(),this.widths=(function(){var g,b,w,x;for(x=[],g=0,b=(w=this.metrics).length;g<b;g++)l=w[g],x.push(l.advance);return x}).call(this),i=this.widths[this.widths.length-1],d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),$E=[].slice,XF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,l,c,h,d,g,b,w;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(t),(s=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,c=(h=new xc(r.read(s))).readShort(),g=h.readShort(),w=h.readShort(),d=h.readShort(),b=h.readShort(),this.cache[t]=c===-1?new JF(h,g,w,d,b):new QF(h,c,g,w,d,b),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,l,c,h,d;for(c=[],l=[],h=0,d=r.length;h<d;h++)s=t[r[h]],l.push(c.length),s&&(c=c.concat(s.encode(i)));return l.push(c.length),{table:c,offsets:l}},e}(),QF=function(){function n(e,t,r,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),JF=function(){function n(e,t,r,i,s){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new xc($E.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),ZF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,So),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<i.length;++c)if(i[c]=s,l<r.length&&r[l]==c){++l,i[c]=s;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(s+=d)}for(var g=new Array(4*i.length),b=0;b<i.length;++b)g[4*b+3]=255&i[b],g[4*b+2]=(65280&i[b])>>8,g[4*b+1]=(16711680&i[b])>>16,g[4*b]=(4278190080&i[b])>>24;return g},e}(),eV=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,l,c,h;for(i={},l=0,c=e.length;l<c;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in h=this.glyphsFor(t))r=h[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,l,c,h,d,g,b,w,x,C,k,I,N;for(i in r=HE.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),x={0:0},N=r.charMap)x[(h=N[i]).old]=h.new;for(C in w=r.maxGlyphID,l)C in x||(x[C]=w++);return g=function(M){var H,re;for(H in re={},M)re[M[H]]=H;return re}(x),b=Object.keys(g).sort(function(M,H){return M-H}),k=function(){var M,H,re;for(re=[],M=0,H=b.length;M<H;M++)c=b[M],re.push(g[c]);return re}(),s=this.font.glyf.encode(l,k,x),d=this.font.loca.encode(s.offsets,k),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();$t.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,l;if(Array.isArray(t))return"["+function(){var c,h,d;for(d=[],c=0,h=t.length;c<h;c++)r=t[c],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)l=t[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+t},e}();function GE(n,e,t,r,i){r=r||{};var s=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,h=i.getLineHeightFactor?i.getLineHeightFactor():s,d=c*h,g=/\r\n|\r|\n/g,b="",w=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof n=="string"?n.split(g):n,w=b.length||1),t+=c*(2-s),r.valign==="middle"?t-=w/2*d:r.valign==="bottom"&&(t-=w*d),r.halign==="center"||r.halign==="right"){var x=c;if(r.halign==="center"&&(x*=.5),b&&w>=1){for(var C=0;C<b.length;C++)i.text(b[C],e-i.getStringUnitWidth(b[C])*x,t),t+=d;return i}e-=i.getStringUnitWidth(n)*x}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var oS={},ud=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:oS=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[h];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(h,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(i=this.jsPDFDocument).setTextColor.apply(i,g),g=n.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return oS||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),C2=function(n,e){return C2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},C2(n,e)};function WE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");C2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var YE=function(n){WE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function tV(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nV(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Bg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,l){return Math.max(s,l)},0);return i}function KE(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var l=XE(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function XE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function I0(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function QE(n,e){var t=I0(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function rV(n,e,t,r,i){var s={},l=1.3333333333333333,c=Sv(e,function(H){return i.getComputedStyle(H).backgroundColor});c!=null&&(s.fillColor=c);var h=Sv(e,function(H){return i.getComputedStyle(H).color});h!=null&&(s.textColor=h);var d=aV(r,t);d&&(s.cellPadding=d);var g="borderTopColor",b=l*t,w=r.borderTopWidth;if(r.borderBottomWidth===w&&r.borderRightWidth===w&&r.borderLeftWidth===w){var x=(parseFloat(w)||0)/b;x&&(s.lineWidth=x)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var C=Sv(e,function(H){return i.getComputedStyle(H)[g]});C!=null&&(s.lineColor=C);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var I=parseInt(r.fontSize||"");isNaN(I)||(s.fontSize=I/l);var N=iV(r);N&&(s.fontStyle=N);var M=(r.fontFamily||"").toLowerCase();return n.indexOf(M)!==-1&&(s.font=M),s}function iV(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Sv(n,e){var t=JE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function JE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:JE(n.parentElement,e):t}function aV(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(c){return parseInt(c||"0")/r}),l=I0(s,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function ZE(n,e,t,r,i){var s,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var h=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],b=[],w=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:g,body:b,foot:w};for(var x=0;x<c.rows.length;x++){var C=c.rows[x],k=(l=(s=C==null?void 0:C.parentElement)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=sV(h,d,t,C,r,i);I&&(k==="thead"?g.push(I):k==="tfoot"?w.push(I):b.push(I))}return{head:g,body:b,foot:w}}function sV(n,e,t,r,i,s){for(var l=new YE(r),c=0;c<r.cells.length;c++){var h=r.cells[c],d=t.getComputedStyle(h);if(i||d.display!=="none"){var g=void 0;s&&(g=rV(n,h,e,d,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:oV(h)})}}var b=t.getComputedStyle(r);if(l.length>0&&(i||b.display!=="none"))return l}function oV(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function lV(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ql(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])}return s}function eT(n,e){var t=new ud(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();lV(i,r,e);var s=Ql({},i,r,e),l;typeof window<"u"&&(l=window);var c=uV(i,r,e),h=cV(i,r,e),d=hV(t,s),g=fV(t,s,l);return{id:e.tableId,content:g,hooks:h,styles:c,settings:d}}function uV(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(h){if(h==="columnStyles"){var d=n[h],g=e[h],b=t[h];r.columnStyles=Ql({},d,g,b)}else{var w=[n,e,t],x=w.map(function(C){return C[h]||{}});r[h]=Ql({},x[0],x[1],x[2])}},s=0,l=Object.keys(r);s<l.length;s++){var c=l[s];i(c)}return r}function cV(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,l=r;s<l.length;s++){var c=l[s];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function hV(n,e){var t,r,i,s,l,c,h,d,g,b,w,x,C=I0(e.margin,40/n.scaleFactor()),k=(t=dV(n,e.startY))!==null&&t!==void 0?t:C.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var M=(s=e.useCss)!==null&&s!==void 0?s:!1,H=e.theme||(M?"plain":"striped"),re=!!e.horizontalPageBreak,K=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:M,theme:H,startY:k,margin:C,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:N,showFoot:I,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(w=e.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:re,horizontalPageBreakRepeat:K,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function dV(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;s=l===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function fV(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=ZE(n,e.html,t,l,e.useCss)||{};r=c.head||r,i=c.body||r,s=c.foot||r}else console.error("Cannot parse html in non browser environment")}var h=e.columns||pV(r,i,s);return{columns:h,head:r,body:i,foot:s}}function pV(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var l=1,c;Array.isArray(r)?c=r[parseInt(s)]:c=r[s],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var h=0;h<l;h++){var d=void 0;Array.isArray(r)?d=i.length:d=s+(h>0?"_".concat(h):"");var g={dataKey:d};i.push(g)}}),i}var k2=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),mV=function(n){WE(e,n);function e(t,r,i,s,l,c){var h=n.call(this,t,r,c)||this;return h.cell=i,h.row=s,h.column=l,h.section=s.section,h}return e}(k2),gV=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,l){for(var c=0,h=t;c<h.length;c++){var d=h[c],g=new mV(e,this,r,i,s,l),b=d(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new k2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new k2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),tT=function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof YE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var l=r.cells[s.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),d=h+c;return d>i?d:i},0)},n}(),nT=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=I0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),vV=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],l=s.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n}();function yV(n,e){bV(n,e);var t=[],r=0;e.columns.forEach(function(s){var l=s.getMaxCustomCellWidth(e);l?s.width=l:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=I2(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=I2(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),wV(e),_V(e,n),xV(e)}function bV(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=QE(n,e);e.allRows().forEach(function(s){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],d=s.cells[h.index];if(d){var g=e.hooks.didParseCell;e.callCellHooks(n,g,d,s,h,null);var b=d.padding("horizontal");d.contentWidth=Bg(d.text,d.styles,n)+b;var w=Bg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=w+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var x=10/t;d.minWidth=d.styles.minCellWidth||x,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],d=s.cells[h.index];if(d&&d.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,d.wrappedWidth),h.minWidth=Math.max(h.minWidth,d.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,d.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},b=g.cellWidth||g.minCellWidth;b&&typeof b=="number"&&(h.minWidth=b,h.wrappedWidth=b)}d&&(d.colSpan>1&&!h.minWidth&&(h.minWidth=d.minWidth),d.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=d.minWidth))}})}function I2(n,e,t){for(var r=e,i=n.reduce(function(x,C){return x+C.wrappedWidth},0),s=0;s<n.length;s++){var l=n[s],c=l.wrappedWidth/i,h=r*c,d=l.width+h,g=t(l),b=d<g?g:d;e-=b-l.width,l.width=b}if(e=Math.round(e*1e10)/1e10,e){var w=n.filter(function(x){return e<0?x.width>t(x):!0});w.length&&(e=I2(w,e,t))}return e}function xV(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],l=0,c=n.columns;l<c.length;l++){var h=c[l],d=e[h.index];if(t>1)t--,delete s.cells[h.index];else if(d)d.cell.height+=s.height,t=d.cell.colSpan,delete s.cells[h.index],d.left--,d.left<=1&&delete e[h.index];else{var g=s.cells[h.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var b=r.length-i,w=g.rowSpan>b?b:g.rowSpan;e[h.index]={cell:g,left:w,row:s}}}}}function wV(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,l=0,c=0;c<n.columns.length;c++){var h=n.columns[c];if(l-=1,l>1&&n.columns[c+1])s+=h.width,delete r.cells[h.index];else if(i){var d=i;delete r.cells[h.index],i=null,d.width=h.width+s}else{var d=r.cells[h.index];if(!d)continue;if(l=d.colSpan,s=0,d.colSpan>1){i=d,s+=h.width;continue}d.width=h.width+s}}}function _V(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],l=0,c=n.columns;l<c.length;l++){var h=c[l],d=s.cells[h.index];if(d){e.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,g+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=lS(d.text,g,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=lS(d.text,g,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var b=d.styles.overflow(d.text,g);typeof b=="string"?d.text=[b]:d.text=b}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var w=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<w*d.rowSpan?t={height:w,count:d.rowSpan}:t&&t.count>0&&t.height>w&&(w=t.height),w>s.height&&(s.height=w)}}t.count--}}function lS(n,e,t,r,i){return n.map(function(s){return SV(s,e,t,r,i)})}function SV(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Bg(n,t,r))return n;for(;e<Bg(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function rT(n,e){var t=new ud(n),r=AV(e,t.scaleFactor()),i=new gV(e,r);return yV(t,i),t.applyStyles(t.userStyles),i}function AV(n,e){var t=n.content,r=TV(t.columns);if(t.head.length===0){var i=uS(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=uS(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,l=n.styles;return{columns:r,head:Av("head",t.head,r,l,s,e),body:Av("body",t.body,r,l,s,e),foot:Av("foot",t.foot,r,l,s,e)}}function Av(n,e,t,r,i,s){var l={},c=e.map(function(h,d){for(var g=0,b={},w=0,x=0,C=0,k=t;C<k.length;C++){var I=k[C];if(l[I.index]==null||l[I.index].left===0)if(x===0){var N=void 0;Array.isArray(h)?N=h[I.index-w-g]:N=h[I.dataKey];var M={};typeof N=="object"&&!Array.isArray(N)&&(M=(N==null?void 0:N.styles)||{});var H=NV(n,I,d,i,r,s,M),re=new nT(N,H,n);b[I.dataKey]=re,b[I.index]=re,x=re.colSpan-1,l[I.index]={left:re.rowSpan-1,times:x}}else x--,w++;else l[I.index].left--,x=l[I.index].times,g++}return new tT(h,d,n,b)});return c}function uS(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=EV(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function EV(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function TV(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new vV(i,e,t)})}function NV(n,e,t,r,i,s,l){var c=nV(r),h;n==="head"?h=i.headStyles:n==="body"?h=i.bodyStyles:n==="foot"&&(h=i.footStyles);var d=Ql({},c.table,c[n],i.styles,h),g=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},b=n==="body"?g:{},w=n==="body"&&t%2===0?Ql({},c.alternateRow,i.alternateRowStyles):{},x=tV(s),C=Ql({},x,d,w,b);return Ql(C,l)}function CV(n,e,t){var r;t===void 0&&(t={});var i=QE(n,e),s=new Map,l=[],c=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(w){var x=e.columns.find(function(C){return C.dataKey===w||C.index===w});x&&!s.has(x.index)&&(s.set(x.index,!0),l.push(x.index),c.push(e.columns[x.index]),i-=x.wrappedWidth)});for(var d=!0,g=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(s.has(g)){g++;continue}var b=e.columns[g].wrappedWidth;if(d||i>=b)d=!1,l.push(g),c.push(e.columns[g]),i-=b;else break;g++}return{colIndexes:l,columns:c,lastIndex:g-1}}function kV(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=CV(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function iT(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+i.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,d=h.reduce(function(w,x){return w+x.height},0);c+=d}var g=new ud(n);(t.pageBreak==="always"||t.startY!=null&&c>g.pageSize().height)&&(sT(g),s.y=i.top),e.callWillDrawPageHooks(g,s);var b=Ql({},s);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?IV(g,e,b,s):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(w){return du(g,e,w,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(w,x){var C=x===e.body.length-1;Ug(g,e,w,C,b,s,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(w){return du(g,e,w,s,e.columns)})),KE(g,e,b,s),e.callEndPageHooks(g,s),e.finalY=s.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function IV(n,e,t,r){var i=kV(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?qf(n,e,t,r,d.columns,!0):cS(n,e,r,d.columns),RV(n,e,t,r,d.columns),Ev(n,e,r,d.columns)});else for(var l=-1,c=i[0],h=function(){var d=l;if(c){n.applyStyles(n.userStyles);var g=c.columns;l>=0?qf(n,e,t,r,g,!0):cS(n,e,r,g),d=hS(n,e,l+1,r,g),Ev(n,e,r,g)}var b=d-l;i.slice(1).forEach(function(w){n.applyStyles(n.userStyles),qf(n,e,t,r,w.columns,!0),hS(n,e,l+1,r,w.columns,b),Ev(n,e,r,w.columns)}),l=d};l<e.body.length-1;)h()}function cS(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return du(n,e,s,t,r)})}function RV(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,l){var c=l===e.body.length-1;Ug(n,e,s,c,t,r,i)})}function hS(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var l=Math.min(t+s,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(h,d){var g=t+d===e.body.length-1,b=aT(n,e,g,r);h.canEntireRowFit(b,i)&&(du(n,e,h,r,i),c=t+d)}),c}function Ev(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return du(n,e,s,t,r)})}function PV(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function LV(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,l=0,c=t.columns;l<c.length;l++){var h=c[l],d=n.cells[h.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new nT(d.raw,d.styles,d.section);g=Ql(g,d),g.text=[];var b=PV(d,e,r);d.text.length>b&&(g.text=d.text.splice(b,d.text.length));var w=r.scaleFactor(),x=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(w,x),d.contentHeight>=e&&(d.contentHeight=e,g.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(w,x),g.contentHeight>s&&(s=g.contentHeight),i[h.index]=g}}var C=new tT(n.raw,-1,n.section,i,!0);C.height=s;for(var k=0,I=t.columns;k<I.length;k++){var h=I[k],g=C.cells[h.index];g&&(g.height=C.height);var d=n.cells[h.index];d&&(d.height=n.height)}return C}function OV(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,l=s.top+s.bottom,c=i-l;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var h=e.getMinimumRowHeight(r.columns,n),d=h<t;if(h>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>c;return b?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function Ug(n,e,t,r,i,s,l){var c=aT(n,e,r,s);if(t.canEntireRowFit(c,l))du(n,e,t,s,l);else if(OV(n,t,c,e)){var h=LV(t,c,e,n);du(n,e,t,s,l),qf(n,e,i,s,l),Ug(n,e,h,r,i,s,l)}else qf(n,e,i,s,l),Ug(n,e,t,r,i,s,l)}function du(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,l=i;s<l.length;s++){var c=l[s],h=t.cells[c.index];if(!h){r.x+=c.width;continue}n.applyStyles(h.styles),h.x=r.x,h.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,h,t,c,r);if(d===!1){r.x+=c.width;continue}DV(n,h,r);var g=h.getTextPos();GE(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,c,r),r.x+=c.width}r.y+=t.height}function DV(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=XE(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),MV(n,e,t,r.lineWidth))}function MV(n,e,t,r){var i,s,l,c;r.top&&(i=t.x,s=t.y,l=t.x+e.width,c=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.top,i,s,l,c)),r.bottom&&(i=t.x,s=t.y+e.height,l=t.x+e.width,c=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.bottom,i,s,l,c)),r.left&&(i=t.x,s=t.y,l=t.x,c=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.left,i,s,l,c)),r.right&&(i=t.x+e.width,s=t.y,l=t.x+e.width,c=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.right,i,s,l,c));function h(d,g,b,w,x){n.getDocument().setLineWidth(d),n.getDocument().line(g,b,w,x,"S")}}function aT(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function qf(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(c){return du(n,e,c,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;KE(n,e,t,r),sT(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return du(n,e,c,r,i)}),n.applyStyles(n.userStyles))}function sT(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function jV(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=eT(this,r),s=rT(this,i);return iT(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){GE(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return ud.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){ud.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ud(this),s=ZE(i,e,window,t,!1),l=s.head,c=s.body,h=((r=l[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:h,rows:c,data:c}}}var Tv;function Nv(n,e){var t=eT(n,e),r=rT(n,t);iT(n,r)}try{if(typeof window<"u"&&window){var dS=window,fS=dS.jsPDF||((Tv=dS.jspdf)===null||Tv===void 0?void 0:Tv.jsPDF);fS&&jV(fS)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Yc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAABVJREFUOE9jZKAQMFIwCFMFDAwAAHoAAcs30HZuAAAAAElFTkSuQmCC",Vi={name:"Renatto's Almacenes",slogan:"COMODIDAD PARA TU HOGAR",address:"San Gerardo-Giron-Azuay",phone:"+593 97 988 1804",ruc:"0106338114001",email:"info@renattos.com",website:"www.renattos.com",defaultBranch:"SAN GERARDO"},rn={primary:"#1A237E",secondary:"#FFC107",textPrimary:"#1C1C1C",textSecondary:"#555555",textOnPrimary:"#FFFFFF",textOnSecondary:"#1C1C1C",white:"#FFFFFF",lightGray:"#F8F9FA",mediumGray:"#ADB5BD",darkGray:"#343A40"},FV=()=>A.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 pb-3 border-b border-ui-border-light dark:border-ui-border-dark",children:A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(DA,{className:"text-secondary"})," Nueva Venta"]})}),VV=({error:n,success:e})=>A.jsxs(A.Fragment,{children:[n&&A.jsxs("div",{className:"mb-4 p-3.5 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-3 text-sm text-red-700 dark:text-red-300 animate-fade-in",children:[A.jsx(Id,{size:18})," ",A.jsx("span",{children:n})]}),e&&A.jsxs("div",{className:"mb-4 p-3.5 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-3 text-sm text-green-700 dark:text-green-300 animate-fade-in",children:[A.jsx(cu,{size:18})," ",A.jsx("span",{children:e})]})]}),BV=({clients:n,selectedClient:e,setSelectedClient:t,paymentType:r,setPaymentType:i,setSelectedFactorPlazoData:s,setEntrada:l})=>A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 p-5 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"client-select",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1.5 flex items-center gap-2",children:[A.jsx(yd,{}),"Cliente*"]}),A.jsx(Jy,{options:n,value:e,onChange:c=>{t(c)},placeholder:"Buscar cliente...",isClearable:!0,classNamePrefix:"react-select"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-text-dark dark:text-text-light mb-2.5",children:"Tipo de Pago*"}),A.jsxs("div",{className:"flex gap-x-6 items-center h-[42px]",children:[" ",A.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-sm",children:[A.jsx("input",{type:"radio",name:"paymentType",value:"contado",checked:r==="contado",onChange:c=>{i(c.target.value),s(null),l(0)},className:"form-radio h-4 w-4 text-secondary focus:ring-secondary accent-secondary dark:accent-secondary"})," Contado"]}),A.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-sm",children:[A.jsx("input",{type:"radio",name:"paymentType",value:"financiado",checked:r==="financiado",onChange:c=>i(c.target.value),className:"form-radio h-4 w-4 text-secondary focus:ring-secondary accent-secondary dark:accent-secondary"})," Financiado"]})]})]})]}),UV=({productSearchTerm:n,setProductSearchTerm:e,productSearchResults:t,handleOpenItemModal:r,inputBaseClasses:i,inputLightMode:s,inputDarkMode:l})=>A.jsxs("div",{className:"mb-6 p-5 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("label",{htmlFor:"product-search",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1.5 flex items-center gap-2",children:[A.jsx(GO,{}),"Aadir Producto al Carrito"]}),A.jsx("input",{type:"text",id:"product-search",placeholder:"Buscar por cdigo o descripcin...",value:n,onChange:c=>e(c.target.value),className:`${i} ${s} ${l}`}),t.length>0&&A.jsx("ul",{className:"mt-2 border border-ui-border-light dark:border-ui-border-dark rounded-md max-h-48 overflow-y-auto bg-background-light dark:bg-form-bg-dark shadow-lg z-20 relative",children:t.map(c=>A.jsxs("li",{onClick:()=>r(c),className:"p-2.5 hover:bg-secondary/20 dark:hover:bg-secondary/30 cursor-pointer border-b border-ui-border-light dark:border-ui-border-dark last:border-b-0 text-sm",children:[c.descripcion," ",A.jsxs("span",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:["(",c.codigo,") | Stock: ",c.stock]}),A.jsx("br",{}),A.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["Contado: $",c.precioContadoCalculado!==void 0?c.precioContadoCalculado.toFixed(2):"N/A"]}),A.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-2",children:["Financiado: $",c.precioFinanciadoCalculado!==void 0?c.precioFinanciadoCalculado.toFixed(2):"N/A"]})]},c.id))})]}),zV=({isOpen:n,item:e,onClose:t,onSave:r,quantity:i,setQuantity:s,price:l,setPrice:c,paymentType:h,inputBaseClasses:d,inputLightMode:g,inputDarkMode:b,products:w})=>{if(!n||!e)return null;const x=w.find(k=>k.id===(e.id||e.productoId)),C=e.stock!==void 0?e.stock:(x==null?void 0:x.stock)||0;return A.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:A.jsxs("form",{onSubmit:r,className:"bg-form-bg-light dark:bg-form-bg-dark p-6 rounded-lg shadow-2xl w-full max-w-md space-y-4 border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("h4",{className:"text-lg font-semibold text-text-dark dark:text-text-light",children:[e.isEditing?"Editar Item:":"Aadir al Carrito:"," ",e.descripcion]}),A.jsx("button",{type:"button",onClick:t,className:"p-1 text-text-muted-light dark:text-text-muted-dark hover:text-secondary",children:A.jsx(dh,{size:20})})]}),A.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:["Stock Disponible Total: ",C]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"itemModalQuantity",className:"block text-sm font-medium mb-1",children:"Cantidad*"}),A.jsx("input",{type:"number",id:"itemModalQuantity",value:i,onChange:k=>s(Math.max(1,parseInt(k.target.value)||1)),min:"1",required:!0,className:`${d} ${g} ${b}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"itemModalPrice",className:"block text-sm font-medium mb-1",children:"Precio Unitario Venta*"}),A.jsx("input",{type:"number",id:"itemModalPrice",value:l,onChange:k=>c(k.target.value),step:"0.01",min:"0",required:!0,className:`${d} ${g} ${b}`}),A.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mt-1",children:["Sugerido (",h,"): $",e.precioUnitarioOriginal!==void 0?e.precioUnitarioOriginal.toFixed(2):"N/A"]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[A.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm rounded-md text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-100 dark:hover:bg-primary-light/20",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-secondary text-renatto-dark font-semibold rounded-md hover:bg-secondary-dark shadow hover:shadow-md",children:e.isEditing?"Actualizar Item":"Aadir al Carrito"})]})]})})},qV=({items:n,onEdit:e,onRemove:t,subtotalGeneral:r})=>A.jsxs("div",{className:"mb-6 p-5 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("h4",{className:"text-lg font-semibold text-text-dark dark:text-text-light mb-3 flex items-center gap-2",children:[A.jsx(DA,{}),"tems en la Venta (",n.length,")"]}),A.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto pr-1",children:n.map((i,s)=>A.jsxs("div",{className:"flex items-start justify-between p-2.5 bg-neutral-50 dark:bg-primary-light/10 rounded-md border border-ui-border-light dark:border-ui-border-dark text-sm",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-text-dark dark:text-text-light",children:i.descripcion}),A.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:["Cant: ",i.cantidad," x $",i.precioUnitarioVenta.toFixed(2),i.precioUnitarioVenta.toFixed(2)!==i.precioUnitarioOriginal.toFixed(2)&&A.jsxs("span",{className:"line-through ml-1 text-red-500/70",children:["$",i.precioUnitarioOriginal.toFixed(2)]})]})]}),A.jsxs("div",{className:"text-right flex items-center gap-2 shrink-0",children:[A.jsxs("p",{className:"font-semibold text-text-dark dark:text-text-light min-w-[70px]",children:["$",i.subtotalItem.toFixed(2)]}),A.jsx("button",{onClick:()=>e(i,s),className:"p-1 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"Editar item",children:A.jsx(DO,{size:14})}),A.jsx("button",{onClick:()=>t(s),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Quitar item",children:A.jsx(_p,{size:14})})]})]},i.productoId+"-"+s))}),A.jsx("div",{className:"border-t border-ui-border-light dark:border-ui-border-dark mt-3 pt-3 flex justify-end",children:A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:"Subtotal General: "}),A.jsxs("span",{className:"text-xl font-bold text-text-dark dark:text-text-light",children:["$",r.toFixed(2)]})]})})]}),HV=({entrada:n,setEntrada:e,subtotalGeneral:t,factorPlazos:r,selectedFactorPlazoData:i,setSelectedFactorPlazoData:s,paymentStartDate:l,setPaymentStartDate:c,saldoAFinanciar:h,inputBaseClasses:d,inputLightMode:g,inputDarkMode:b})=>A.jsxs("div",{className:"mb-6 p-5 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark space-y-4",children:[A.jsxs("h4",{className:"text-lg font-semibold text-text-dark dark:text-text-light flex items-center gap-2",children:[A.jsx(LO,{}),"Detalles de Financiacin"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[" ",A.jsxs("div",{children:[A.jsx("label",{htmlFor:"entrada",className:"block text-sm font-medium mb-1",children:"Entrada ($)"}),A.jsx("input",{type:"number",id:"entrada",value:n,onChange:w=>e(parseFloat(w.target.value)||0),min:"0",step:"0.01",max:t,className:`${d} ${g} ${b}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"factor-plazo-select",className:"block text-sm font-medium mb-1",children:"Plazo (Meses)*"}),A.jsx(Jy,{options:r,value:i?r.find(w=>w.value===i.value):null,onChange:w=>s(w),placeholder:"Seleccionar plazo...",isClearable:!0,classNamePrefix:"react-select"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentStartDate",className:"block text-sm font-medium mb-1",children:"Fecha Inicio Pagos*"}),A.jsx("input",{type:"date",id:"paymentStartDate",value:l,onChange:w=>c(w.target.value),required:h>0,className:`${d} ${g} ${b}`})]})]})]}),$V=({subtotalGeneral:n,entrada:e,saldoAFinanciar:t,selectedFactorPlazoData:r,valorCuotaFinal:i,totalPagadoFinanciado:s})=>r&&t>=0&&A.jsxs("div",{className:"mb-6 p-5 bg-neutral-50 dark:bg-primary-light/5 rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark space-y-1.5 text-sm",children:[" ",A.jsx("h5",{className:"text-md font-semibold mb-2 text-text-dark dark:text-text-light",children:"Resumen de Financiacin:"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Subtotal General:"})," ",A.jsxs("span",{className:"font-semibold",children:["$",n.toFixed(2)]})]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Entrada:"})," ",A.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e)||0).toFixed(2)]})]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Saldo a Financiar:"})," ",A.jsxs("span",{className:"font-semibold text-secondary",children:["$",t.toFixed(2)]})]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Factor Plazo Seleccionado:"})," ",r.factorPlazo]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Factor Tasa Seleccionado:"})," ",r.factorTasa]}),A.jsxs("p",{className:"text-lg mt-1",children:[A.jsx("strong",{children:"Valor Cuota Mensual:"})," ",A.jsxs("span",{className:"font-bold text-secondary",children:["$",i.toFixed(0)]})," (redondeado al mayor)"]}),A.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:["Total Pagado en Cuotas: $",(i*r.cantidadMes).toFixed(2)]}),A.jsxs("p",{className:"text-sm font-semibold mt-1",children:["Total General Financiado: ",A.jsxs("span",{className:"text-secondary",children:["$",s.toFixed(2)]})]})]}),GV=({schedule:n})=>A.jsxs("div",{className:"mb-6 p-5 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsx("h4",{className:"text-md font-semibold text-text-dark dark:text-text-light mb-3",children:"Cronograma de Pagos Estimado"}),A.jsx("div",{className:"overflow-x-auto max-h-60 rounded-md border border-ui-border-light dark:border-ui-border-dark",children:A.jsxs("table",{className:"min-w-full text-xs text-left divide-y divide-ui-border-light dark:divide-ui-border-dark",children:[A.jsx("thead",{className:"bg-neutral-100 dark:bg-primary-light/20 sticky top-0 z-10",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2.5 text-center font-medium uppercase tracking-wider text-text-muted-light dark:text-text-muted-dark",children:"N"}),A.jsx("th",{className:"px-3 py-2.5 font-medium uppercase tracking-wider text-text-muted-light dark:text-text-muted-dark",children:"Fecha Estimada Venc."}),A.jsx("th",{className:"px-3 py-2.5 text-right font-medium uppercase tracking-wider text-text-muted-light dark:text-text-muted-dark",children:"Valor Cuota"})]})}),A.jsx("tbody",{className:"bg-background-light dark:bg-form-bg-dark divide-y divide-ui-border-light dark:divide-ui-border-dark",children:n.map(e=>A.jsxs("tr",{className:"hover:bg-neutral-50 dark:hover:bg-primary-light/10",children:[A.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center text-text-dark dark:text-text-light",children:e.cuotaNumero}),A.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-text-dark dark:text-text-light",children:e.fechaVencimientoDisplay}),A.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-right font-semibold text-secondary",children:["$",e.valorCuota.toFixed(0)]})]},e.cuotaNumero))})]})})]}),WV=({onRegister:n,loadingSale:e,paymentType:t,saldoAFinanciar:r,selectedFactorPlazoData:i,paymentStartDate:s,entrada:l,logoLoaded:c,logoError:h})=>A.jsx("div",{className:"mt-8 py-4 text-center border-t border-ui-border-light dark:border-ui-border-dark",children:A.jsxs("button",{onClick:n,disabled:!c||h||e||t==="financiado"&&r>0&&(!i||!s)||t==="financiado"&&r<0&&(parseFloat(l)||0)>0,className:"w-full md:w-auto flex items-center justify-center gap-3 px-8 py-3 bg-green-600 hover:bg-green-700 text-white text-base font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:focus:ring-offset-form-bg-dark transition-all shadow-xl hover:shadow-green-500/30 disabled:opacity-60 disabled:cursor-not-allowed",children:[e?A.jsx(Fa,{className:"animate-spin text-xl"}):A.jsx(cu,{className:"text-xl"}),!c&&!h?"Cargando logo...":h?"Error de logo":"Registrar Venta y Generar Documentos"]})}),YV=()=>{const n=uu.currentUser,[e,t]=ee.useState(null),[r,i]=ee.useState(null),[s,l]=ee.useState(!1),[c,h]=ee.useState([]),[d,g]=ee.useState([]),[b,w]=ee.useState([]),[x,C]=ee.useState(null),[k,I]=ee.useState("contado"),[N,M]=ee.useState([]),[H,re]=ee.useState(0),[K,ge]=ee.useState(null),[V,P]=ee.useState(()=>{const ue=new Date;return ue.setMonth(ue.getMonth()+1),ue.toISOString().split("T")[0]}),[U,Q]=ee.useState(""),[O,D]=ee.useState([]),[B,he]=ee.useState(!1),[be,ie]=ee.useState(null),[pe,fe]=ee.useState(1),[Le,J]=ee.useState(""),[ke,j]=ee.useState(!1),[G,ne]=ee.useState(!0),[le,oe]=ee.useState(""),[Ne,_e]=ee.useState("");ee.useEffect(()=>{const ue=new Image;ue.crossOrigin="Anonymous",ue.src="/logo.png",ue.onload=()=>{const me=document.createElement("canvas"),Ge=Math.min(1,300/ue.naturalWidth);me.width=ue.naturalWidth*Ge,me.height=ue.naturalHeight*Ge,me.getContext("2d").drawImage(ue,0,0,me.width,me.height);try{const Ce=me.toDataURL("image/png",.9);t(Ce)}catch(Ce){console.error("Error converting image to Base64:",Ce),i("Error al procesar el logo."),t(Yc)}finally{l(!0)}},ue.onerror=()=>{console.error("Error loading logo image from /public/logo.png. Using fallback."),i("No se pudo cargar el logo. Verifique que '/logo.png' exista en la carpeta /public."),t(Yc),l(!0)}},[]);const Oe="w-full px-3 py-2 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",lt="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",rt="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10",ht=ee.useCallback(()=>{oe(""),_e("")},[]);ee.useEffect(()=>{if(le||Ne){const ue=setTimeout(ht,7e3);return()=>clearTimeout(ue)}},[le,Ne,ht]),ee.useEffect(()=>{if(!s){ne(!0);return}ne(!0);let ue=0;const me=3;let ye=!1;const Ge=()=>{ye||(ue++,ue===me&&(ye=!0,ne(!1)))},at=(Ee,mt)=>{console.error(`Error cargando ${Ee}:`,mt),oe(`Error al cargar ${Ee}.`),ye||Ge()},Ce=[eu(cs(js(Cr,"clients"),cl("nombres")),Ee=>{h(Ee.docs.map(mt=>({value:mt.id,label:`${mt.data().nombres} ${mt.data().apellidos} (${mt.data().identificacion})`,...mt.data()}))),ye||Ge()},Ee=>at("clientes",Ee)),eu(cs(js(Cr,"products"),cl("descripcion")),Ee=>{g(Ee.docs.map(mt=>({id:mt.id,...mt.data()}))),ye||Ge()},Ee=>at("productos",Ee)),eu(cs(js(Cr,"factorPlazos"),cl("cantidadMes")),Ee=>{w(Ee.docs.map(mt=>({value:mt.id,label:`${mt.data().cantidadMes} Meses (FP: ${mt.data().factorPlazo}, FT: ${mt.data().factorTasa})`,...mt.data()}))),ye||Ge()},Ee=>at("factores de plazo",Ee))],Et=setTimeout(()=>{G&&!ye&&(ne(!1),console.warn("Fallback: Carga de datos maestros incompleta o tarda. Mostrando pgina con datos posiblemente incompletos."),ue<me&&oe("Algunos datos maestros no pudieron cargarse. Funcionalidad limitada."))},7e3);return()=>{Ce.forEach(Ee=>Ee()),clearTimeout(Et)}},[s]),ee.useEffect(()=>{U.length>1?D(d.filter(ue=>ue.descripcion.toLowerCase().includes(U.toLowerCase())||ue.codigo&&ue.codigo.toLowerCase().includes(U.toLowerCase())).slice(0,5)):D([])},[U,d]);const ft=ue=>{ht();const me=k==="contado"?"precioContadoCalculado":"precioFinanciadoCalculado",ye=ue[me]!==void 0?ue[me]:ue.precioNeto||0;ie({...ue,isEditing:!1,precioUnitarioOriginal:ye}),fe(1),J(ye.toFixed(2)),he(!0),Q(""),D([])},Pt=(ue,me)=>{ht(),ie({...ue,index:me,isEditing:!0}),fe(ue.cantidad),J(ue.precioUnitarioVenta.toFixed(2)),he(!0)},qe=ue=>{if(ue.preventDefault(),!be||pe<=0){oe("Datos de producto invlidos.");return}const me=d.find(Ee=>Ee.id===(be.id||be.productoId)),ye=(me==null?void 0:me.stock)||0;let Ge=0;if(be.isEditing?Ge=N.filter((Ee,mt)=>Ee.productoId===be.productoId&&mt!==be.index).reduce((Ee,mt)=>Ee+mt.cantidad,0):Ge=N.filter(Ee=>Ee.productoId===(be.id||be.productoId)).reduce((Ee,mt)=>Ee+mt.cantidad,0),parseInt(pe,10)+Ge>ye){const Ee=ye-Ge;oe(`Stock insuficiente para ${be.descripcion}. Stock total: ${ye}. Ya en carrito: ${Ge}. Puedes aadir/tener hasta ${Math.max(0,Ee)}.`);return}const at=parseFloat(Le)||be.precioUnitarioOriginal,Ce={productoId:be.id||be.productoId,codigo:be.codigo,descripcion:be.descripcion,stockAlMomentoDeAnadir:ye,cantidad:parseInt(pe,10),precioUnitarioOriginal:be.precioUnitarioOriginal,precioUnitarioVenta:parseFloat(at.toFixed(2)),subtotalItem:parseFloat((parseInt(pe,10)*at).toFixed(2)),categoriaNombre:be.categoriaNombre||(me==null?void 0:me.categoriaNombre)||""};let Et;if(be.isEditing)Et=N.map((Ee,mt)=>mt===be.index?Ce:Ee);else{const Ee=N.findIndex(mt=>mt.productoId===Ce.productoId);if(Ee>-1){Et=[...N];const mt=Et[Ee];mt.cantidad+=Ce.cantidad,mt.precioUnitarioVenta=Ce.precioUnitarioVenta,mt.subtotalItem=parseFloat((mt.cantidad*mt.precioUnitarioVenta).toFixed(2))}else Et=[...N,Ce]}M(Et),he(!1)},ce=ue=>{M(me=>me.filter((ye,Ge)=>Ge!==ue))},kt=ee.useMemo(()=>N.reduce((ue,me)=>ue+me.subtotalItem,0),[N]),Nt=ee.useMemo(()=>kt,[kt]),Je=ee.useMemo(()=>{const ue=parseFloat(H)||0,me=kt-ue;return me<0?0:me},[kt,H]),dt=ee.useMemo(()=>{if(k==="financiado"&&K&&Je>0){const{factorPlazo:ue,factorTasa:me}=K,ye=Je*ue*me;return Math.ceil(ye)}return 0},[k,K,Je]),yt=ee.useMemo(()=>{if(k==="financiado"&&K&&dt>0&&Je>=0&&V){const ue=[],{cantidadMes:me}=K,ye=V.split("-"),Ge=new Date(Date.UTC(parseInt(ye[0]),parseInt(ye[1])-1,parseInt(ye[2])));for(let at=0;at<me;at++){let Ce=new Date(Ge.getTime());Ce.setUTCMonth(Ge.getUTCMonth()+at),Ce.getUTCDate()!==Ge.getUTCDate()&&Ge.getUTCDate()>28&&Ce.getUTCMonth()!==(Ge.getUTCMonth()+at)%12&&(Ce=new Date(Date.UTC(Ge.getUTCFullYear(),Ge.getUTCMonth()+at+1,0))),ue.push({cuotaNumero:at+1,fechaVencimiento:Ce,valorCuota:dt,estado:"pendiente"})}return ue}return[]},[k,K,dt,Je,V]),bt=ee.useMemo(()=>yt.map(ue=>({...ue,fechaVencimientoDisplay:ue.fechaVencimiento.toLocaleDateString("es-EC",{timeZone:"UTC",day:"2-digit",month:"short",year:"numeric"})})),[yt]),He=ee.useMemo(()=>{if(k==="financiado"&&K){const ue=dt||0,me=K.cantidadMes||0;return(parseFloat(H)||0)+ue*me}return Nt},[k,H,dt,K,Nt]),Ke=(ue,me={day:"2-digit",month:"2-digit",year:"numeric"})=>{if(!ue)return"N/A";let ye;if(ue instanceof Date)ye=ue;else if(ue&&typeof ue.toDate=="function")ye=ue.toDate();else if(typeof ue=="string"||typeof ue=="number"){if(ye=new Date(ue),typeof ue=="string"&&!ue.includes("T")&&!ue.includes("Z")){const Ge=ue.split(/[-/]/);Ge.length===3&&(ye=new Date(Date.UTC(parseInt(Ge[0]),parseInt(Ge[1])-1,parseInt(Ge[2]))))}}else return"Fecha Inv.";if(ye&&!isNaN(ye.getTime())){let at="America/Guayaquil";return(me.timeZone==="UTC"||ue instanceof Date&&ue.toISOString().endsWith("Z")&&!me.timeZone)&&(at="UTC"),me&&(me.timeStyle||me.hour)?ye.toLocaleString("es-EC",{...me,timeZone:at}):ye.toLocaleDateString("es-EC",{...me,timeZone:at})}return"Fecha Inv."},Xe=ue=>{if(!e&&!r){oe("El logo an no ha cargado. Por favor espere.");return}const me=r?Yc:e,ye=new $t({orientation:"portrait",unit:"mm",format:"a4"}),Ge=ye.internal.pageSize.getWidth(),at=ye.internal.pageSize.getHeight(),Ce=10,Et=Ge-Ce*2;let Ee=Ce;const mt=40,jt=15;try{me&&ye.addImage(me,"PNG",Ce,Ee,mt,jt)}catch(Gr){console.error("Error adding logo to voucher:",Gr)}const It=Ce+mt+5,vt=Et-mt-5;ye.setFontSize(16),ye.setFont("helvetica","bold"),ye.setTextColor(rn.primary),ye.text(Vi.name.toUpperCase(),It,Ee+5,{maxWidth:vt}),ye.setFontSize(8),ye.setFont("helvetica","normal"),ye.setTextColor(rn.textSecondary),ye.text(`RUC: ${Vi.ruc}`,It,Ee+9,{maxWidth:vt}),ye.text(Vi.slogan,It,Ee+12,{maxWidth:vt}),Ee+=Math.max(jt,15)+5,ye.setDrawColor(rn.mediumGray),ye.line(Ce,Ee,Ge-Ce,Ee),Ee+=6,ye.setFontSize(14),ye.setFont("helvetica","bold"),ye.setTextColor(rn.textPrimary),ye.text("COMPROBANTE DE VENTA",Ge/2,Ee,{align:"center"}),Ee+=6,ye.setFontSize(9),ye.setFont("helvetica","normal"),ye.setTextColor(rn.textSecondary);const Lt=`No. Venta: ${ue.id||"PENDIENTE"}`,Ht=`Fecha: ${Ke(ue.fechaVenta,{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}`;ye.text(Lt,Ce,Ee),ye.text(Ht,Ge-Ce,Ee,{align:"right"}),Ee+=5,ye.text(`Vendedor: ${ue.vendedorEmail||"N/A"}`,Ce,Ee),ye.text(`Forma de Pago: ${ue.tipoPago.toUpperCase()}`,Ge-Ce,Ee,{align:"right"}),Ee+=7,ye.setFillColor(rn.lightGray),ye.rect(Ce,Ee-2,Et,7,"F"),ye.setFontSize(10),ye.setFont("helvetica","bold"),ye.setTextColor(rn.primary),ye.text("DATOS DEL CLIENTE",Ce+2,Ee+2.5),Ee+=8,ye.setFontSize(9),ye.setFont("helvetica","normal"),ye.setTextColor(rn.textSecondary);const nr=Ee;ye.setFont("helvetica","bold"),ye.text("Nombre:",Ce,Ee),ye.setFont("helvetica","normal"),ye.text(ue.clienteNombre||"N/A",Ce+25,Ee,{maxWidth:Et-95}),ye.setFont("helvetica","bold"),ye.text("RUC/CI:",Ge-Ce-50,Ee,{align:"left"}),ye.setFont("helvetica","normal"),ye.text(ue.clienteIdentificacion||"N/A",Ge-Ce-30,Ee,{align:"left"}),Ee+=5,ue.clienteDireccion&&(ye.setFont("helvetica","bold"),ye.text("Direccin:",Ce,Ee),ye.setFont("helvetica","normal"),ye.text(ue.clienteDireccion,Ce+25,Ee,{maxWidth:Et-25}),Ee+=5),ue.clienteCelular&&(ye.setFont("helvetica","bold"),ye.text("Telfono:",Ce,Ee),ye.setFont("helvetica","normal"),ye.text(ue.clienteCelular,Ce+25,Ee,{maxWidth:Et-95}),Ee+=5),Ee=Math.max(Ee,nr+12),Ee+=3;const Ir=Ee,At=[["Cant.","Cdigo","Descripcin del Producto","P. Unitario","Subtotal"]],dn=ue.items.map(Gr=>[Gr.cantidad,Gr.codigo||"N/A",Gr.descripcion,`$${(Gr.precioUnitarioVenta||0).toFixed(2)}`,`$${(Gr.subtotalItem||0).toFixed(2)}`]),gn=7,yn=2*5,On=10,Dn=7,Tn=22,fi=3*3.5+4,ii=4,yr=Ce,_r=gn+yn+On+Dn+Tn+fi+ii,rr=at-Ir-_r-yr;Nv(ye,{head:At,body:dn,startY:Ir,theme:"striped",styles:{fontSize:8,cellPadding:{top:1.5,right:1.5,bottom:1.5,left:1.5},textColor:rn.textPrimary,lineColor:rn.mediumGray,lineWidth:.1},headStyles:{fillColor:rn.primary,textColor:rn.textOnPrimary,fontStyle:"bold",halign:"center",fontSize:8.5,lineWidth:.1,lineColor:rn.primary},alternateRowStyles:{fillColor:rn.lightGray},columnStyles:{0:{halign:"center",cellWidth:12},1:{halign:"left",cellWidth:25},2:{halign:"left",cellWidth:"auto"},3:{halign:"right",cellWidth:22},4:{halign:"right",cellWidth:22}},margin:{left:Ce,right:Ce},pageBreak:"avoid",maxHeight:rr>0?rr:10,didDrawPage:Gr=>{Ee=Gr.cursor.y}}),Ee=ye.lastAutoTable.finalY||Ee,Ee+=gn;const fr=Ge-Ce-50,Mn=Ge-Ce;ye.setFontSize(9),ye.setFont("helvetica","normal"),ye.setTextColor(rn.textSecondary),ye.text("Subtotal:",fr,Ee,{align:"right"}),ye.text(`$${(ue.subtotalGeneral||0).toFixed(2)}`,Mn,Ee,{align:"right"}),Ee+=5,ye.setFontSize(11),ye.setFont("helvetica","bold"),ye.setTextColor(rn.primary),ye.text("TOTAL VENTA:",fr,Ee,{align:"right"}),ye.text(`$${(ue.totalVenta||0).toFixed(2)}`,Mn,Ee,{align:"right"}),Ee+=On,ye.setDrawColor(rn.mediumGray),ye.setLineWidth(.3),ye.line(Ce,Ee,Ge-Ce,Ee),Ee+=Dn,ye.setFontSize(8),ye.setFont("helvetica","normal"),ye.setTextColor(rn.textSecondary);const bn="_______________________",pi=ye.getTextWidth(bn),jn=Ce+Et/4,Sr=Ge-Ce-Et/4,lr=Ee+8;ye.text(bn,jn-pi/2,lr),ye.text("Firma Cliente",jn,lr+5,{align:"center"}),ye.text("(Recib Conforme)",jn,lr+9,{align:"center"}),ye.text(bn,Sr-pi/2,lr),ye.text("Firma Vendedor",Sr,lr+5,{align:"center"}),ye.text(`(${Vi.name})`,Sr,lr+9,{align:"center"}),Ee+=Tn,ye.setFontSize(7),ye.setTextColor(rn.mediumGray),ye.text(Vi.address,Ge/2,Ee,{align:"center",maxWidth:Et-20}),Ee+=3.5,ye.text(`Telfonos: ${Vi.phone} | Email: ${Vi.email}`,Ge/2,Ee,{align:"center"}),Ee+=3.5,ye.text(`Website: ${Vi.website}`,Ge/2,Ee,{align:"center"}),Ee+=4,ye.setFontSize(7.5),ye.setFont("helvetica","italic"),ye.setTextColor(rn.textSecondary),ye.text("Gracias por su compra! Esperamos verlo pronto.",Ge/2,Ee,{align:"center"}),Ee>at-Ce&&console.warn("Voucher content might be slightly overflowing. Review spacing or font sizes."),ye.autoPrint({variant:"non-conform"}),window.open(ye.output("bloburl"),"_blank")},Ze=(ue,me,ye,Ge=Vi.defaultBranch)=>{const at=ue.internal.pageSize.getWidth(),Ce=12,Et=at-Ce*2;let Ee=Ce;const mt=r?Yc:e,jt=45,It=jt*46/188;try{mt&&ue.addImage(mt,"PNG",Ce,Ee,jt,It)}catch(nr){console.error("Error adding logo to PDF:",nr)}const vt=Ce+jt+7,Lt=Et-jt-7;ue.setFontSize(18),ue.setFont("helvetica","bold"),ue.setTextColor(rn.primary),ue.text(Vi.name.toUpperCase(),vt,Ee+6,{maxWidth:Lt}),ue.setFontSize(8),ue.setFont("helvetica","normal"),ue.setTextColor(rn.textSecondary),ue.text(`RUC: ${Vi.ruc}`,vt,Ee+11,{maxWidth:Lt});const hn=Ge,Ht=Ke(new Date,{day:"numeric",month:"long",year:"numeric"});return ue.setFontSize(9),ue.setFont("helvetica","bold"),ue.setTextColor(rn.textPrimary),ue.text(hn.toUpperCase(),at-Ce,Ee+6,{align:"right"}),ue.setFontSize(8),ue.setFont("helvetica","normal"),ue.setTextColor(rn.textSecondary),ue.text(Ht,at-Ce,Ee+11,{align:"right"}),Ee+=Math.max(It,15)+7,ue.setFillColor(rn.secondary),ue.rect(Ce,Ee,Et,10,"F"),ue.setFontSize(15),ue.setFont("helvetica","bold"),ue.setTextColor(rn.textOnSecondary),ue.text(ye,at/2,Ee+7,{align:"center"}),Ee+=15,Ee},gt=(ue,me,ye)=>{var Lt;const Ge=ue.internal.pageSize.getWidth(),at=12;let Ce=ye;ue.setFontSize(9),ue.setFont("helvetica","normal"),ue.setTextColor(rn.textSecondary);const Et=at+2,Ee=at+35,mt=Ge/2+5,jt=Ge/2+30,It=Ge/2-at-35;ue.setFont("helvetica","bold"),ue.text("Cliente:",Et,Ce),ue.setFont("helvetica","normal"),ue.text(`${me.clienteNombre||"N/A"}`,Ee,Ce,{maxWidth:It}),ue.setFont("helvetica","bold"),ue.text("Cdula / RUC:",mt,Ce),ue.setFont("helvetica","normal"),ue.text(`${me.clienteIdentificacion||"N/A"}`,jt,Ce,{maxWidth:It}),Ce+=5,ue.setFont("helvetica","bold"),ue.text("Direccin:",Et,Ce),ue.setFont("helvetica","normal"),ue.text(`${me.clienteDireccion||"N/A"}`,Ee,Ce,{maxWidth:It}),ue.setFont("helvetica","bold"),ue.text("Celular:",mt,Ce),ue.setFont("helvetica","normal"),ue.text(`${me.clienteCelular||"N/A"}`,jt,Ce,{maxWidth:It}),Ce+=5,ue.setFont("helvetica","bold"),ue.text("Producto(s):",Et,Ce),ue.setFont("helvetica","normal");const vt=me.items.length>1?me.items[0].descripcion.substring(0,30)+"... y otros.":((Lt=me.items[0])==null?void 0:Lt.descripcion.substring(0,40))||"N/A";return ue.text(vt,Ee,Ce,{maxWidth:Ge-at-Ee}),Ce+=7,ue.setDrawColor(rn.mediumGray),ue.setLineWidth(.2),ue.line(at,Ce,Ge-at,Ce),Ce+=5,Ce},Mt=(ue,me,ye=10)=>{let Ge=Ze(ue,me,"CRONOGRAMA DE PAGOS",me.branch||Vi.defaultBranch);Ge=gt(ue,me,Ge);const at=ue.internal.pageSize.getHeight(),Ce=12,Et=15,Ee=[["N CUOTA","FECHA DE VENCIMIENTO","VALOR CUOTA ($)"]],mt=me.tablaPagos.map(Ht=>[Ht.cuotaNumero,Ke(Ht.fechaVencimiento,{day:"2-digit",month:"long",year:"numeric",timeZone:"UTC"}),`$${(Ht.valorCuota||0).toFixed(2)}`]);let jt=8.5,It=3,vt=12;mt.length>20?(jt=7.5,It=2,vt=10):mt.length>15&&(jt=8,It=2.5,vt=11);const hn=at-Ge-Et-85;Nv(ue,{head:Ee,body:mt,startY:Ge,theme:"striped",styles:{fontSize:jt,cellPadding:{top:It,right:2,bottom:It,left:2},textColor:rn.textPrimary,lineColor:rn.mediumGray,lineWidth:.1,valign:"middle"},headStyles:{fillColor:rn.primary,textColor:rn.textOnPrimary,fontStyle:"bold",halign:"center",fontSize:jt+.5,lineWidth:.1,lineColor:rn.primary,valign:"middle"},bodyStyles:{minCellHeight:vt,lineWidth:.1,lineColor:rn.mediumGray,valign:"middle"},alternateRowStyles:{fillColor:rn.lightGray},columnStyles:{0:{halign:"center",cellWidth:25},1:{halign:"left",cellWidth:80},2:{halign:"right",cellWidth:45}},margin:{left:Ce+5,right:Ce+5},tableWidth:"auto",maxHeight:hn>0?hn:10,pageBreak:"auto",didDrawPage:Ht=>{Ge=Ht.cursor.y}}),Ge=ue.lastAutoTable.finalY+8,St(ue,Ge,me,at,Ce)},St=(ue,me,ye,Ge,at,Ce)=>{let Et=me;const Ee=ue.internal.pageSize.getWidth()-at*2;ue.setFontSize(9),ue.setTextColor(rn.textPrimary),ue.setFont("helvetica","bold"),ue.text("ENTRADA PAGADA: ",at,Et),ue.setFont("helvetica","normal"),ue.text(`$${(ye.entrada||0).toFixed(2)}`,at+40,Et),Et+=6,ue.setFontSize(7),ue.setFont("helvetica","normal"),ue.setTextColor(rn.textSecondary),["ESTIMADO CLIENTE, le recomendamos que a partir de la fecha establecida de pago Ud cuenta con 5 dias de gracia para realizar el pago sin recargo de INTERES","POR MORA. En caso de no Cumplir con el pago en las fechas establecidas incluyendo los 5 dias de gracia Ud debera cancelar $10 por el cobro de recargos de ",`cobranza por pago tardio de cuotas. Los pagos puede realizarlos a traves de DEPOSITOS o TRANSFERENCIAS ala CTA privada del Almacen o Acercarse directamente al Local ${Vi.name.toUpperCase()}.`].forEach(Ht=>{const nr=ue.splitTextToSize(Ht,Ee);ue.text(nr,at,Et),Et+=nr.length*3.5}),Et+=5,ue.setFontSize(8.5),ue.setTextColor(rn.textPrimary);const jt="_____________________________",It=ue.getTextWidth(jt),vt=at+Ee/4,Lt=at+Ee*3/4,hn=Et+8;ue.text(jt,vt-It/2,hn),ue.setFont("helvetica","bold"),ue.text("FIRMA CLIENTE",vt,hn+5,{align:"center"}),ue.setFont("helvetica","normal"),ue.text(`C.I.: ${ye.clienteIdentificacion||"________________"}`,vt,hn+10,{align:"center"}),ue.text(jt,Lt-It/2,hn),ue.setFont("helvetica","bold"),ue.text("JEFE DE TIENDA/AUTORIZADO",Lt,hn+5,{align:"center"}),ue.setFont("helvetica","normal"),ue.text(`${Vi.name}`,Lt,hn+10,{align:"center"}),Et=hn+15},Bt=(ue,me,ye=10)=>{let Ge=Ze(ue,me,"PLAN DE PAGOS DETALLADO","GIRON");Ge=gt(ue,me,Ge);const at=ue.internal.pageSize.getHeight(),Ce=12,Et=Ce,Ee=ue.internal.pageSize.getWidth()-Et*2,mt=15,jt=[["N","FECHA PAGO","VALOR CUOTA ($)","FIRMA DE ABONO","OBSERVACIONES"]],It=me.tablaPagos.map(Tn=>[Tn.cuotaNumero,Ke(Tn.fechaVencimiento,{day:"2-digit",month:"short",year:"2-digit",timeZone:"UTC"}),`$${(Tn.valorCuota||0).toFixed(2)}`,"",""]);let vt=8,Lt=15,hn=2.5;It.length>15?(vt=7.5,Lt=12,hn=2):It.length>10&&(vt=8,Lt=14,hn=2.2);const Ht={num:12,fecha:30,valor:25,firma:40,obs:0};Ht.obs=Ee-(Ht.num+Ht.fecha+Ht.valor+Ht.firma);const Ir=at-Ge-mt-35;Nv(ue,{head:jt,body:It,startY:Ge,theme:"grid",styles:{fontSize:vt,cellPadding:{top:hn,right:1.5,bottom:hn,left:1.5},textColor:rn.textPrimary,lineColor:rn.mediumGray,lineWidth:.1,valign:"middle"},headStyles:{fillColor:rn.darkGray,textColor:rn.white,fontStyle:"bold",halign:"center",fontSize:vt+.5,lineWidth:.1,lineColor:rn.darkGray,valign:"middle"},bodyStyles:{minCellHeight:Lt,lineWidth:.1,lineColor:rn.mediumGray,valign:"middle"},columnStyles:{0:{halign:"center",cellWidth:Ht.num},1:{halign:"center",cellWidth:Ht.fecha},2:{halign:"right",cellWidth:Ht.valor},3:{halign:"center",cellWidth:Ht.firma},4:{halign:"left",cellWidth:Ht.obs}},tableLineWidth:.1,tableLineColor:rn.darkGray,margin:{left:Et,right:Et},maxHeight:Ir>0?Ir:10,pageBreak:"auto",didDrawPage:Tn=>{Ge=Tn.cursor.y}}),Ge=ue.lastAutoTable.finalY+10,at-Ge-mt<35&&(ue.addPage(),Ge=Ce+10),ue.setFontSize(8.5),ue.setTextColor(rn.textPrimary);const dn="_____________________________",gn=ue.getTextWidth(dn),yn=Et+Ee/4,On=Et+Ee*3/4,Dn=Ge+8;ue.text(dn,yn-gn/2,Dn),ue.setFont("helvetica","bold"),ue.text("FIRMA CLIENTE",yn,Dn+5,{align:"center"}),ue.text(dn,On-gn/2,Dn),ue.text("RESPONSABLE COBROS",On,Dn+5,{align:"center"}),ue.setFont("helvetica","normal"),ue.text(`(${Vi.name} - Girn)`,On,Dn+9,{align:"center"})},pt=ue=>{var at;if(!e&&!r){oe("El logo an no ha cargado.");return}if(ue.tipoPago!=="financiado"||!((at=ue.tablaPagos)!=null&&at.length)){oe("No hay datos de financiacin vlidos para generar el PDF combinado.");return}const me=new $t({orientation:"portrait",unit:"mm",format:"a4"}),ye=12;Mt(me,ue),me.addPage(),Bt(me,ue);const Ge=me.getNumberOfPages?me.getNumberOfPages():me.internal.getNumberOfPages();for(let Ce=1;Ce<=Ge;Ce++){me.setPage(Ce),me.setFontSize(7.5),me.setTextColor(rn.mediumGray);const Et=`Pgina ${Ce} de ${Ge}`,Ee=me.getTextWidth(Et);me.text(Et,me.internal.pageSize.getWidth()-ye-Ee,me.internal.pageSize.getHeight()-7),me.setFontSize(7),me.text(Vi.name,ye,me.internal.pageSize.getHeight()-7)}me.autoPrint({variant:"non-conform"}),window.open(me.output("bloburl"),"_blank")},mn=async()=>{var Ce,Et;if(ht(),!s&&!r){oe("El logo est cargando, por favor espere un momento.");return}if(r&&!e.startsWith(Yc.substring(0,50))&&oe(`Error al cargar el logo principal (${r}). Se usar un logo de respaldo para los PDFs.`),!x){oe("Selecciona un cliente.");return}if(N.length===0){oe("Agrega productos a la venta.");return}const ue=parseFloat(H)||0;if(k==="financiado"&&Je>0&&!K){oe("Selecciona un plazo de financiacin.");return}if(k==="financiado"&&!V&&Je>0){oe("Selecciona una fecha de inicio de pagos.");return}if(k==="financiado"&&ue>kt){oe("La entrada no puede ser mayor al subtotal.");return}if(k==="financiado"&&Je<0&&ue>0){oe("El saldo a financiar es negativo, revisa la entrada. La entrada no puede exceder el total si no hay saldo a financiar.");return}j(!0);const me=wO(Cr),ye={clienteId:x.value,clienteNombre:x.label.substring(0,x.label.lastIndexOf("(")-1).trim(),clienteIdentificacion:x.identificacion,clienteDireccion:x.direccion||"",clienteCelular:(x==null?void 0:x.celular)||(x==null?void 0:x.telefono)||"",fechaVenta:lu(),tipoPago:k,items:N.map(Ee=>({productoId:Ee.productoId,codigo:Ee.codigo,descripcion:Ee.descripcion,cantidad:Ee.cantidad,precioUnitarioOriginal:Ee.precioUnitarioOriginal,precioUnitarioVenta:Ee.precioUnitarioVenta,subtotalItem:Ee.subtotalItem,categoriaNombre:Ee.categoriaNombre})),subtotalGeneral:parseFloat(kt.toFixed(2)),entrada:k==="financiado"?ue:0,saldoFinanciado:k==="financiado"?parseFloat(Je.toFixed(2)):0,totalVenta:parseFloat(Nt.toFixed(2)),estadoVenta:"completada",vendedorId:n.uid,vendedorEmail:n.email,branch:Vi.defaultBranch};if(k==="financiado"&&K){ye.factorPlazoSeleccionado={factorPlazoId:K.value,cantidadMes:K.cantidadMes,factorPlazo:K.factorPlazo,factorTasa:K.factorTasa},ye.valorCuota=dt,ye.totalPagadoFinanciado=parseFloat(He.toFixed(2));const Ee=V.split("-");ye.fechaInicioPagos=new Date(Date.UTC(parseInt(Ee[0]),parseInt(Ee[1])-1,parseInt(Ee[2]))),ye.tablaPagos=yt.map(mt=>({...mt,fechaVencimiento:mt.fechaVencimiento instanceof Date?mt.fechaVencimiento:new Date(mt.fechaVencimiento)}))}const Ge=ds(js(Cr,"sales"));me.set(Ge,ye);const at=[];for(const Ee of N){const mt=ds(Cr,"products",Ee.productoId);at.push(i2(mt).then(jt=>{if(!jt.exists())throw new Error(`Producto ${Ee.descripcion} (ID: ${Ee.productoId}) no encontrado en la base de datos.`);const It=jt.data().stock;if(It<Ee.cantidad)throw new Error(`Stock de ${Ee.descripcion} insuficiente (Disponible: ${It}, Solicitado: ${Ee.cantidad}).`);me.update(mt,{stock:It-Ee.cantidad})}))}try{await Promise.all(at),await me.commit();const Ee={...ye,id:Ge.id,fechaVenta:new Date,fechaInicioPagos:ye.fechaInicioPagos instanceof Date?ye.fechaInicioPagos:(Ce=ye.fechaInicioPagos)!=null&&Ce.toDate?ye.fechaInicioPagos.toDate():null,tablaPagos:((Et=ye.tablaPagos)==null?void 0:Et.map(jt=>{var It;return{...jt,fechaVencimiento:jt.fechaVencimiento instanceof Date?jt.fechaVencimiento:(It=jt.fechaVencimiento)!=null&&It.toDate?jt.fechaVencimiento.toDate():new Date(jt.fechaVencimiento)}}))||[]};Ee.tipoPago==="contado"?(Xe(Ee),_e("Venta (Contado) registrada! Comprobante generado.")):Ee.tipoPago==="financiado"&&(Ee.tablaPagos&&Ee.tablaPagos.length>0&&Je>0?(pt(Ee),_e("Venta (Financiada) registrada! Documentos generados.")):(Xe(Ee),_e("Venta (Financiada con entrada completa o sin cuotas) registrada. Comprobante de venta generado."))),C(null),I("contado"),M([]),re(0),ge(null);const mt=new Date;mt.setMonth(mt.getMonth()+1),P(mt.toISOString().split("T")[0])}catch(Ee){console.error("Error al registrar venta o generar PDF: ",Ee),oe(`Error: ${Ee.message}. La venta no se complet.`)}finally{j(!1)}};return G?A.jsxs("div",{className:"flex justify-center items-center h-screen",children:[A.jsx(Fa,{className:"animate-spin text-4xl text-secondary"}),A.jsx("p",{className:"ml-3 text-lg text-text-muted-light dark:text-text-muted-dark",children:"Cargando datos y recursos..."})]}):A.jsxs("div",{className:"animate-fade-in p-4 md:p-6 space-y-6",children:[" ",A.jsx(FV,{}),A.jsx(VV,{error:le||(r&&!e.startsWith(Yc.substring(0,50))?r:""),success:Ne}),A.jsx(BV,{clients:c,selectedClient:x,setSelectedClient:C,paymentType:k,setPaymentType:I,setSelectedFactorPlazoData:ge,setEntrada:re}),x&&k&&A.jsx(UV,{productSearchTerm:U,setProductSearchTerm:Q,productSearchResults:O,handleOpenItemModal:ft,inputBaseClasses:Oe,inputLightMode:lt,inputDarkMode:rt,products:d}),A.jsx(zV,{isOpen:B,item:be,onClose:()=>he(!1),onSave:qe,quantity:pe,setQuantity:fe,price:Le,setPrice:J,paymentType:k,inputBaseClasses:Oe,inputLightMode:lt,inputDarkMode:rt,products:d}),N.length>0&&A.jsx(qV,{items:N,onEdit:Pt,onRemove:ce,subtotalGeneral:kt}),k==="financiado"&&N.length>0&&A.jsxs(A.Fragment,{children:[A.jsx(HV,{entrada:H,setEntrada:re,subtotalGeneral:kt,factorPlazos:b,selectedFactorPlazoData:K,setSelectedFactorPlazoData:ge,paymentStartDate:V,setPaymentStartDate:P,saldoAFinanciar:Je,inputBaseClasses:Oe,inputLightMode:lt,inputDarkMode:rt}),A.jsx($V,{subtotalGeneral:kt,entrada:H,saldoAFinanciar:Je,selectedFactorPlazoData:K,valorCuotaFinal:dt,totalPagadoFinanciado:He})]}),k==="financiado"&&yt.length>0&&Je>0&&A.jsx(GV,{schedule:bt}),N.length>0&&x&&A.jsx(WV,{onRegister:mn,loadingSale:ke,paymentType:k,saldoAFinanciar:Je,selectedFactorPlazoData:K,paymentStartDate:V,entrada:H,logoLoaded:s,logoError:r&&!e.startsWith(Yc.substring(0,50))?r:null})]})},jm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAABVJREFUOE9jZKAQMFIwCFMFDAwAAHoAAcs30HZuAAAAAElFTkSuQmCC",Kc={name:"Renatto's Almacenes",slogan:"COMODIDAD PARA TU HOGAR",address:"San Gerardo-Girn-Azuay",phone:"+593 97 988 1804",ruc:"0106338114001",email:"info@renattos.com",defaultBranch:"SAN GERARDO"},Ln={black:"#000000",darkGray:"#333333",mediumGray:"#666666",lightGray:"#A9A9A9",white:"#FFFFFF",yellowAccent:"#FFC107",greenText:"#28a745",redText:"#dc3545"},KV=10,pS=5,Tf=(n,e,t,r,i=Ln.lightGray,s=.2)=>(n.setDrawColor(i),n.setLineWidth(s),n.line(t,e,r-t,e),e+s),XV=()=>{const n=uu.currentUser,[e,t]=ee.useState(null),[r,i]=ee.useState(null),[s,l]=ee.useState(!1),[c,h]=ee.useState([]),[d,g]=ee.useState(null),[b,w]=ee.useState([]),[x,C]=ee.useState(null),[k,I]=ee.useState(null),[N,M]=ee.useState(!1),[H,re]=ee.useState(null),[K,ge]=ee.useState(new Date().toISOString().split("T")[0]),[V,P]=ee.useState(""),[U,Q]=ee.useState(!1),[O,D]=ee.useState("0.00"),[B,he]=ee.useState(!1),[be,ie]=ee.useState(0),[pe,fe]=ee.useState(""),[Le,J]=ee.useState(!0),[ke,j]=ee.useState(!1),[G,ne]=ee.useState(!1),[le,oe]=ee.useState(!1),[Ne,_e]=ee.useState(""),[Oe,lt]=ee.useState("");ee.useEffect(()=>{const He=new Image;He.crossOrigin="Anonymous",He.src="/logo.png",He.onload=()=>{const Ke=document.createElement("canvas"),Xe=200,Ze=Math.min(Xe/He.naturalWidth,Xe/He.naturalHeight,1);Ke.width=He.naturalWidth*Ze,Ke.height=He.naturalHeight*Ze,Ke.getContext("2d").drawImage(He,0,0,Ke.width,Ke.height);try{const Mt=Ke.toDataURL("image/png");t(Mt)}catch(Mt){console.error("Error converting image to Base64:",Mt),i("Error al procesar el logo."),t(jm)}finally{l(!0)}},He.onerror=()=>{console.error("Error loading logo image from /public/logo.png. Using fallback."),i("No se pudo cargar el logo. Usando logo de respaldo."),t(jm),l(!0)}},[]);const rt="w-full px-3 py-2 border rounded-md focus:outline-none transition-all duration-150 text-text-dark dark:text-text-light placeholder-text-muted-light dark:placeholder-text-muted-dark",ht="border-ui-border-light focus:ring-2 focus:ring-secondary focus:border-secondary bg-background-light",ft="dark:border-ui-border-dark dark:focus:ring-secondary dark:focus:border-secondary dark:bg-primary-light/10",Pt=ee.useCallback(()=>{_e(""),lt("")},[]);ee.useEffect(()=>{if(Ne||Oe||r){const He=setTimeout(()=>{Pt(),i("")},7e3);return()=>clearTimeout(He)}},[Ne,Oe,r,Pt]),ee.useEffect(()=>{J(!0);const He=cs(js(Cr,"clients"),cl("nombres")),Ke=eu(He,Xe=>{h(Xe.docs.map(Ze=>({value:Ze.id,label:`${Ze.data().nombres} ${Ze.data().apellidos} (${Ze.data().identificacion})`,...Ze.data()}))),J(!1)},Xe=>{console.error("Error cargando clientes: ",Xe),_e("Error al cargar clientes."),J(!1)});return()=>Ke()},[]),ee.useEffect(()=>{if(d!=null&&d.value){j(!0),C(null),I(null),w([]);const He=cs(js(Cr,"sales"),np("clienteId","==",d.value),np("tipoPago","==","financiado"),cl("fechaVenta","desc"));Tg(He).then(Ke=>{const Xe=Ke.docs.map(Ze=>({id:Ze.id,...Ze.data()}));w(Xe.filter(Ze=>{var gt;return(gt=Ze.tablaPagos)==null?void 0:gt.some(Mt=>Mt.estado!=="pagada")})),j(!1)}).catch(Ke=>{console.error("Error cargando ventas del cliente: ",Ke),_e("Error al cargar las ventas del cliente."),j(!1)})}else w([]),C(null),I(null)},[d]),ee.useEffect(()=>{var He;if((He=x==null?void 0:x.factorPlazoSeleccionado)!=null&&He.factorPlazoId){oe(!0);const Ke=ds(Cr,"factorPlazos",x.factorPlazoSeleccionado.factorPlazoId);i2(Ke).then(Xe=>{Xe.exists()?I({id:Xe.id,...Xe.data()}):(I(null),console.warn("FactorPlazo document not found for ID:",x.factorPlazoSeleccionado.factorPlazoId))}).catch(Xe=>{console.error("Error cargando factorPlazo:",Xe),I(null)}).finally(()=>oe(!1))}else I(null)},[x]);const qe=He=>{if(!He)return null;let Ke=He;return He.toDate?Ke=He.toDate():He instanceof Date||(Ke=new Date(He)),Ke&&!isNaN(Ke.getTime())?new Date(Date.UTC(Ke.getUTCFullYear(),Ke.getUTCMonth(),Ke.getUTCDate())):(console.warn("normalizeDate recibi fecha invlida:",He),null)},ce=(He,Ke={day:"2-digit",month:"short",year:"numeric",timeZone:"UTC"})=>{const Xe=qe(He);return Xe?Xe.toLocaleDateString("es-EC",Ke):"Fecha Inv."},kt=ee.useCallback(()=>{var mn;if(!H||!x)return;const He=parseFloat(H.valorCuota)||0,Ke=parseFloat(H.montoAcumuladoPagado)||0;let Xe=Math.max(0,He-Ke),Ze=!1,gt=!1,Mt=0;if(H.cuotaNumero===((mn=x.tablaPagos)==null?void 0:mn.length)&&(k!=null&&k.ultimaCuotaGratis)&&!H.fueCuotaGratisAplicada&&Xe>0){let ue=!0;for(let me=0;me<x.tablaPagos.length-1;me++){const ye=x.tablaPagos[me];if(ye.estado!=="pagada"){ue=!1;break}const Ge=ye.pagos&&ye.pagos.length>0?ye.pagos[ye.pagos.length-1]:null;if(Ge){const at=qe(ye.fechaVencimiento),Ce=qe(Ge.fechaPago);if(!at||!Ce){ue=!1;break}if((Ce.getTime()-at.getTime())/(1e3*60*60*24)>pS){ue=!1;break}}else{ue=!1;break}}ue&&(Ze=!0,Xe=0)}const Bt=qe(H.fechaVencimiento),pt=qe(K);Bt&&pt&&Xe>0&&(pt.getTime()-Bt.getTime())/864e5>pS&&(gt=!0,Mt=KV),Q(gt),D(gt?Mt.toFixed(2):"0.00"),he(Ze)},[H,x,k,K]);ee.useEffect(()=>{if(N&&H){const He=parseFloat(H.valorCuota)||0,Ke=parseFloat(H.montoAcumuladoPagado)||0;let Xe=Math.max(0,He-Ke);B&&(Xe=0);const Ze=parseFloat(O)||0,gt=Xe+Ze;ie(gt),fe(gt>0?gt.toFixed(2):"0.00")}},[N,H,B,O]),ee.useEffect(()=>{N&&H&&x&&kt()},[N,K,H,x,k,kt]);const Nt=(He,Ke)=>{C(He),re(Ke);const Xe=new Date().toISOString().split("T")[0];ge(Xe),P(""),D("0.00"),_e(""),lt(""),M(!0)},Je=He=>{var pi;const{sale:Ke,paidInstallmentInfo:Xe,client:Ze,cashierEmail:gt,amountPaidThisTx:Mt,penaltyPaidThisTx:St,isFreeThisTx:Bt,balanceBeforeThisTxOnInst:pt,balanceAfterThisTxOnInst:mn}=He;if(!s){_e("Logo no cargado. Intente reimprimir.");return}const ue=e||jm,me=new $t({orientation:"portrait",unit:"mm",format:"a4"}),ye=me.internal.pageSize.getWidth(),Ge=145,at=10;let Ce=at;const Et=ye-at*2,Ee=4.5,mt=3.5,jt=6,It=20;me.setFillColor(Ln.black),me.rect(0,0,ye,It,"F");const vt=35;let Lt=15;try{const jn=new Image;jn.src=ue,jn.width>0&&jn.height>0?(Lt=vt*jn.height/jn.width,Lt>It-4&&(Lt=It-4)):ue===jm&&(Lt=Math.min(vt,It-4)),ue&&me.addImage(ue,"PNG",at,(It-Lt)/2,vt,Lt)}catch(jn){console.error("Error adding logo to PDF:",jn)}const hn=at+vt+8,Ht=ye-hn-at;me.setFontSize(16),me.setFont("helvetica","bold"),me.setTextColor(Ln.yellowAccent),me.text(Kc.name.toUpperCase(),hn,at-2,{maxWidth:Ht,align:"left"}),me.setFontSize(7),me.setFont("helvetica","normal"),me.setTextColor(Ln.white),me.text(Kc.slogan,hn,at+2,{maxWidth:Ht,align:"left"}),me.text(`RUC: ${Kc.ruc}`,hn,at+2+mt,{maxWidth:Ht,align:"left"}),Ce=It+jt,me.setFontSize(14),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray);const nr=Xe.pagos&&Xe.pagos.length>0?Xe.pagos[Xe.pagos.length-1].transactionId||`TX-${Date.now().toString().slice(-5)}`:`TX-${Date.now().toString().slice(-5)}`,Ir=`CP-${Ke.id.slice(-4)}-${Xe.cuotaNumero}-${nr.slice(-4)}`;me.text(`COMPROBANTE DE PAGO N ${Ir}`,at,Ce),Ce+=Ee*1.5,me.setFontSize(8),me.setFont("helvetica","normal"),me.setTextColor(Ln.mediumGray);let At=`${Kc.defaultBranch}, ${ce(new Date,{day:"numeric",month:"long",year:"numeric"})}`;me.text(At,ye-at,Ce,{align:"right"}),Ce+=Ee,me.text(`Cajero: ${gt||"N/A"}`,ye-at,Ce,{align:"right"}),Ce+=jt,Ce=Tf(me,Ce,at,ye,Ln.lightGray,.3)+jt/2,me.setFontSize(9),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),me.text("CLIENTE:",at,Ce),Ce+=Ee,me.setFontSize(8),me.setFont("helvetica","normal"),me.setTextColor(Ln.mediumGray);const dn=at+28;me.text("Nombre/Razn Social:",at,Ce),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),me.text(`${Ze!=null&&Ze.label?Ze.label.substring(0,Ze.label.lastIndexOf("(")-1).trim():"N/A"}`,dn,Ce,{maxWidth:Et-28}),Ce+=Ee,me.setFont("helvetica","normal"),me.setTextColor(Ln.mediumGray),me.text("Cdula / RUC:",at,Ce),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),me.text(`${(Ze==null?void 0:Ze.identificacion)||"N/A"}`,dn,Ce),Ce+=Ee,me.setFont("helvetica","normal"),me.setTextColor(Ln.mediumGray),me.text("Telfono:",at,Ce),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),me.text(`${(Ze==null?void 0:Ze.celular)||(Ze==null?void 0:Ze.telefono)||"N/A"}`,dn,Ce),Ce+=jt,Ce=Tf(me,Ce,at,ye,Ln.lightGray,.3)+jt/2,me.setFontSize(9),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),me.text("CONCEPTO:",at,Ce),me.setFontSize(8),me.setFont("helvetica","normal"),me.setTextColor(Ln.darkGray),me.text(`Abono a Cuota N ${Xe.cuotaNumero} de ${((pi=Ke.factorPlazoSeleccionado)==null?void 0:pi.cantidadMes)||Ke.tablaPagos.length}, Venta ID: ${Ke.id}`,at+25,Ce,{maxWidth:Et-25}),Ce+=Ee*1.5;const gn=at,yn=(jn,Sr,lr=!1)=>{me.setFontSize(8),me.setFont("helvetica",lr?"bold":"normal"),me.setTextColor(lr?Ln.black:Ln.mediumGray),me.text(jn,gn,Ce,{align:"left"}),me.setFont("helvetica","bold"),me.setTextColor(lr?Ln.black:Ln.darkGray),me.text(`$${Sr.toFixed(2)}`,ye-at,Ce,{align:"right"}),Ce+=lr?Ee*1.2:Ee};if(yn("Valor Original Cuota (Capital):",parseFloat(Xe.valorCuota)||0),yn("Saldo Anterior esta Cuota:",pt),St>0&&(me.setTextColor(Ln.redText),yn("Multa Aplicada:",St),me.setTextColor(Ln.darkGray)),Bt&&(me.setTextColor(Ln.greenText),yn("Aplicada como GRATIS:",0),me.setTextColor(Ln.darkGray)),Ce=Tf(me,Ce,gn,ye-at,Ln.mediumGray,.1)+1,yn("TOTAL ABONADO:",Mt,!0),Ce+=1,yn("Nuevo Saldo esta Cuota:",mn),Xe.pagos&&Xe.pagos.length>0){const jn=Xe.pagos[Xe.pagos.length-1].referencia;jn&&(me.setFontSize(7),me.setFont("helvetica","italic"),me.setTextColor(Ln.mediumGray),me.text(`Ref. Pago: ${jn}`,at,Ce,{maxWidth:Et}),Ce+=Ee)}Ce+=jt/2,Ce=Tf(me,Ce,at,ye,Ln.lightGray,.3)+jt/2;let On=0;Ke.tablaPagos.forEach(jn=>{jn.estado!=="pagada"&&(On+=Math.max(0,(parseFloat(jn.valorCuota)||0)-(parseFloat(jn.montoAcumuladoPagado)||0)))}),Ce=Math.min(Ce,Ge-38),me.setFontSize(7),me.setTextColor(Ln.greenText),me.setFont("helvetica","bold");let Tn="EL PAGO PUNTUAL";me.text(Tn,at,Ce);let fi=me.getTextWidth(Tn+" ");me.setFont("helvetica","normal"),me.setTextColor(Ln.darkGray),me.text("de tu credito te permite:",at+fi,Ce,{maxWidth:Et-fi}),Ce+=mt,me.setFontSize(6.5);const yr=me.splitTextToSize("Mantener un buen historial crediticio, Acceder a proximos creditos, Evitar recargos por mora.",Et);me.text(yr,at,Ce),Ce+=yr.length*2.5+mt,me.setFontSize(7),me.setFont("helvetica","bold"),me.setTextColor(Ln.darkGray),Tn="TU COMPROMISO Y RESPONSABILIDAD",me.text(Tn,at,Ce),fi=me.getTextWidth(Tn+" "),me.setFont("helvetica","normal"),me.setTextColor(Ln.darkGray),me.text("nos permite apoyar a mas personas.",at+fi,Ce,{maxWidth:Et-fi}),Ce+=jt,Ce=Ge-22,me.setFontSize(8),me.setTextColor(Ln.darkGray);const rr="____________________________________",fr=me.getTextWidth(rr),Mn=at+Et/4;me.text(rr,Mn-fr/2,Ce),me.text("Firma Cliente",Mn,Ce+Ee,{align:"center"});const bn=at+Et*3/4;me.text(rr,bn-fr/2,Ce),me.text("Recibido Por",bn,Ce+Ee,{align:"center"}),Ce=Ge-at+2,me.setFontSize(6.5),me.setTextColor(Ln.mediumGray),Tf(me,Ge-7,at,ye,Ln.lightGray,.1),me.text(`${Kc.address} | Tel: ${Kc.phone} | Email: ${Kc.email}`,ye/2,Ge-4,{align:"center",maxWidth:Et}),me.autoPrint({variant:"non-conform"}),window.open(me.output("bloburl"),"_blank")},dt=async He=>{He.preventDefault();const Ke=parseFloat(pe),Xe=parseFloat(O)||0;if(!x||!H){_e("Seleccin invlida.");return}if(!s){_e("Logo est cargando, por favor espere.");return}if(isNaN(Ke)){_e("Monto a pagar es invlido.");return}if(be>0&&Ke<=0){_e("Monto a pagar debe ser mayor a cero si hay saldo.");return}if(Ke>be+.001&&be>0){_e(`Monto (${Ke.toFixed(2)}) excede saldo de cuota + multa (${be.toFixed(2)}).`);return}if(be<=0&&Ke>0){_e("Esta cuota ya no tiene saldo pendiente o es gratis. Solo se puede registrar pago de $0.");return}ne(!0),_e(""),lt("");const Ze=ds(Cr,"sales",x.id);try{const gt=await i2(Ze);if(!gt.exists())throw new Error("La venta no fue encontrada.");const Mt=gt.data(),St=Mt.tablaPagos.find(vt=>vt.cuotaNumero===H.cuotaNumero);if(!St)throw new Error("Cuota no encontrada en datos de la venta.");const Bt=parseFloat(St.montoAcumuladoPagado)||0,pt=parseFloat(St.valorCuota)||0,mn=B,ue=Math.max(0,Ke-Xe);let me=Bt+ue,ye=St.estado;const Ge=mn?0:pt;me>=Ge-.001?(ye="pagada",me=Ge):me>0?ye="parcialmente_pagada":me<=0&&Ge<=0&&(ye="pagada");const at={transactionId:`TXN-${Date.now()}`,fechaPago:qe(K),montoPagadoTransaccion:Ke,multaPagadaEnTransaccion:Xe,capitalAbonadoEnTransaccion:ue,referencia:V||null,fueCuotaGratisAplicadaEnTx:mn,cajero:(n==null?void 0:n.email)||"Sistema"},Ce={...St,estado:ye,montoAcumuladoPagado:me,pagos:[...St.pagos||[],at],...mn&&{fueCuotaGratisAplicada:!0}},Et=Mt.tablaPagos.map(vt=>vt.cuotaNumero===H.cuotaNumero?Ce:vt);await wp(Ze,{tablaPagos:Et});const mt=pt-Bt+(U&&!B?Xe:0),jt={sale:{...Mt,id:x.id,tablaPagos:Et},paidInstallmentInfo:Ce,client:d,cashierEmail:n==null?void 0:n.email,amountPaidThisTx:Ke,penaltyPaidThisTx:Xe,isFreeThisTx:mn,balanceBeforeThisTxOnInst:mt,balanceAfterThisTxOnInst:Math.max(0,mt-Ke)};Je(jt),lt(`Pago de $${Ke.toFixed(2)} a cuota N ${H.cuotaNumero} registrado! Comprobante generado.`),M(!1);const It={...Mt,id:x.id,tablaPagos:Et};C(It),w(vt=>vt.map(Lt=>Lt.id===x.id?It:Lt).filter(Lt=>{var hn;return(hn=Lt.tablaPagos)==null?void 0:hn.some(Ht=>Ht.estado!=="pagada")}))}catch(gt){console.error("Error registrando pago:",gt),_e(`Error al registrar el pago: ${gt.message}`)}finally{ne(!1)}},yt=({sale:He})=>He?A.jsxs("div",{className:"mt-6 p-4 border border-ui-border-light dark:border-ui-border-dark rounded-md bg-form-bg-light dark:bg-form-bg-dark",children:[A.jsxs("h3",{className:"text-lg font-semibold mb-3 text-text-dark dark:text-text-light flex items-center gap-2",children:[A.jsx(jO,{})," Historial Detallado - Venta ID: ",A.jsx("span",{className:"font-mono text-sm",children:He.id})]}),He.tablaPagos&&He.tablaPagos.length>0?A.jsx("div",{className:"space-y-3",children:He.tablaPagos.map(Ke=>{var Xe;return A.jsxs("div",{className:"p-2.5 border border-ui-border-light/70 dark:border-ui-border-dark/70 rounded-md bg-neutral-50 dark:bg-primary-light/5",children:[A.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[A.jsxs("p",{className:"text-sm font-semibold",children:["Cuota ",Ke.cuotaNumero,": $",Ke.valorCuota.toFixed(2),A.jsxs("span",{className:"text-xs text-text-muted-light dark:text-text-muted-dark ml-2",children:["(Vence: ",ce(Ke.fechaVencimiento),")"]})]}),A.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium capitalize ${Ke.estado==="pagada"?"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300":Ke.estado==="parcialmente_pagada"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"}`,children:[(Xe=Ke.estado)==null?void 0:Xe.replace("_"," ")," ",Ke.fueCuotaGratisAplicada?"(Gratis)":""]})]}),A.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mb-1",children:["Pagado Capital: ",A.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",(Ke.montoAcumuladoPagado||0).toFixed(2)]})]}),Ke.pagos&&Ke.pagos.length>0?A.jsx("ul",{className:"text-xs list-disc list-inside pl-2 space-y-0.5 max-h-32 overflow-y-auto",children:Ke.pagos.map(Ze=>A.jsxs("li",{className:"text-text-muted-light dark:text-text-muted-dark",children:[ce(Ze.fechaPago),": Abono $",Ze.montoPagadoTransaccion.toFixed(2),Ze.multaPagadaEnTransaccion>0?` (incl. multa $${Ze.multaPagadaEnTransaccion.toFixed(2)})`:"",".",Ze.referencia?` Ref: ${Ze.referencia}`:"",Ze.fueCuotaGratisAplicadaEnTx?" (Aplicada Gratis)":""]},Ze.transactionId))}):A.jsx("p",{className:"text-xs italic text-text-muted-light dark:text-text-muted-dark",children:"Sin transacciones de pago registradas para esta cuota."})]},Ke.cuotaNumero)})}):A.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:"No hay plan de pagos detallado para esta venta."})]}):null,bt=({sale:He})=>{if(!He||!He.tablaPagos)return A.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:"Seleccione una venta para ver el cronograma."});const Ke=He.tablaPagos.every(Xe=>Xe.estado==="pagada");return A.jsxs("div",{className:"mt-4 p-4 border border-ui-border-light dark:border-ui-border-dark rounded-md",children:[A.jsxs("h4",{className:"text-md font-semibold mb-1",children:["Cronograma Resumido - Venta ID: ",A.jsx("span",{className:"font-mono text-xs",children:He.id})]}),le&&A.jsx("p",{className:"text-xs text-blue-500",children:"Cargando info de financiacin..."}),Ke&&He.tablaPagos.length>0&&A.jsxs("p",{className:"text-green-600 dark:text-green-400 my-2 text-sm",children:[A.jsx(s_,{className:"inline mr-1"}),"Todas las cuotas de este crdito han sido canceladas!"]}),He.tablaPagos.length===0&&A.jsx("p",{className:"my-2 text-text-muted-light dark:text-text-muted-dark text-sm",children:"No hay plan de pagos para esta venta."}),He.tablaPagos.length>0&&A.jsx("div",{className:"overflow-x-auto max-h-96",children:A.jsxs("table",{className:"w-full text-xs",children:[A.jsx("thead",{className:"bg-neutral-100 dark:bg-primary-light/10 uppercase",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-2 py-2 text-center",children:"N"}),A.jsx("th",{className:"px-2 py-2 text-left",children:"Vencimiento"}),A.jsx("th",{className:"px-2 py-2 text-right",children:"Valor Orig."}),A.jsx("th",{className:"px-2 py-2 text-right",children:"Total Pagado (Capital)"}),A.jsx("th",{className:"px-2 py-2 text-right",children:"Saldo Capital"}),A.jsx("th",{className:"px-2 py-2 text-center",children:"Estado"}),A.jsx("th",{className:"px-2 py-2 text-center",children:"Accin"})]})}),A.jsx("tbody",{className:"text-text-dark dark:text-text-light",children:He.tablaPagos.map(Xe=>{var St,Bt;const Ze=parseFloat(Xe.valorCuota)||0,gt=parseFloat(Xe.montoAcumuladoPagado)||0,Mt=Math.max(0,Ze-gt);return A.jsxs("tr",{className:`border-b border-ui-border-light dark:border-ui-border-dark ${Xe.estado==="pagada"?"bg-green-50 dark:bg-green-800/20 opacity-80":Xe.estado==="parcialmente_pagada"?"bg-yellow-50 dark:bg-yellow-700/20":"hover:bg-neutral-50 dark:hover:bg-primary-light/5"}`,children:[A.jsx("td",{className:"px-2 py-1.5 text-center",children:Xe.cuotaNumero}),A.jsx("td",{className:"px-2 py-1.5",children:ce(Xe.fechaVencimiento)}),A.jsxs("td",{className:"px-2 py-1.5 text-right",children:["$",Ze.toFixed(0)]}),A.jsxs("td",{className:"px-2 py-1.5 text-right text-green-600 dark:text-green-400",children:["$",gt.toFixed(2)]}),A.jsxs("td",{className:"px-2 py-1.5 text-right font-semibold text-red-600 dark:text-red-400",children:["$",Mt.toFixed(2)]}),A.jsx("td",{className:"px-2 py-1.5 text-center capitalize",children:A.jsxs("span",{className:`px-2 py-0.5 text-[10px] rounded-full ${Xe.estado==="pagada"?"bg-green-200 text-green-800 dark:bg-green-700 dark:text-green-100":Xe.estado==="parcialmente_pagada"?"bg-yellow-200 text-yellow-800 dark:bg-yellow-600 dark:text-yellow-100":"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-100"}`,children:[((St=Xe.estado)==null?void 0:St.replace("_"," "))||"pendiente"," ",Xe.fueCuotaGratisAplicada?"(Gratis Aplicada)":""]})}),A.jsxs("td",{className:"px-2 py-1.5 text-center",children:[Xe.estado!=="pagada"&&A.jsx("button",{onClick:()=>Nt(He,Xe),className:"px-2 py-1 text-xs bg-secondary text-renatto-dark font-medium rounded hover:bg-secondary-dark transition-colors disabled:opacity-50",disabled:G||le||!s,children:s?"Abonar":"Cargando..."}),((Bt=Xe.pagos)==null?void 0:Bt.length)>0&&s&&A.jsxs("button",{onClick:()=>{const pt=Xe.pagos[Xe.pagos.length-1],mn=pt.montoPagadoTransaccion,ue=pt.multaPagadaEnTransaccion,me=pt.fueCuotaGratisAplicadaEnTx,ye=pt.capitalAbonadoEnTransaccion!==void 0?pt.capitalAbonadoEnTransaccion:mn-ue,Ge=(Xe.montoAcumuladoPagado||0)-ye,Ce=Ze-Ge+ue,Et={sale:{...He,id:He.id,tablaPagos:He.tablaPagos},paidInstallmentInfo:{...Xe,pagos:Xe.pagos},client:d,cashierEmail:pt.cajero||(n==null?void 0:n.email),amountPaidThisTx:mn,penaltyPaidThisTx:ue,isFreeThisTx:me,balanceBeforeThisTxOnInst:Ce,balanceAfterThisTxOnInst:Math.max(0,Ce-mn)};Je(Et)},className:"ml-1 p-1 text-xs text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"Reimprimir ltimo Comprobante de esta Cuota",children:[" ",A.jsx($O,{size:12})," "]})]})]},Xe.cuotaNumero)})})]})})]})};return A.jsxs("div",{className:"animate-fade-in p-0 md:p-2",children:[A.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:A.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-text-dark dark:text-text-light flex items-center gap-3",children:[A.jsx(LA,{className:"text-secondary"})," Procesar Pagos y Abonos"]})}),(Ne||r)&&A.jsxs("div",{className:"mb-4 p-3.5 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700/50 rounded-lg flex items-center gap-3 text-sm text-red-700 dark:text-red-300 animate-fade-in",children:[A.jsx(Id,{size:18})," ",A.jsx("span",{children:Ne||r})]}),Oe&&A.jsxs("div",{className:"mb-4 p-3.5 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700/50 rounded-lg flex items-center gap-3 text-sm text-green-700 dark:text-green-300 animate-fade-in",children:[A.jsx(cu,{size:18})," ",A.jsx("span",{children:Oe})]}),A.jsxs("div",{className:"mb-6 p-4 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("label",{htmlFor:"client-payment-select",className:"block text-sm font-medium text-text-dark dark:text-text-light mb-1.5 flex items-center gap-2",children:[A.jsx(yd,{})," Seleccionar Cliente"]}),A.jsx(Jy,{options:c,value:d,onChange:He=>{g(He),C(null)},placeholder:Le?"Cargando clientes...":"Buscar cliente por nombre o identificacin...",isClearable:!0,isLoading:Le,isDisabled:Le,classNamePrefix:"react-select"})]}),d&&ke&&A.jsxs("div",{className:"flex justify-center items-center py-6",children:[A.jsx(Fa,{className:"animate-spin text-2xl text-secondary"})," ",A.jsx("p",{className:"ml-2 text-text-muted-light dark:text-text-muted-dark",children:"Cargando crditos..."})]}),d&&!ke&&b.length===0&&A.jsx("p",{className:"text-center text-green-600 dark:text-green-400 py-4",children:"Este cliente no tiene crditos con cuotas pendientes!"}),d&&!ke&&!b.length&&!x&&A.jsx("p",{className:"text-center text-text-muted-light dark:text-text-muted-dark py-4",children:"Seleccione un crdito activo (si existe) o revise el historial detallado si es necesario."}),d&&!ke&&b.length>0&&A.jsxs("div",{className:"mb-6 p-4 bg-form-bg-light dark:bg-form-bg-dark rounded-lg shadow border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("h3",{className:"text-lg font-semibold mb-3 text-text-dark dark:text-text-light",children:["Crditos Activos de ",d.label.substring(0,d.label.lastIndexOf("(")-1).trim()," (Con Saldo Pendiente)"]}),A.jsx("ul",{className:"space-y-2",children:b.map(He=>{var Ke,Xe,Ze;return A.jsxs("li",{className:`p-3 rounded-md border cursor-pointer transition-all 
                            ${(x==null?void 0:x.id)===He.id?"bg-secondary/20 border-secondary dark:bg-secondary/30 shadow-md":"bg-neutral-50 dark:bg-primary-light/5 border-ui-border-light dark:border-ui-border-dark hover:border-secondary/70 dark:hover:border-secondary/70"}`,onClick:()=>C(He),children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("span",{className:"text-sm font-medium",children:["Venta ID: ",A.jsx("span",{className:"font-mono text-xs",children:He.id})]}),A.jsxs("span",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:["Fecha Venta: ",ce(He.fechaVenta,{day:"2-digit",month:"2-digit",year:"2-digit"})]})]}),A.jsxs("div",{className:"text-xs mt-1",children:["Total Crdito: $",(Ke=He.totalVenta)==null?void 0:Ke.toFixed(2)," | Cuotas: ",(Xe=He.factorPlazoSeleccionado)==null?void 0:Xe.cantidadMes," de ~$$",(Ze=He.valorCuota)==null?void 0:Ze.toFixed(0)]})]},He.id)})})]}),x&&A.jsx(bt,{sale:x}),x&&A.jsx(yt,{sale:x}),N&&x&&H&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:A.jsxs("form",{onSubmit:dt,className:"bg-form-bg-light dark:bg-form-bg-dark p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg space-y-3 border border-ui-border-light dark:border-ui-border-dark",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("h4",{className:"text-lg font-semibold text-text-dark dark:text-text-light",children:["Abono a Cuota N ",H.cuotaNumero]}),A.jsx("button",{type:"button",onClick:()=>M(!1),className:"p-1 text-text-muted-light dark:text-text-muted-dark hover:text-secondary",children:A.jsx(dh,{size:20})})]}),A.jsxs("p",{className:"text-xs sm:text-sm",children:["Venta ID: ",A.jsx("span",{className:"font-mono",children:x.id})]}),A.jsxs("p",{className:"text-xs sm:text-sm",children:["Cliente: ",x.clienteNombre]}),A.jsxs("p",{className:"text-xs sm:text-sm",children:["Vencimiento Original Cuota: ",ce(H.fechaVencimiento)]}),A.jsxs("div",{className:"mt-3 pt-3 border-t border-ui-border-light dark:border-ui-border-dark space-y-1 text-sm",children:[A.jsxs("p",{children:["Valor Original Total Cuota: ",A.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(H.valorCuota)||0).toFixed(2)]})]}),A.jsxs("p",{children:["Pagado Anteriormente en esta Cuota (Capital): ",A.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(H.montoAcumuladoPagado)||0).toFixed(2)]})]}),B&&A.jsxs("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:[A.jsx(s_,{className:"inline mr-1"}),"Saldo de esta cuota es GRATIS por puntualidad!"]}),U&&!B&&A.jsxs("div",{children:[A.jsx("label",{htmlFor:"inputAppliedPenalty",className:"block text-xs font-medium text-red-500 dark:text-red-400",children:"Multa por Atraso (Editable):"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400 dark:text-gray-500 sm:text-sm",children:"$"}),A.jsx("input",{type:"number",id:"inputAppliedPenalty",value:O,onChange:He=>D(He.target.value),step:"0.01",min:"0",className:`${rt} pl-7 ${ht} ${ft} text-red-600 dark:text-red-400`})]})]}),A.jsxs("p",{className:"text-md font-bold mt-1",children:["SALDO TOTAL A PAGAR HOY (Capital + Multa): ",A.jsxs("span",{className:"text-secondary",children:["$",be.toFixed(2)]})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentAmountInput",className:"block text-sm font-medium mb-1",children:"Monto a Pagar Hoy*"}),A.jsxs("div",{className:"relative",children:[A.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400 dark:text-gray-500 sm:text-sm",children:"$"}),A.jsx("input",{type:"number",id:"paymentAmountInput",value:pe,onChange:He=>fe(He.target.value),min:be>0?"0.01":"0.00",step:"0.01",max:be>0?be.toFixed(2):"0.00",required:be>0,disabled:be<=0&&pe!=="0.00",className:`${rt} pl-7 ${ht} ${ft}`})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentDateModal",className:"block text-sm font-medium mb-1",children:"Fecha de Pago*"}),A.jsx("input",{type:"date",id:"paymentDateModal",value:K,onChange:He=>ge(He.target.value),required:!0,className:`${rt} ${ht} ${ft}`})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentReferenceModal",className:"block text-sm font-medium mb-1",children:"Referencia (Opcional)"}),A.jsx("input",{type:"text",id:"paymentReferenceModal",value:V,onChange:He=>P(He.target.value),className:`${rt} ${ht} ${ft}`,placeholder:"Ej: Depsito #456, Abono Caja"})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[A.jsx("button",{type:"button",onClick:()=>M(!1),disabled:G,className:"px-4 py-2 text-sm rounded-md text-text-muted-light dark:text-text-muted-dark hover:bg-neutral-100 dark:hover:bg-primary-light/20",children:"Cancelar"}),A.jsxs("button",{type:"submit",disabled:G||!s||be<=0&&pe!=="0.00"&&pe!=="0",className:"flex items-center justify-center gap-2 px-4 py-2 text-sm bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 shadow hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed",children:[G?A.jsx(Fa,{className:"animate-spin"}):A.jsx(PO,{}),s?be<=0&&parseFloat(pe)===0?"Confirmar (Gratis/Saldado)":"Confirmar Pago":"Cargando..."]})]})]})})]})},QV=()=>{const[n,e]=ee.useState(null),[t,r]=ee.useState(!0),[i,s]=ee.useState(()=>localStorage.getItem("theme")==="dark");ee.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),ee.useEffect(()=>{const h=tP(uu,d=>{e(d),r(!1)});return()=>h()},[]);const l=()=>{s(h=>!h)};if(t)return A.jsx("div",{className:`min-h-screen flex items-center justify-center ${i?"bg-background-dark":"bg-background-light"}`,children:A.jsx("div",{className:"text-2xl text-text-dark dark:text-text-light font-semibold",children:"Cargando Renatto's Almacenes..."})});const c=({children:h})=>n?h:A.jsx(Nf,{to:"/login",replace:!0});return A.jsx(jC,{children:A.jsx(eD,{darkMode:i,toggleDarkMode:l,children:A.jsxs(fC,{children:[A.jsx(Ms,{path:"/login",element:n?A.jsx(Nf,{to:"/dashboard",replace:!0}):A.jsx(aD,{})}),A.jsxs(Ms,{path:"/dashboard/*",element:A.jsx(c,{children:A.jsx(rD,{user:n})}),children:[A.jsx(Ms,{index:!0,element:A.jsx(sD,{user:n})})," ",A.jsx(Ms,{path:"clients",element:A.jsx(lD,{user:n})})," ",A.jsx(Ms,{path:"categories",element:A.jsx(hD,{})})," ",A.jsx(Ms,{path:"products",element:A.jsx(cD,{})})," ",A.jsx(Ms,{path:"factor-plazo",element:A.jsx(dD,{})}),A.jsx(Ms,{path:"sales",element:A.jsx(YV,{})}),A.jsx(Ms,{path:"process-payments",element:A.jsx(XV,{})}),A.jsx(Ms,{path:"*",element:A.jsx(Nf,{to:"/dashboard",replace:!0})})," "]}),A.jsx(Ms,{path:"*",element:A.jsx(Nf,{to:n?"/dashboard":"/login",replace:!0})})," "]})})})};bN.createRoot(document.getElementById("root")).render(A.jsx(ee.StrictMode,{children:A.jsx(QV,{})}));export{Of as _,JV as c,cN as g};
